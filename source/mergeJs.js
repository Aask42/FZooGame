var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }();

function __extends(t, e) {
    for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i]);

    function r() {
        this.constructor = t
    }
    r.prototype = e.prototype, t.prototype = new r
}
var __define = this.__define || function (t, e, i, r) {
        Object.defineProperty(t, e, {
            configurable: !0,
            enumerable: !0,
            get: i,
            set: r
        })
    },
    egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret;
! function (t) {
    t.$hashCount = 1;
    var e = (Object.defineProperty(i.prototype, "hashCode", {
        get: function () {
            return this.$hashCode
        },
        enumerable: !0,
        configurable: !0
    }), i);

    function i() {
        this.$hashCode = t.$hashCount++
    }
    t.HashObject = e, __reflect(e.prototype, "egret.HashObject", ["egret.IHashObject"])
}(egret = egret || {}),
function (t) {
    var o, e = [],
        i = (o = t.HashObject, __extends(r, o), r.release = function (t) {
            t && e.push(t)
        }, r.create = function () {
            return e.pop() || new r
        }, Object.defineProperty(r.prototype, "right", {
            get: function () {
                return this.x + this.width
            },
            set: function (t) {
                this.width = t - this.x
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "bottom", {
            get: function () {
                return this.y + this.height
            },
            set: function (t) {
                this.height = t - this.y
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "left", {
            get: function () {
                return this.x
            },
            set: function (t) {
                this.width += this.x - t, this.x = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "top", {
            get: function () {
                return this.y
            },
            set: function (t) {
                this.height += this.y - t, this.y = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "topLeft", {
            get: function () {
                return new t.Point(this.left, this.top)
            },
            set: function (t) {
                this.top = t.y, this.left = t.x
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "bottomRight", {
            get: function () {
                return new t.Point(this.right, this.bottom)
            },
            set: function (t) {
                this.bottom = t.y, this.right = t.x
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.copyFrom = function (t) {
            return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this
        }, r.prototype.setTo = function (t, e, i, r) {
            return this.x = t, this.y = e, this.width = i, this.height = r, this
        }, r.prototype.contains = function (t, e) {
            return this.x <= t && this.x + this.width >= t && this.y <= e && this.y + this.height >= e
        }, r.prototype.intersection = function (t) {
            return this.clone().$intersectInPlace(t)
        }, r.prototype.inflate = function (t, e) {
            this.x -= t, this.width += 2 * t, this.y -= e, this.height += 2 * e
        }, r.prototype.$intersectInPlace = function (t) {
            var e = this.x,
                i = this.y,
                r = t.x,
                n = t.y,
                o = Math.max(e, r),
                e = Math.min(e + this.width, r + t.width);
            if (o <= e) {
                r = Math.max(i, n), t = Math.min(i + this.height, n + t.height);
                if (r <= t) return this.setTo(o, r, e - o, t - r), this
            }
            return this.setEmpty(), this
        }, r.prototype.intersects = function (t) {
            return Math.max(this.x, t.x) <= Math.min(this.right, t.right) && Math.max(this.y, t.y) <= Math.min(this.bottom, t.bottom)
        }, r.prototype.isEmpty = function () {
            return this.width <= 0 || this.height <= 0
        }, r.prototype.setEmpty = function () {
            this.x = 0, this.y = 0, this.width = 0, this.height = 0
        }, r.prototype.clone = function () {
            return new r(this.x, this.y, this.width, this.height)
        }, r.prototype.containsPoint = function (t) {
            return this.x <= t.x && this.x + this.width > t.x && this.y <= t.y && this.y + this.height > t.y
        }, r.prototype.containsRect = function (t) {
            var e = t.x + t.width,
                i = t.y + t.height,
                r = this.x + this.width,
                n = this.y + this.height;
            return t.x >= this.x && t.x < r && t.y >= this.y && t.y < n && e > this.x && e <= r && i > this.y && i <= n
        }, r.prototype.equals = function (t) {
            return this === t || this.x === t.x && this.y === t.y && this.width === t.width && this.height === t.height
        }, r.prototype.inflatePoint = function (t) {
            this.inflate(t.x, t.y)
        }, r.prototype.offset = function (t, e) {
            this.x += t, this.y += e
        }, r.prototype.offsetPoint = function (t) {
            this.offset(t.x, t.y)
        }, r.prototype.toString = function () {
            return "(x=" + this.x + ", y=" + this.y + ", width=" + this.width + ", height=" + this.height + ")"
        }, r.prototype.union = function (t) {
            var e = this.clone();
            if (t.isEmpty()) return e;
            if (e.isEmpty()) return e.copyFrom(t), e;
            var i = Math.min(e.x, t.x),
                r = Math.min(e.y, t.y);
            return e.setTo(i, r, Math.max(e.right, t.right) - i, Math.max(e.bottom, t.bottom) - r), e
        }, r.prototype.$getBaseWidth = function (t) {
            var e = Math.abs(Math.cos(t)),
                t = Math.abs(Math.sin(t));
            return e * this.width + t * this.height
        }, r.prototype.$getBaseHeight = function (t) {
            var e = Math.abs(Math.cos(t));
            return Math.abs(Math.sin(t)) * this.width + e * this.height
        }, r);

    function r(t, e, i, r) {
        void 0 === t && (t = 0), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === r && (r = 0);
        var n = o.call(this) || this;
        return n.x = t, n.y = e, n.width = i, n.height = r, n
    }
    t.Rectangle = i, __reflect(i.prototype, "egret.Rectangle"), t.$TempRectangle = new i
}(egret = egret || {}),
function (l) {
    var i, h = [],
        t = (i = l.HashObject, __extends(e, i), e.prototype.$getEventMap = function (t) {
            var e = this.$EventDispatcher;
            return t ? e[2] : e[1]
        }, e.prototype.addEventListener = function (t, e, i, r, n) {
            this.$addListener(t, e, i, r, n)
        }, e.prototype.once = function (t, e, i, r, n) {
            this.$addListener(t, e, i, r, n, !0)
        }, e.prototype.$addListener = function (t, e, i, r, n, o) {
            e || l.$error(1003, "listener");
            var s = this.$EventDispatcher,
                a = r ? s[2] : s[1],
                h = a[t];
            h ? 0 !== s[3] && (a[t] = h = h.concat()) : h = a[t] = [], this.$insertEventBin(h, t, e, i, r, n, o)
        }, e.prototype.$insertEventBin = function (t, e, i, r, n, o, s) {
            o = 0 | +o;
            for (var a = -1, h = t.length, l = 0; l < h; l++) {
                var u = t[l];
                if (u.listener == i && u.thisObject == r && u.target == this) return !1; - 1 == a && u.priority < o && (a = l)
            }
            s = {
                type: e,
                listener: i,
                thisObject: r,
                priority: o,
                target: this,
                useCapture: n,
                dispatchOnce: !!s
            };
            return -1 !== a ? t.splice(a, 0, s) : t.push(s), !0
        }, e.prototype.removeEventListener = function (t, e, i, r) {
            var n = this.$EventDispatcher,
                o = r ? n[2] : n[1],
                r = o[t];
            r && (0 !== n[3] && (o[t] = r = r.concat()), this.$removeEventBin(r, e, i), 0 == r.length && (o[t] = null))
        }, e.prototype.$removeEventBin = function (t, e, i) {
            for (var r = t.length, n = 0; n < r; n++) {
                var o = t[n];
                if (o.listener == e && o.thisObject == i && o.target == this) return t.splice(n, 1), !0
            }
            return !1
        }, e.prototype.hasEventListener = function (t) {
            var e = this.$EventDispatcher;
            return !(!e[1][t] && !e[2][t])
        }, e.prototype.willTrigger = function (t) {
            return this.hasEventListener(t)
        }, e.prototype.dispatchEvent = function (t) {
            return t.$currentTarget = this.$EventDispatcher[0], t.$setTarget(t.$currentTarget), this.$notifyListener(t, !1)
        }, e.prototype.$notifyListener = function (t, e) {
            var i = this.$EventDispatcher,
                r = (e ? i[2] : i[1])[t.$type];
            if (!r) return !0;
            var n = r.length;
            if (0 == n) return !0;
            var o = h;
            i[3]++;
            for (var s, a = 0; a < n; a++)
                if ((s = r[a]).listener.call(s.thisObject, t), s.dispatchOnce && o.push(s), t.$isPropagationImmediateStopped) break;
            for (i[3]--; o.length;)(s = o.pop()).target.removeEventListener(s.type, s.listener, s.thisObject, s.useCapture);
            return !t.$isDefaultPrevented
        }, e.prototype.dispatchEventWith = function (t, e, i, r) {
            if (e || this.hasEventListener(t)) {
                r = l.Event.create(l.Event, t, e, r);
                r.data = i;
                i = this.dispatchEvent(r);
                return l.Event.release(r), i
            }
            return !0
        }, e);

    function e(t) {
        void 0 === t && (t = null);
        var e = i.call(this) || this;
        return e.$EventDispatcher = {
            0: t || e,
            1: {},
            2: {},
            3: 0
        }, e
    }
    l.EventDispatcher = t, __reflect(t.prototype, "egret.EventDispatcher", ["egret.IEventDispatcher"])
}(egret = egret || {}),
function (y) {
    function n(t) {
        return 180 < (t %= 360) ? t -= 360 : t < -180 && (t += 360), t
    }
    var s, t = (s = y.EventDispatcher, __extends(a, s), a.prototype.$setFlags = function (t) {
        this.$displayFlags |= t
    }, a.prototype.$removeFlags = function (t) {
        this.$displayFlags &= ~t
    }, a.prototype.$removeFlagsUp = function (t) {
        var e;
        this.$hasAnyFlags(t) && (this.$removeFlags(t), (e = this.$parent) && e.$removeFlagsUp(t))
    }, a.prototype.$hasFlags = function (t) {
        return (this.$displayFlags & t) == t
    }, a.prototype.$propagateFlagsUp = function (t) {
        var e;
        this.$hasFlags(t) || (this.$setFlags(t), (e = this.$parent) && e.$propagateFlagsUp(t))
    }, a.prototype.$propagateFlagsDown = function (t) {
        this.$setFlags(t)
    }, a.prototype.$hasAnyFlags = function (t) {
        return !!(this.$displayFlags & t)
    }, a.prototype.$invalidateMatrix = function () {
        this.$setFlags(8), this.$invalidatePosition()
    }, a.prototype.$invalidatePosition = function () {
        this.$invalidateTransform(), this.$propagateFlagsDown(48), this.$parent && this.$parent.$propagateFlagsUp(4)
    }, Object.defineProperty(a.prototype, "name", {
        get: function () {
            return this.$DisplayObject[5]
        },
        set: function (t) {
            this.$DisplayObject[5] = t
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(a.prototype, "parent", {
        get: function () {
            return this.$parent
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setParent = function (t) {
        return this.$parent != t && (this.$parent = t, !0)
    }, a.prototype.$onAddToStage = function (t, e) {
        this.$stage = t, this.$nestLevel = e, this.$hasAddToStage = !0, y.DisplayObjectContainer.$EVENT_ADD_TO_STAGE_LIST.push(this)
    }, a.prototype.$onRemoveFromStage = function () {
        this.$nestLevel = 0, y.DisplayObjectContainer.$EVENT_REMOVE_FROM_STAGE_LIST.push(this)
    }, Object.defineProperty(a.prototype, "stage", {
        get: function () {
            return this.$stage
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(a.prototype, "matrix", {
        get: function () {
            return this.$getMatrix().clone()
        },
        set: function (t) {
            this.$setMatrix(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getMatrix = function () {
        var t = this.$DisplayObject;
        return this.$hasFlags(8) && (t[6].$updateScaleAndRotation(t[0], t[1], t[2], t[3]), this.$removeFlags(8)), t[6]
    }, a.prototype.$setMatrix = function (t, e) {
        void 0 === e && (e = !0);
        var i = this.$DisplayObject,
            r = i[6];
        return !r.equals(t) && (r.copyFrom(t), e && (i[0] = r.$getScaleX(), i[1] = r.$getScaleY(), i[2] = r.$getSkewX(), i[3] = r.$getSkewY(), i[16] = n(180 * i[2] / Math.PI), i[17] = n(180 * i[3] / Math.PI), i[4] = n(180 * i[3] / Math.PI)), this.$removeFlags(8), this.$invalidatePosition(), !0)
    }, a.prototype.$getConcatenatedMatrix = function () {
        var t, e, i, r = this.$DisplayObject[7];
        return this.$hasFlags(16) && (this.$parent ? this.$parent.$getConcatenatedMatrix().$preMultiplyInto(this.$getMatrix(), r) : r.copyFrom(this.$getMatrix()), t = (i = this.$DisplayObject)[12], e = i[13], (i = this.$scrollRect) ? r.$preMultiplyInto(y.$TempMatrix.setTo(1, 0, 0, 1, -i.x - t, -i.y - e), r) : 0 == t && 0 == e || r.$preMultiplyInto(y.$TempMatrix.setTo(1, 0, 0, 1, -t, -e), r), this.$displayList && (this.$displayList.$renderNode.moved = !0), this.$renderNode && (this.$renderNode.moved = !0), this.$removeFlags(16)), r
    }, a.prototype.$getInvertedConcatenatedMatrix = function () {
        var t = this.$DisplayObject;
        return this.$hasFlags(32) && (this.$getConcatenatedMatrix().$invertInto(t[8]), this.$removeFlags(32)), t[8]
    }, Object.defineProperty(a.prototype, "x", {
        get: function () {
            return this.$getX()
        },
        set: function (t) {
            this.$setX(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getX = function () {
        return this.$DisplayObject[6].tx
    }, a.prototype.$setX = function (t) {
        var e = this.$DisplayObject[6];
        return (t = +t || 0) != e.tx && (e.tx = t, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "y", {
        get: function () {
            return this.$getY()
        },
        set: function (t) {
            this.$setY(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getY = function () {
        return this.$DisplayObject[6].ty
    }, a.prototype.$setY = function (t) {
        var e = this.$DisplayObject[6];
        return (t = +t || 0) != e.ty && (e.ty = t, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "scaleX", {
        get: function () {
            return this.$getScaleX()
        },
        set: function (t) {
            this.$setScaleX(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getScaleX = function () {
        return this.$DisplayObject[0]
    }, a.prototype.$setScaleX = function (t) {
        var e = this.$DisplayObject;
        return (t = +t || 0) != e[0] && (e[0] = t, this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "scaleY", {
        get: function () {
            return this.$getScaleY()
        },
        set: function (t) {
            this.$setScaleY(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getScaleY = function () {
        return this.$DisplayObject[1]
    }, a.prototype.$setScaleY = function (t) {
        return (t = +t || 0) != this.$DisplayObject[1] && (this.$DisplayObject[1] = t, this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "rotation", {
        get: function () {
            return this.$getRotation()
        },
        set: function (t) {
            this.$setRotation(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getRotation = function () {
        return this.$DisplayObject[4]
    }, a.prototype.$setRotation = function (t) {
        t = n(t = +t || 0);
        var e = this.$DisplayObject;
        if (t == e[4]) return !1;
        var i = (t - e[4]) / 180 * Math.PI;
        return e[2] += i, e[3] += i, e[4] = t, this.$invalidateMatrix(), !0
    }, Object.defineProperty(a.prototype, "skewX", {
        get: function () {
            return this.$DisplayObject[16]
        },
        set: function (t) {
            this.$setSkewX(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setSkewX = function (t) {
        var e = this.$DisplayObject;
        return (t = +t || 0) != e[16] && (t = (t = n(e[16] = t)) / 180 * Math.PI, e[2] = t, this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "skewY", {
        get: function () {
            return this.$DisplayObject[17]
        },
        set: function (t) {
            this.$setSkewY(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setSkewY = function (t) {
        var e = this.$DisplayObject;
        return (t = +t || 0) != e[17] && (t = (t = n(e[17] = t)) / 180 * Math.PI, e[3] = t, this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "width", {
        get: function () {
            return this.$getWidth()
        },
        set: function (t) {
            this.$setWidth(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getWidth = function () {
        return isNaN(this.$getExplicitWidth()) ? this.$getOriginalBounds().width : this.$getExplicitWidth()
    }, a.prototype.$getExplicitWidth = function () {
        return this.$DisplayObject[14]
    }, a.prototype.$setWidth = function (t) {
        return this.$DisplayObject[14] = isNaN(t) ? NaN : t, !((t = +t) < 0) && (this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "height", {
        get: function () {
            return this.$getHeight()
        },
        set: function (t) {
            this.$setHeight(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getHeight = function () {
        return isNaN(this.$getExplicitHeight()) ? this.$getOriginalBounds().height : this.$getExplicitHeight()
    }, a.prototype.$getExplicitHeight = function () {
        return this.$DisplayObject[15]
    }, a.prototype.$setHeight = function (t) {
        return this.$DisplayObject[15] = isNaN(t) ? NaN : t, !((t = +t) < 0) && (this.$invalidateMatrix(), !0)
    }, Object.defineProperty(a.prototype, "measuredWidth", {
        get: function () {
            return this.$getOriginalBounds().width
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(a.prototype, "measuredHeight", {
        get: function () {
            return this.$getOriginalBounds().height
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(a.prototype, "anchorOffsetX", {
        get: function () {
            return this.$DisplayObject[12]
        },
        set: function (t) {
            this.$setAnchorOffsetX(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getAnchorOffsetX = function () {
        return this.$DisplayObject[12]
    }, a.prototype.$setAnchorOffsetX = function (t) {
        return (t = +t || 0) != this.$DisplayObject[12] && (this.$DisplayObject[12] = t, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "anchorOffsetY", {
        get: function () {
            return this.$DisplayObject[13]
        },
        set: function (t) {
            this.$setAnchorOffsetY(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getAnchorOffsetY = function () {
        return this.$DisplayObject[13]
    }, a.prototype.$setAnchorOffsetY = function (t) {
        return (t = +t || 0) != this.$DisplayObject[13] && (this.$DisplayObject[13] = t, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "visible", {
        get: function () {
            return this.$visible
        },
        set: function (t) {
            this.$setVisible(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setVisible = function (t) {
        return (t = !!t) != this.$visible && (this.$visible = t, this.$propagateFlagsDown(1024), this.$invalidateTransform(), !0)
    }, a.prototype.$getConcatenatedVisible = function () {
        var t, e = this.$DisplayObject;
        return this.$hasFlags(1024) && (this.$parent ? (t = this.$parent.$getConcatenatedVisible(), e[19] = t && this.$visible) : e[19] = this.$visible, this.$removeFlags(1024)), e[19]
    }, Object.defineProperty(a.prototype, "cacheAsBitmap", {
        get: function () {
            return this.$DisplayObject[11]
        },
        set: function (t) {
            this.$DisplayObject[11] = t = !!t, this.$setHasDisplayList(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setHasDisplayList = function (t) {
        !!this.$displayList != t && (t ? (t = y.sys.DisplayList.create(this)) && (this.$displayList = t, this.$parentDisplayList && this.$parentDisplayList.markDirty(t), this.$cacheAsBitmapChanged()) : (this.$displayList = null, this.$cacheAsBitmapChanged()))
    }, a.prototype.$cacheAsBitmapChanged = function () {
        var t = this.$displayList || this.$parentDisplayList;
        this.$renderNode && t && t.markDirty(this), this.$propagateFlagsDown(48)
    }, Object.defineProperty(a.prototype, "alpha", {
        get: function () {
            return this.$alpha
        },
        set: function (t) {
            this.$setAlpha(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setAlpha = function (t) {
        return (t = +t || 0) != this.$alpha && (this.$alpha = t, this.$propagateFlagsDown(64), this.$invalidate(), !0)
    }, a.prototype.$getConcatenatedAlpha = function () {
        var t, e = this.$DisplayObject;
        return this.$hasFlags(64) && (this.$parent ? (t = this.$parent.$getConcatenatedAlpha(), e[18] = t * this.$alpha) : e[18] = this.$alpha, this.$removeFlags(64)), e[18]
    }, Object.defineProperty(a.prototype, "touchEnabled", {
        get: function () {
            return this.$getTouchEnabled()
        },
        set: function (t) {
            this.$setTouchEnabled(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getTouchEnabled = function () {
        return this.$touchEnabled
    }, a.prototype.$setTouchEnabled = function (t) {
        return this.$touchEnabled != t && (this.$touchEnabled = t, !0)
    }, Object.defineProperty(a.prototype, "scrollRect", {
        get: function () {
            return this.$scrollRect
        },
        set: function (t) {
            this.$setScrollRect(t)
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setScrollRect = function (t) {
        return !(!t && !this.$scrollRect) && (t ? (this.$scrollRect || (this.$scrollRect = new y.Rectangle), this.$scrollRect.copyFrom(t)) : this.$scrollRect = null, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "blendMode", {
        get: function () {
            return y.sys.numberToBlendMode(this.$blendMode)
        },
        set: function (t) {
            t = y.sys.blendModeToNumber(t);
            t != this.$blendMode && (this.$blendMode = t, this.$invalidateTransform())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(a.prototype, "mask", {
        get: function () {
            return this.$mask || this.$maskRect
        },
        set: function (t) {
            if (t !== this) {
                if (t)
                    if (t instanceof a) {
                        if (t == this.$mask) return;
                        t.$maskedObject && (t.$maskedObject.mask = null), t.$maskedObject = this, t.$invalidateTransform(), this.$mask = t, this.$maskRect = null
                    } else this.$setMaskRect(t), this.$mask && (this.$mask.$maskedObject = null, this.$mask.$invalidateTransform()), this.$mask = null;
                else this.$mask && (this.$mask.$maskedObject = null, this.$mask.$invalidateTransform()), this.$mask = null, this.$maskRect = null;
                this.$invalidateTransform()
            }
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$setMaskRect = function (t) {
        return !(!t && !this.$maskRect) && (t ? (this.$maskRect || (this.$maskRect = new y.Rectangle), this.$maskRect.copyFrom(t)) : this.$maskRect = null, this.$invalidatePosition(), !0)
    }, Object.defineProperty(a.prototype, "filters", {
        get: function () {
            return this.$DisplayObject[20]
        },
        set: function (t) {
            var e = this.$DisplayObject[20];
            if (e || t) {
                if (this.$invalidateContentBounds(), this.$invalidate(!0), e && e.length)
                    for (var i = e.length, r = 0; r < i; r++) e[r].$removeTarget(this);
                if ((this.$DisplayObject[20] = t) && t.length)
                    for (var n = t.length, r = 0; r < n; r++) t[r].$addTarget(this)
            } else this.$DisplayObject[20] = t
        },
        enumerable: !0,
        configurable: !0
    }), a.prototype.$getFilters = function () {
        return this.$DisplayObject[20]
    }, a.prototype.getTransformedBounds = function (t, e) {
        return this.$getTransformedBounds(t = t || this, e)
    }, a.prototype.getBounds = function (t, e) {
        return void 0 === e && (e = !0), t = this.$getTransformedBounds(this, t), e && (0 == (e = this.$DisplayObject)[12] && 0 == e[13] || (t.x -= e[12], t.y -= e[13])), t
    }, a.prototype.$getTransformedBounds = function (t, e) {
        var i, r = this.$getOriginalBounds();
        return (e = e || new y.Rectangle).copyFrom(r), t == this || (t ? (i = y.$TempMatrix, t.$getInvertedConcatenatedMatrix().$preMultiplyInto(this.$getConcatenatedMatrix(), i)) : i = this.$getConcatenatedMatrix(), i.$transformBounds(e)), e
    }, a.prototype.globalToLocal = function (t, e, i) {
        return void 0 === t && (t = 0), void 0 === e && (e = 0), this.$getInvertedConcatenatedMatrix().transformPoint(t, e, i)
    }, a.prototype.localToGlobal = function (t, e, i) {
        return void 0 === t && (t = 0), void 0 === e && (e = 0), this.$getConcatenatedMatrix().transformPoint(t, e, i)
    }, a.prototype.$invalidateContentBounds = function () {
        this.$invalidate(), this.$setFlags(2), this.$propagateFlagsUp(4)
    }, a.prototype.$getOriginalBounds = function () {
        var t, e = this.$DisplayObject[9];
        return this.$hasFlags(4) && (e.copyFrom(this.$getContentBounds()), this.$measureChildBounds(e), this.$removeFlags(4), this.$displayList && (this.$displayList.$renderNode.moved = !0), (t = this.$measureFiltersOffset(!1)) && (e.x += t.minX, e.y += t.minY, e.width += -t.minX + t.maxX, e.height += -t.minY + t.maxY)), e
    }, a.prototype.$measureChildBounds = function (t) {}, a.prototype.$getContentBounds = function () {
        var t = this.$DisplayObject[10];
        return this.$hasFlags(2) && (this.$measureContentBounds(t), this.$renderNode && (this.$renderNode.moved = !0), this.$removeFlags(2)), t
    }, a.prototype.$measureContentBounds = function (t) {}, a.prototype.$invalidate = function (t) {
        var e;
        this.$renderNode && !this.$hasFlags(384) && (this.$setFlags(384), (e = this.$displayList || this.$parentDisplayList) && e.markDirty(this))
    }, a.prototype.$invalidateTransform = function () {
        var t, e = this;
        e.$hasFlags(512) || (e.$setFlags(512), ((t = e.$displayList) || e.$renderNode) && e.$parentDisplayList && e.$parentDisplayList.markDirty(t || e))
    }, a.prototype.$getRenderNode = function () {
        var t = this.$renderNode;
        return t ? (128 & this.$displayFlags && (t.cleanBeforeRender(), this.$render(), this.$removeFlags(128), t = this.$renderNode), t) : null
    }, a.prototype.$update = function (t, e) {
        var i = this;
        i.$removeFlagsUp(768);
        var r = i.$renderNode;
        r.renderAlpha = i.$getConcatenatedAlpha();
        var n = i.$getConcatenatedMatrix();
        if (t == y.DirtyRegionPolicy.OFF) {
            if (!(a = i.$displayList || i.$parentDisplayList)) return !1;
            (o = r.renderMatrix).copyFrom(n), (s = a.root) !== i.$stage && i.$getConcatenatedMatrixAt(s, o)
        } else {
            t = e || i.$getContentBounds();
            r.renderVisible = i.$getConcatenatedVisible();
            var o, s, a = i.$displayList || i.$parentDisplayList,
                e = r.renderRegion;
            if (!a) return e.setTo(0, 0, 0, 0), r.moved = !1;
            if (!r.moved) return !1;
            r.moved = !1, (o = r.renderMatrix).copyFrom(n), (s = a.root) !== i.$stage && i.$getConcatenatedMatrixAt(s, o), e.updateRegion(t, o);
            i = i.$measureFiltersOffset(!0);
            i && (e.minX += i.minX, e.minY += i.minY, e.maxX += i.maxX, e.maxY += i.maxY, e.updateArea())
        }
        return !0
    }, a.prototype.$measureFiltersOffset = function (t) {
        for (var e = this, i = 0, r = 0, n = 0, o = 0; e;) {
            var s = e.$DisplayObject[20];
            if (s && s.length)
                for (var a = s.length, h = 0; h < a; h++) {
                    var l, u, c, p, d, f, g = s[h];
                    "blur" == g.type ? (i -= l = g.blurX, r -= u = g.blurY, n += l, o += u) : "glow" == g.type ? (i -= l = g.blurX, r -= u = g.blurY, n += l, o += u, c = g.distance || 0, p = g.angle || 0, (f = d = 0) != c && (i += d = 0 < (d = c * y.NumberUtils.cos(p)) ? Math.ceil(d) : Math.floor(d), n += d, r += f = 0 < (f = c * y.NumberUtils.sin(p)) ? Math.ceil(f) : Math.floor(f), o += f)) : "custom" == g.type && (i -= g = g.padding, r -= g, n += g, o += g)
                }
            e = t ? e.$parent : null
        }
        return {
            minX: i = Math.min(i, 0),
            minY: r = Math.min(r, 0),
            maxX: n = Math.max(n, 0),
            maxY: o = Math.max(o, 0)
        }
    }, a.prototype.$getConcatenatedMatrixAt = function (t, e) {
        var i = t.$getInvertedConcatenatedMatrix();
        if (0 === i.a || 0 === i.d) {
            var r = this,
                n = t.$nestLevel;
            for (e.identity(); r.$nestLevel > n;) {
                var o = r.$scrollRect;
                o && e.concat(y.$TempMatrix.setTo(1, 0, 0, 1, -o.x, -o.y)), e.concat(r.$getMatrix()), r = r.$parent
            }
        } else i.$preMultiplyInto(e, e)
    }, a.prototype.$getConcatenatedAlphaAt = function (t, e) {
        var i = t.$getConcatenatedAlpha();
        if (0 === i) {
            e = 1;
            for (var r = this, n = t.$nestLevel; r.$nestLevel > n;) e *= r.$alpha, r = r.$parent
        } else e /= i;
        return e
    }, a.prototype.$render = function () {}, a.prototype.$hitTest = function (t, e) {
        var i = this.$DisplayObject;
        if (!this.$renderNode || !this.$visible || 0 == i[0] || 0 == i[1]) return null;
        var r = this.$getInvertedConcatenatedMatrix();
        if (0 == r.a && 0 == r.b && 0 == r.c && 0 == r.d) return null;
        var n = this.$getContentBounds(),
            i = r.a * t + r.c * e + r.tx,
            r = r.b * t + r.d * e + r.ty;
        if (n.contains(i, r)) {
            if (!this.$children) {
                n = this.$scrollRect || this.$maskRect;
                if (n && !n.contains(i, r)) return null;
                if (this.$mask && !this.$mask.$hitTest(t, e)) return null
            }
            return this
        }
        return null
    }, a.prototype.hitTestPoint = function (t, e, i) {
        if (i) {
            var r = (a = this.$getInvertedConcatenatedMatrix()).a * t + a.c * e + a.tx,
                n = a.b * t + a.d * e + a.ty,
                o = void 0,
                i = this.$displayList;
            if (i) {
                var s = i.renderBuffer;
                try {
                    o = s.getPixels(r - i.offsetX, n - i.offsetY)
                } catch (t) {
                    throw new Error(y.sys.tr(1039))
                }
            } else {
                (s = y.sys.customHitTestBuffer).resize(3, 3);
                i = y.Matrix.create();
                i.identity(), i.translate(1 - r, 1 - n), y.sys.systemRenderer.render(this, s, i, null, !0), y.Matrix.release(i);
                try {
                    o = s.getPixels(1, 1)
                } catch (t) {
                    throw new Error(y.sys.tr(1039))
                }
            }
            return 0 === o[3] ? !1 : !0
        }
        o = this.$DisplayObject;
        if (0 == o[0] || 0 == o[1]) return !1;
        var a = this.$getInvertedConcatenatedMatrix(),
            o = this.getBounds(null, !1),
            r = a.a * t + a.c * e + a.tx,
            n = a.b * t + a.d * e + a.ty;
        if (o.contains(r, n)) {
            o = this.$scrollRect || this.$maskRect;
            return o && !o.contains(r, n) ? !1 : !0
        }
        return !1
    }, a.prototype.$addListener = function (t, e, i, r, n, o) {
        s.prototype.$addListener.call(this, t, e, i, r, n, o);
        o = t == y.Event.ENTER_FRAME;
        !o && t != y.Event.RENDER || -1 == (o = o ? a.$enterFrameCallBackList : a.$renderCallBackList).indexOf(this) && o.push(this)
    }, a.prototype.removeEventListener = function (t, e, i, r) {
        s.prototype.removeEventListener.call(this, t, e, i, r);
        r = t == y.Event.ENTER_FRAME;
        !r && t != y.Event.RENDER || this.hasEventListener(t) || -1 !== (r = (t = r ? a.$enterFrameCallBackList : a.$renderCallBackList).indexOf(this)) && t.splice(r, 1)
    }, a.prototype.dispatchEvent = function (t) {
        if (!t.$bubbles) return s.prototype.dispatchEvent.call(this, t);
        var e = this.$getPropagationList(this),
            i = .5 * e.length;
        return t.$setTarget(this), this.$dispatchPropagationEvent(t, e, i), !t.$isDefaultPrevented
    }, a.prototype.$getPropagationList = function (t) {
        for (var e = []; t;) e.push(t), t = t.$parent;
        var i = e.concat();
        return i.reverse(), e = i.concat(e)
    }, a.prototype.$dispatchPropagationEvent = function (t, e, i) {
        for (var r = e.length, n = i - 1, o = 0; o < r; o++) {
            var s = e[o];
            if (t.$currentTarget = s, t.$eventPhase = o < n ? 1 : o == i || o == n ? 2 : 3, s.$notifyListener(t, o < i), t.$isPropagationStopped || t.$isPropagationImmediateStopped) return
        }
    }, a.prototype.willTrigger = function (t) {
        for (var e = this; e;) {
            if (e.hasEventListener(t)) return !0;
            e = e.$parent
        }
        return !1
    }, a.defaultTouchEnabled = !1, a.boundsForUpdate = new y.Rectangle, a.$enterFrameCallBackList = [], a.$renderCallBackList = [], a);

    function a() {
        var t = s.call(this) || this;
        return t.$children = null, t.$parent = null, t.$stage = null, t.$nestLevel = 0, t.$visible = !0, t.$displayList = null, t.$alpha = 1, t.$touchEnabled = a.defaultTouchEnabled, t.$scrollRect = null, t.$blendMode = 0, t.$maskedObject = null, t.$mask = null, t.$maskRect = null, t.$parentDisplayList = null, t.$renderNode = null, t.$displayFlags = 2032, t.$DisplayObject = {
            0: 1,
            1: 1,
            2: 0,
            3: 0,
            4: 0,
            5: "",
            6: new y.Matrix,
            7: new y.Matrix,
            8: new y.Matrix,
            9: new y.Rectangle,
            10: new y.Rectangle,
            11: !1,
            12: 0,
            13: 0,
            14: NaN,
            15: NaN,
            16: 0,
            17: 0,
            18: 0,
            19: null,
            20: null
        }, t
    }
    y.DisplayObject = t, __reflect(t.prototype, "egret.DisplayObject", ["egret.sys.Renderable"])
}(egret = egret || {}),
function (u) {
    var c, t = (c = u.DisplayObject, __extends(s, c), s.prototype.$propagateFlagsDown = function (t) {
        if (!this.$hasFlags(t)) {
            this.$setFlags(t);
            for (var e = this.$children, i = e.length, r = 0; r < i; r++) e[r].$propagateFlagsDown(t)
        }
    }, Object.defineProperty(s.prototype, "numChildren", {
        get: function () {
            return this.$children.length
        },
        enumerable: !0,
        configurable: !0
    }), s.prototype.addChild = function (t) {
        var e = this.$children.length;
        return t.$parent == this && e--, this.$doAddChild(t, e)
    }, s.prototype.addChildAt = function (t, e) {
        return ((e = 0 | +e) < 0 || e >= this.$children.length) && (e = this.$children.length, t.$parent == this && e--), this.$doAddChild(t, e)
    }, s.prototype.$doAddChild = function (t, e, i) {
        void 0 === i && (i = !0), t == this ? u.$error(1005) : t instanceof u.DisplayObjectContainer && t.contains(this) && u.$error(1004);
        var r = t.$parent;
        if (r == this) return this.doSetChildIndex(t, e), t;
        r && r.removeChild(t), this.$children.splice(e, 0, t), t.$setParent(this);
        r = this.$stage;
        if (r && t.$onAddToStage(r, this.$nestLevel + 1), i && t.dispatchEventWith(u.Event.ADDED, !0), r)
            for (var n = s.$EVENT_ADD_TO_STAGE_LIST; n.length;) {
                var o = n.shift();
                o.$stage && i && o.dispatchEventWith(u.Event.ADDED_TO_STAGE)
            }
        r = this.$displayList || this.$parentDisplayList;
        return this.assignParentDisplayList(t, r, r), t.$propagateFlagsDown(1648), this.$propagateFlagsUp(4), this.$childAdded(t, e), t
    }, s.prototype.contains = function (t) {
        for (; t;) {
            if (t == this) return !0;
            t = t.$parent
        }
        return !1
    }, s.prototype.getChildAt = function (t) {
        return 0 <= (t = 0 | +t) && t < this.$children.length ? this.$children[t] : (u.$error(1007), null)
    }, s.prototype.getChildIndex = function (t) {
        return this.$children.indexOf(t)
    }, s.prototype.getChildByName = function (t) {
        for (var e, i = this.$children, r = i.length, n = 0; n < r; n++)
            if ((e = i[n]).name == t) return e;
        return null
    }, s.prototype.removeChild = function (t) {
        t = this.$children.indexOf(t);
        return 0 <= t ? this.$doRemoveChild(t) : (u.$error(1006), null)
    }, s.prototype.removeChildAt = function (t) {
        return 0 <= (t = 0 | +t) && t < this.$children.length ? this.$doRemoveChild(t) : (u.$error(1007), null)
    }, s.prototype.$doRemoveChild = function (t, e) {
        void 0 === e && (e = !0);
        var i = this.$children,
            r = i[t = 0 | +t];
        if (this.$childRemoved(r, t), e && r.dispatchEventWith(u.Event.REMOVED, !0), this.$stage) {
            r.$onRemoveFromStage();
            for (var n = s.$EVENT_REMOVE_FROM_STAGE_LIST; 0 < n.length;) {
                var o = n.shift();
                e && o.$hasAddToStage && (o.$hasAddToStage = !1, o.dispatchEventWith(u.Event.REMOVED_FROM_STAGE)), o.$hasAddToStage = !1, o.$stage = null
            }
        }
        t = this.$displayList || this.$parentDisplayList;
        this.assignParentDisplayList(r, t, null), r.$propagateFlagsDown(1648), r.$setParent(null);
        t = i.indexOf(r);
        return -1 != t && i.splice(t, 1), this.$propagateFlagsUp(4), r
    }, s.prototype.setChildIndex = function (t, e) {
        ((e = 0 | +e) < 0 || e >= this.$children.length) && (e = this.$children.length - 1), this.doSetChildIndex(t, e)
    }, s.prototype.doSetChildIndex = function (t, e) {
        var i = this.$children.indexOf(t);
        i < 0 && u.$error(1006), i != e && (this.$childRemoved(t, i), this.$children.splice(i, 1), this.$children.splice(e, 0, t), this.$childAdded(t, e), t.$invalidateTransform(), this.$propagateFlagsUp(4))
    }, s.prototype.swapChildrenAt = function (t, e) {
        e = 0 | +e, 0 <= (t = 0 | +t) && t < this.$children.length && 0 <= e && e < this.$children.length ? this.doSwapChildrenAt(t, e) : u.$error(1007)
    }, s.prototype.swapChildren = function (t, e) {
        t = this.$children.indexOf(t), e = this.$children.indexOf(e); - 1 == t || -1 == e ? u.$error(1006) : this.doSwapChildrenAt(t, e)
    }, s.prototype.doSwapChildrenAt = function (t, e) {
        if (e < t) {
            var i = e;
            e = t, t = i
        } else if (t == e) return;
        var r = this.$children,
            n = r[t],
            i = r[e];
        this.$childRemoved(n, t), this.$childRemoved(i, e), r[t] = i, r[e] = n, this.$childAdded(i, t), this.$childAdded(n, e), n.$invalidateTransform(), i.$invalidateTransform(), this.$propagateFlagsUp(4)
    }, s.prototype.removeChildren = function () {
        for (var t = this.$children.length - 1; 0 <= t; t--) this.$doRemoveChild(t)
    }, s.prototype.$childAdded = function (t, e) {}, s.prototype.$childRemoved = function (t, e) {}, s.prototype.$onAddToStage = function (t, e) {
        c.prototype.$onAddToStage.call(this, t, e);
        var i = this.$children.length;
        e++;
        for (var r = 0; r < i; r++) this.$children[r].$onAddToStage(t, e)
    }, s.prototype.$onRemoveFromStage = function () {
        c.prototype.$onRemoveFromStage.call(this);
        for (var t = this.$children, e = t.length, i = 0; i < e; i++) t[i].$onRemoveFromStage()
    }, s.prototype.$measureChildBounds = function (t) {
        var e = this.$children,
            i = e.length;
        if (0 != i) {
            for (var r = 0, n = 0, o = 0, s = 0, a = !1, h = -1; h < i; h++) {
                var l = -1 == h ? t : e[h].$getTransformedBounds(this, u.$TempRectangle);
                l.isEmpty() || (s = a ? (r = Math.min(r, l.x), n = Math.max(n, l.x + l.width), o = Math.min(o, l.y), Math.max(s, l.y + l.height)) : (a = !0, n = (r = l.x) + l.width, (o = l.y) + l.height))
            }
            t.setTo(r, o, n - r, s - o)
        }
    }, Object.defineProperty(s.prototype, "touchChildren", {
        get: function () {
            return this.$getTouchChildren()
        },
        set: function (t) {
            this.$setTouchChildren(!!t)
        },
        enumerable: !0,
        configurable: !0
    }), s.prototype.$getTouchChildren = function () {
        return this.$touchChildren
    }, s.prototype.$setTouchChildren = function (t) {
        return this.$touchChildren != t && (this.$touchChildren = t, !0)
    }, s.prototype.$invalidate = function (t) {
        if (c.prototype.$invalidate.call(this, t), t) {
            var e = this.$displayList || this.$parentDisplayList,
                i = this.$children;
            if (i)
                for (var r = i.length - 1; 0 <= r; r--) this.markChildDirty(i[r], e)
        }
    }, s.prototype.$invalidateTransform = function () {
        this.markChildDirty(this, this.$parentDisplayList)
    }, s.prototype.markChildDirty = function (t, e) {
        if (!t.$hasFlags(512)) {
            t.$setFlags(512);
            var i = t.$displayList;
            if ((i || t.$renderNode) && e && e.markDirty(i || t), !i) {
                var r = t.$children;
                if (r)
                    for (var n = r.length - 1; 0 <= n; n--) this.markChildDirty(r[n], e)
            }
        }
    }, s.prototype.$cacheAsBitmapChanged = function () {
        c.prototype.$cacheAsBitmapChanged.call(this);
        for (var t = this.$displayList || this.$parentDisplayList, e = this.$children, i = e.length - 1; 0 <= i; i--) this.assignParentDisplayList(e[i], t, t)
    }, s.prototype.assignParentDisplayList = function (t, e, i) {
        t.$parentDisplayList = i, t.$setFlags(512);
        var r = t.$displayList;
        if ((t.$renderNode || r) && e && e.markDirty(r || t), !r) {
            var n = t.$children;
            if (n)
                for (var o = n.length - 1; 0 <= o; o--) this.assignParentDisplayList(n[o], e, i)
        }
    }, s.prototype.$hitTest = function (t, e) {
        if (!this.$visible) return null;
        var i = this.$getInvertedConcatenatedMatrix(),
            r = i.a * t + i.c * e + i.tx,
            n = i.b * t + i.d * e + i.ty,
            i = this.$scrollRect || this.$maskRect;
        if (i && !i.contains(r, n)) return null;
        if (this.$mask && !this.$mask.$hitTest(t, e)) return null;
        for (var o = this.$children, s = !1, a = null, h = o.length - 1; 0 <= h; h--) {
            var l = o[h];
            if (!l.$maskedObject && (a = l.$hitTest(t, e))) {
                if (s = !0, a.$touchEnabled) break;
                a = null
            }
        }
        return a ? this.$touchChildren ? a : this : s ? this : c.prototype.$hitTest.call(this, t, e)
    }, s.prototype.$setAlpha = function (t) {
        return (t = +t || 0) != this.$alpha && (this.$alpha = t, this.$propagateFlagsDown(64), this.$invalidate(), this.$invalidateAllChildren(), !0)
    }, s.prototype.$invalidateAllChildren = function () {
        var t = this.$children;
        if (t)
            for (var e = t.length - 1; 0 <= e; e--) {
                var i = t[e];
                i.$invalidate(), i.$children && i.$invalidateAllChildren()
            }
    }, s.$EVENT_ADD_TO_STAGE_LIST = [], s.$EVENT_REMOVE_FROM_STAGE_LIST = [], s);

    function s() {
        var t = c.call(this) || this;
        return t.$touchChildren = !0, t.$children = [], t
    }
    u.DisplayObjectContainer = t, __reflect(t.prototype, "egret.DisplayObjectContainer")
}(egret = egret || {}),
function (t) {
    var e, i = (e = t.HashObject, __extends(r, e), r.prototype.$addTarget = function (t) {
        for (var e = this.$targets.length, i = 0; i < e; i++)
            if (this.$targets[i].$hashCode == t.$hashCode) return;
        this.$targets.push(t)
    }, r.prototype.$removeTarget = function (t) {
        for (var e = this.$targets.length, i = 0; i < e; i++)
            if (this.$targets[i].$hashCode == t.$hashCode) return void this.$targets.splice(i, 1)
    }, r.prototype.invalidate = function () {
        for (var t = this.$targets.length, e = 0; e < t; e++) this.$targets[e].$invalidateContentBounds()
    }, r.prototype.$toJson = function () {
        return ""
    }, r);

    function r() {
        var t = e.call(this) || this;
        return t.type = null, t.$targets = [], t.$uniforms = {}, t
    }
    t.Filter = i, __reflect(i.prototype, "egret.Filter")
}(egret = egret || {}),
function (t) {
    t.$locale_strings = t.$locale_strings || {}, t.$language = "en_US"
}(egret = egret || {}),
function (s) {
    (s.sys || (s.sys = {})).tr = function (t) {
        for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        var r = s.$locale_strings[s.$language][t];
        if (!r) return "{" + t + "}";
        for (var n = e.length, o = 0; o < n; o++) r = r.replace("{" + o + "}", e[o]);
        return r
    }
}(egret = egret || {}),
function (t) {
    var o, e = (o = t.HashObject, __extends(n, o), Object.defineProperty(n.prototype, "type", {
        get: function () {
            return this.$type
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "bubbles", {
        get: function () {
            return this.$bubbles
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "cancelable", {
        get: function () {
            return this.$cancelable
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "eventPhase", {
        get: function () {
            return this.$eventPhase
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "currentTarget", {
        get: function () {
            return this.$currentTarget
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(n.prototype, "target", {
        get: function () {
            return this.$target
        },
        enumerable: !0,
        configurable: !0
    }), n.prototype.$setTarget = function (t) {
        return this.$target = t, !0
    }, n.prototype.isDefaultPrevented = function () {
        return this.$isDefaultPrevented
    }, n.prototype.preventDefault = function () {
        this.$cancelable && (this.$isDefaultPrevented = !0)
    }, n.prototype.stopPropagation = function () {
        this.$bubbles && (this.$isPropagationStopped = !0)
    }, n.prototype.stopImmediatePropagation = function () {
        this.$bubbles && (this.$isPropagationImmediateStopped = !0)
    }, n.prototype.clean = function () {
        this.data = this.$currentTarget = null, this.$setTarget(null)
    }, n.dispatchEvent = function (t, e, i, r) {
        e = n.create(n, e, i = void 0 === i ? !1 : i), i = n._getPropertyData(n);
        null != r && (i.data = r);
        t = t.dispatchEvent(e);
        return n.release(e), t
    }, n._getPropertyData = function (t) {
        return t._props || (t._props = {})
    }, n.create = function (t, e, i, r) {
        var n = t.eventPool;
        if ((n = n || (t.eventPool = [])).length) {
            n = n.pop();
            return n.$type = e, n.$bubbles = !!i, n.$cancelable = !!r, n.$isDefaultPrevented = !1, n.$isPropagationStopped = !1, n.$isPropagationImmediateStopped = !1, n.$eventPhase = 2, n
        }
        return new t(e, i, r)
    }, n.release = function (t) {
        t.clean(), Object.getPrototypeOf(t).constructor.eventPool.push(t)
    }, n.ADDED_TO_STAGE = "addedToStage", n.REMOVED_FROM_STAGE = "removedFromStage", n.ADDED = "added", n.REMOVED = "removed", n.ENTER_FRAME = "enterFrame", n.RENDER = "render", n.RESIZE = "resize", n.CHANGE = "change", n.CHANGING = "changing", n.COMPLETE = "complete", n.LOOP_COMPLETE = "loopComplete", n.FOCUS_IN = "focusIn", n.FOCUS_OUT = "focusOut", n.ENDED = "ended", n.ACTIVATE = "activate", n.DEACTIVATE = "deactivate", n.CLOSE = "close", n.CONNECT = "connect", n.LEAVE_STAGE = "leaveStage", n.SOUND_COMPLETE = "soundComplete", n);

    function n(t, e, i, r) {
        var n = o.call(this) || this;
        return n.$eventPhase = 2, n.$currentTarget = null, n.$target = null, n.$isDefaultPrevented = !1, n.$isPropagationStopped = !1, n.$isPropagationImmediateStopped = !1, n.$type = t, n.$bubbles = !!e, n.$cancelable = !!i, n.data = r, n
    }
    t.Event = e, __reflect(e.prototype, "egret.Event")
}(egret = egret || {}),
function (i) {
    var r, n = [],
        o = Math.PI / 180,
        t = (r = i.HashObject, __extends(s, r), s.release = function (t) {
            t && n.push(t)
        }, s.create = function (t, e) {
            return (n.pop() || new s).setTo(t, e)
        }, Object.defineProperty(s.prototype, "length", {
            get: function () {
                return Math.sqrt(this.x * this.x + this.y * this.y)
            },
            enumerable: !0,
            configurable: !0
        }), s.prototype.setTo = function (t, e) {
            return this.x = t, this.y = e, this
        }, s.prototype.clone = function () {
            return new s(this.x, this.y)
        }, s.prototype.equals = function (t) {
            return this.x == t.x && this.y == t.y
        }, s.distance = function (t, e) {
            return Math.sqrt((t.x - e.x) * (t.x - e.x) + (t.y - e.y) * (t.y - e.y))
        }, s.prototype.copyFrom = function (t) {
            this.x = t.x, this.y = t.y
        }, s.prototype.add = function (t) {
            return new s(this.x + t.x, this.y + t.y)
        }, s.interpolate = function (t, e, i) {
            var r = 1 - i;
            return new s(t.x * i + e.x * r, t.y * i + e.y * r)
        }, s.prototype.normalize = function (t) {
            0 == this.x && 0 == this.y || (t = t / this.length, this.x *= t, this.y *= t)
        }, s.prototype.offset = function (t, e) {
            this.x += t, this.y += e
        }, s.polar = function (t, e) {
            return new s(t * i.NumberUtils.cos(e / o), t * i.NumberUtils.sin(e / o))
        }, s.prototype.subtract = function (t) {
            return new s(this.x - t.x, this.y - t.y)
        }, s.prototype.toString = function () {
            return "(x=" + this.x + ", y=" + this.y + ")"
        }, s);

    function s(t, e) {
        void 0 === t && (t = 0), void 0 === e && (e = 0);
        var i = r.call(this) || this;
        return i.x = t, i.y = e, i
    }
    i.Point = t, __reflect(t.prototype, "egret.Point"), i.$TempPoint = new t
}(egret = egret || {}),
function (u) {
    var i, t = (i = u.HashObject, __extends(e, i), e.prototype.getTexture = function (t) {
        return this._textureMap[t]
    }, e.prototype.createTexture = function (t, e, i, r, n, o, s, a, h) {
        void 0 === o && (o = 0), void 0 === s && (s = 0), void 0 === a && (a = o + r), void 0 === h && (h = s + n);
        var l = new u.Texture;
        return l._bitmapData = this.$texture._bitmapData, l.$initData(this._bitmapX + e, this._bitmapY + i, r, n, o, s, a, h, this.$texture._sourceWidth, this.$texture._sourceHeight), this._textureMap[t] = l
    }, e.prototype.dispose = function () {
        this.$texture && this.$texture.dispose()
    }, e);

    function e(t) {
        var e = i.call(this) || this;
        return e._bitmapX = 0, e._bitmapY = 0, e._textureMap = u.createMap(), e.$texture = t, e._bitmapX = t._bitmapX - t._offsetX, e._bitmapY = t._bitmapY - t._offsetY, e
    }
    u.SpriteSheet = t, __reflect(t.prototype, "egret.SpriteSheet")
}(egret = egret || {}),
function (t) {
    var l, e = (l = t.Filter, __extends(i, l), Object.defineProperty(i.prototype, "color", {
        get: function () {
            return this.$color
        },
        set: function (t) {
            this.$color != t && (this.$color = t, this.$blue = 255 & t, this.$green = (65280 & t) >> 8, this.$red = t >> 16, this.$uniforms.color.x = this.$red / 255, this.$uniforms.color.y = this.$green / 255, this.$uniforms.color.z = this.$blue / 255, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "alpha", {
        get: function () {
            return this.$alpha
        },
        set: function (t) {
            this.$alpha != t && (this.$alpha = t, this.$uniforms.alpha = t, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "blurX", {
        get: function () {
            return this.$blurX
        },
        set: function (t) {
            this.$blurX != t && (this.$blurX = t, this.$uniforms.blurX = t, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "blurY", {
        get: function () {
            return this.$blurY
        },
        set: function (t) {
            this.$blurY != t && (this.$blurY = t, this.$uniforms.blurY = t, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "strength", {
        get: function () {
            return this.$strength
        },
        set: function (t) {
            this.$strength != t && (this.$strength = t, this.$uniforms.strength = t, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "quality", {
        get: function () {
            return this.$quality
        },
        set: function (t) {
            this.$quality != t && (this.$quality = t, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "inner", {
        get: function () {
            return this.$inner
        },
        set: function (t) {
            this.$inner != t && (this.$inner = t, this.$uniforms.inner = t ? 1 : 0, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "knockout", {
        get: function () {
            return this.$knockout
        },
        set: function (t) {
            this.$knockout != t && (this.$knockout = t, this.$uniforms.knockout = t ? 0 : 1, this.invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$toJson = function () {
        return '{"color": ' + this.$color + ', "red": ' + this.$red + ', "green": ' + this.$green + ', "blue": ' + this.$blue + ', "alpha": ' + this.$alpha + ', "blurX": ' + this.$blurX + ', "blurY": ' + this.blurY + ', "strength": ' + this.$strength + ', "quality": ' + this.$quality + ', "inner": ' + this.$inner + ', "knockout": ' + this.$knockout + "}"
    }, i);

    function i(t, e, i, r, n, o, s, a) {
        void 0 === t && (t = 16711680), void 0 === e && (e = 1), void 0 === i && (i = 6), void 0 === r && (r = 6), void 0 === n && (n = 2), void 0 === o && (o = 1), void 0 === s && (s = !1), void 0 === a && (a = !1);
        var h = l.call(this) || this;
        return h.type = "glow", h.$color = t, h.$blue = 255 & t, h.$green = (65280 & t) >> 8, h.$red = t >> 16, h.$alpha = e, h.$blurX = i, h.$blurY = r, h.$strength = n, h.$quality = o, h.$inner = s, h.$knockout = a, h.$uniforms.color = {
            x: h.$red / 255,
            y: h.$green / 255,
            z: h.$blue / 255,
            w: 1
        }, h.$uniforms.alpha = e, h.$uniforms.blurX = i, h.$uniforms.blurY = r, h.$uniforms.strength = n, h.$uniforms.inner = s ? 1 : 0, h.$uniforms.knockout = a ? 0 : 1, h.$uniforms.dist = 0, h.$uniforms.angle = 0, h.$uniforms.hideObject = 0, h
    }
    t.GlowFilter = e, __reflect(e.prototype, "egret.GlowFilter")
}(egret = egret || {}),
function (u) {
    var e, t = (e = u.DisplayObjectContainer, __extends(i, e), Object.defineProperty(i.prototype, "graphics", {
        get: function () {
            return this.$graphics
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$hitTest = function (t, e) {
        if (!this.$visible) return null;
        var i = this.$getInvertedConcatenatedMatrix(),
            r = i.a * t + i.c * e + i.tx,
            n = i.b * t + i.d * e + i.ty,
            i = this.$scrollRect || this.$maskRect;
        if (i && !i.contains(r, n)) return null;
        if (this.$mask && !this.$mask.$hitTest(t, e)) return null;
        for (var o = this.$children, s = !1, a = null, h = o.length - 1; 0 <= h; h--) {
            var l = o[h];
            if (!l.$maskedObject && (a = l.$hitTest(t, e))) {
                if (s = !0, a.$touchEnabled) break;
                a = null
            }
        }
        return a ? this.$touchChildren ? a : this : s ? this : a = (a = u.DisplayObject.prototype.$hitTest.call(this, t, e)) && this.$graphics.$hitTest(t, e)
    }, i.prototype.$measureContentBounds = function (t) {
        this.$graphics.$measureContentBounds(t)
    }, i.prototype.$onRemoveFromStage = function () {
        e.prototype.$onRemoveFromStage.call(this), this.$graphics && this.$graphics.$onRemoveFromStage()
    }, i);

    function i() {
        var t = e.call(this) || this;
        return t.$graphics = new u.Graphics, t.$graphics.$setTarget(t), t
    }
    u.Sprite = t, __reflect(t.prototype, "egret.Sprite")
}(egret = egret || {}),
function (p) {
    p.$TextureScaleFactor = 1;
    var e, t = (e = p.HashObject, __extends(i, e), Object.defineProperty(i.prototype, "textureWidth", {
        get: function () {
            return this.$getTextureWidth()
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$getTextureWidth = function () {
        return this._textureWidth
    }, Object.defineProperty(i.prototype, "textureHeight", {
        get: function () {
            return this.$getTextureHeight()
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$getTextureHeight = function () {
        return this._textureHeight
    }, i.prototype.$getScaleBitmapWidth = function () {
        return this._bitmapWidth * p.$TextureScaleFactor
    }, i.prototype.$getScaleBitmapHeight = function () {
        return this._bitmapHeight * p.$TextureScaleFactor
    }, Object.defineProperty(i.prototype, "bitmapData", {
        get: function () {
            return this._bitmapData
        },
        set: function (t) {
            this._setBitmapData(t)
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype._setBitmapData = function (t) {
        this._bitmapData = t;
        var e = p.$TextureScaleFactor,
            i = t.width * e,
            e = t.height * e;
        this.$initData(0, 0, i, e, 0, 0, i, e, t.width, t.height)
    }, i.prototype.$initData = function (t, e, i, r, n, o, s, a, h, l, u) {
        void 0 === u && (u = !1);
        var c = p.$TextureScaleFactor;
        this._bitmapX = t / c, this._bitmapY = e / c, this._bitmapWidth = i / c, this._bitmapHeight = r / c, this._offsetX = n, this._offsetY = o, this._textureWidth = s, this._textureHeight = a, this._sourceWidth = h, this._sourceHeight = l, this.$rotated = u, p.BitmapData.$invalidate(this)
    }, i.prototype.getPixel32 = function (t, e) {
        throw new Error
    }, i.prototype.getPixels = function (t, e, i, r) {
        throw void 0 === i && (i = 1), void 0 === r && (r = 1), new Error
    }, i.prototype.toDataURL = function (t, e, i) {
        throw new Error
    }, i.prototype.saveToFile = function (t, e, i) {
        throw new Error
    }, i.prototype.dispose = function () {
        this._bitmapData && (this._bitmapData.$dispose(), this._bitmapData = null)
    }, i);

    function i() {
        var t = e.call(this) || this;
        return t._bitmapX = 0, t._bitmapY = 0, t._bitmapWidth = 0, t._bitmapHeight = 0, t._offsetX = 0, t._offsetY = 0, t._textureWidth = 0, t._textureHeight = 0, t._sourceWidth = 0, t._sourceHeight = 0, t._bitmapData = null, t.$rotated = !1, t
    }
    p.Texture = t, __reflect(t.prototype, "egret.Texture")
}(egret = egret || {}),
function (v) {
    var r, t = (r = v.DisplayObject, __extends(i, r), i.prototype.$onAddToStage = function (t, e) {
        r.prototype.$onAddToStage.call(this, t, e);
        e = this.$Bitmap[0];
        e && v.BitmapData.$addDisplayObject(this, e)
    }, i.prototype.$onRemoveFromStage = function () {
        r.prototype.$onRemoveFromStage.call(this);
        var t = this.$Bitmap[0];
        t && v.BitmapData.$removeDisplayObject(this, t)
    }, Object.defineProperty(i.prototype, "bitmapData", {
        get: function () {
            var t = this.$Bitmap[0];
            return t instanceof v.Texture ? null : t
        },
        set: function (t) {
            this.$setBitmapData(t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "texture", {
        get: function () {
            var t = this.$Bitmap[0];
            return t instanceof v.Texture ? t : null
        },
        set: function (t) {
            this.$setBitmapData(t), t && this.$renderNode && (this.$renderNode.rotated = t.$rotated)
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$setBitmapData = function (t) {
        var e = this.$Bitmap,
            i = e[0];
        if (t == i) return !1;
        if (!(e[0] = t)) return i && v.BitmapData.$removeDisplayObject(this, i), this.setImageData(null, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0), this.$invalidateContentBounds(), !0;
        if (this.$refreshImageData(), this.$stage) {
            if (i) {
                if ((i._bitmapData && i._bitmapData.hashCode ? i._bitmapData : i).hashCode == (t._bitmapData && t._bitmapData.hashCode ? t._bitmapData : t).hashCode) return this.$invalidateContentBounds(), !0;
                v.BitmapData.$removeDisplayObject(this, i)
            }
            v.BitmapData.$addDisplayObject(this, t)
        }
        return this.$invalidateContentBounds(), !0
    }, i.prototype.$refreshImageData = function () {
        var t, e, i = this.$Bitmap[0];
        i && (i instanceof v.Texture ? this.setImageData(i._bitmapData, i._bitmapX, i._bitmapY, i._bitmapWidth, i._bitmapHeight, i._offsetX, i._offsetY, i.$getTextureWidth(), i.$getTextureHeight(), i._sourceWidth, i._sourceHeight) : (t = i.width, e = i.height, this.setImageData(i, 0, 0, t, e, 0, 0, t, e, t, e)))
    }, i.prototype.setImageData = function (t, e, i, r, n, o, s, a, h, l, u) {
        var c = this.$Bitmap;
        c[1] = t, c[2] = e, c[3] = i, c[4] = r, c[5] = n, c[6] = o, c[7] = s, c[8] = a, c[9] = h, c[13] = l, c[14] = u
    }, Object.defineProperty(i.prototype, "scale9Grid", {
        get: function () {
            return this.$scale9Grid
        },
        set: function (t) {
            this.$scale9Grid = t, this.$invalidateContentBounds()
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "fillMode", {
        get: function () {
            return this.$fillMode
        },
        set: function (t) {
            this.$setFillMode(t)
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$setFillMode = function (t) {
        return t != this.$fillMode && (this.$fillMode = t, !0)
    }, Object.defineProperty(i.prototype, "smoothing", {
        get: function () {
            return this.$Bitmap[10]
        },
        set: function (t) {
            var e = this.$Bitmap;
            (t = !!t) != e[10] && (e[10] = t, this.$invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$setWidth = function (t) {
        var e = this.$Bitmap;
        return !(t < 0 || t == e[11]) && (e[11] = t, this.$invalidateContentBounds(), !0)
    }, i.prototype.$setHeight = function (t) {
        var e = this.$Bitmap;
        return !(t < 0 || t == e[12]) && (e[12] = t, this.$invalidateContentBounds(), !0)
    }, i.prototype.$getWidth = function () {
        var t = this.$Bitmap;
        return isNaN(t[11]) ? this.$getContentBounds().width : t[11]
    }, i.prototype.$getHeight = function () {
        var t = this.$Bitmap;
        return isNaN(t[12]) ? this.$getContentBounds().height : t[12]
    }, i.prototype.$measureContentBounds = function (t) {
        var e, i, r = this.$Bitmap;
        r = r[1] ? (e = this.$Bitmap, i = isNaN(e[11]) ? e[8] : e[11], isNaN(e[12]) ? e[9] : e[12]) : (i = isNaN(r[11]) ? 0 : r[11], isNaN(r[12]) ? 0 : r[12]), t.setTo(0, 0, i, r)
    }, i.prototype.$render = function () {
        var t, e, i = this.$Bitmap;
        i[1] && (t = isNaN(i[11]) ? i[8] : i[11], e = isNaN(i[12]) ? i[9] : i[12], v.sys.BitmapNode.$updateTextureData(this.$renderNode, i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9], t, e, i[13], i[14], this.scale9Grid || i[0].scale9Grid, this.fillMode, i[10]))
    }, Object.defineProperty(i.prototype, "pixelHitTest", {
        get: function () {
            return this._pixelHitTest
        },
        set: function (t) {
            this._pixelHitTest = !!t
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.$hitTest = function (t, e) {
        var i = r.prototype.$hitTest.call(this, t, e);
        return i = i && this._pixelHitTest ? this.hitTestPixel(t, e) : i
    }, i.prototype.hitTestPixel = function (t, e) {
        var i, r = this.$getInvertedConcatenatedMatrix(),
            n = r.a * t + r.c * e + r.tx,
            t = r.b * t + r.d * e + r.ty,
            e = this.$displayList;
        if (e) {
            var o = e.renderBuffer;
            try {
                i = o.getPixels(n - e.offsetX, t - e.offsetY)
            } catch (t) {
                throw console.log(this.$Bitmap[0]), new Error(v.sys.tr(1039))
            }
        } else {
            (o = v.sys.customHitTestBuffer).resize(3, 3);
            r = this.$getRenderNode(), e = v.Matrix.create();
            e.identity(), e.translate(1 - n, 1 - t), v.sys.systemRenderer.drawNodeToBuffer(r, o, e, !0), v.Matrix.release(e);
            try {
                i = o.getPixels(1, 1)
            } catch (t) {
                throw console.log(this.$Bitmap[0]), new Error(v.sys.tr(1039))
            }
        }
        return 0 === i[3] ? null : this
    }, i.$drawImage = function (t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y) {
        console.warn("deprecated method : Bitmap.$drawImage,use egret.sys.BitmapNode.$drawImage instead of it"), v.sys.BitmapNode.$updateTextureData(t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y)
    }, i.defaultSmoothing = !0, i);

    function i(t) {
        var e = r.call(this) || this;
        return e.$scale9Grid = null, e.$fillMode = "scale", e._pixelHitTest = !1, e.$renderNode = new v.sys.BitmapNode, e.$Bitmap = {
            0: null,
            1: null,
            2: 0,
            3: 0,
            4: 0,
            5: 0,
            6: 0,
            7: 0,
            8: 0,
            9: 0,
            10: i.defaultSmoothing,
            11: NaN,
            12: NaN,
            13: NaN,
            14: NaN
        }, e.$setBitmapData(t), t instanceof v.Texture && (e.$renderNode.rotated = t.$rotated), e
    }
    v.Bitmap = t, __reflect(t.prototype, "egret.Bitmap")
}(egret = egret || {}),
function (t) {
    var e, i;

    function r() {
        this.type = 0, this.needRedraw = !1, this.renderAlpha = 1, this.renderVisible = !0, this.renderMatrix = new t.Matrix, this.renderRegion = new e.Region, this.moved = !1, this.drawData = [], this.renderCount = 0
    }
    e = t.sys || (t.sys = {}), r.prototype.cleanBeforeRender = function () {
        this.drawData.length = 0, this.renderCount = 0
    }, r.prototype.$getRenderCount = function () {
        return this.renderCount
    }, i = r, e.RenderNode = i, __reflect(i.prototype, "egret.sys.RenderNode")
}(egret = egret || {}),
function (t) {
    var e;

    function i() {
        this.type = 0, this.$commands = [], this.$data = [], this.commandPosition = 0, this.dataPosition = 0, this.$lastX = 0, this.$lastY = 0
    }
    e = t.sys || (t.sys = {}), i.prototype.moveTo = function (t, e) {
        this.$commands[this.commandPosition++] = 1;
        var i = this.dataPosition;
        this.$data[i++] = t, this.$data[i++] = e, this.dataPosition = i
    }, i.prototype.lineTo = function (t, e) {
        this.$commands[this.commandPosition++] = 2;
        var i = this.dataPosition;
        this.$data[i++] = t, this.$data[i++] = e, this.dataPosition = i
    }, i.prototype.curveTo = function (t, e, i, r) {
        this.$commands[this.commandPosition++] = 3;
        var n = this.dataPosition;
        this.$data[n++] = t, this.$data[n++] = e, this.$data[n++] = i, this.$data[n++] = r, this.dataPosition = n
    }, i.prototype.cubicCurveTo = function (t, e, i, r, n, o) {
        this.$commands[this.commandPosition++] = 4;
        var s = this.dataPosition;
        this.$data[s++] = t, this.$data[s++] = e, this.$data[s++] = i, this.$data[s++] = r, this.$data[s++] = n, this.$data[s++] = o, this.dataPosition = s
    }, i.prototype.drawRect = function (t, e, i, r) {
        i = t + i, r = e + r;
        this.moveTo(t, e), this.lineTo(i, e), this.lineTo(i, r), this.lineTo(t, r), this.lineTo(t, e)
    }, i.prototype.drawRoundRect = function (t, e, i, r, n, o) {
        var s, a, h, l, u = .5 * n | 0,
            c = o ? .5 * o | 0 : u;
        u && c ? ((l = .5 * r) < c && (c = l), (a = .5 * i) !== (u = a < u ? a : u) || l !== c ? (h = t + u, n = (s = t + i) - u, o = e + c, this.moveTo(s, l = (a = e + r) - c), this.curveTo(s, a, n, a), this.lineTo(h, a), this.curveTo(t, a, t, l), this.lineTo(t, o), this.curveTo(t, e, h, e), this.lineTo(n, e), this.curveTo(s, e, s, o), this.lineTo(s, l)) : u === c ? this.drawCircle(t + u, e + c, u) : this.drawEllipse(t, e, 2 * u, 2 * c)) : this.drawRect(t, e, i, r)
    }, i.prototype.drawCircle = function (t, e, i) {
        this.arcToBezier(t, e, i, i, 0, 2 * Math.PI)
    }, i.prototype.drawEllipse = function (t, e, i, r) {
        i *= .5, r *= .5;
        this.arcToBezier(t += i, e += r, i, r, 0, 2 * Math.PI)
    }, i.prototype.drawArc = function (t, e, i, r, n, o) {
        o ? r <= n && (n -= 2 * Math.PI) : n <= r && (n += 2 * Math.PI), this.arcToBezier(t, e, i, i, r, n, o)
    }, i.prototype.arcToBezier = function (t, e, i, r, n, o, s) {
        var a = .5 * Math.PI,
            h = n,
            l = h;
        s ? (l += -a - h % a) < o && (l = o) : o < (l += a - h % a) && (l = o);
        var u = t + Math.cos(h) * i,
            c = e + Math.sin(h) * r;
        this.$lastX == u && this.$lastY == c || this.moveTo(u, c);
        for (var p = Math.cos(h), d = Math.sin(h), f = 0; f < 4; f++) {
            var g = 4 * Math.tan((l - h) / 4) / 3,
                y = u - d * g * i,
                v = c + p * g * r,
                u = t + (p = Math.cos(l)) * i,
                c = e + (d = Math.sin(l)) * r;
            if (this.cubicCurveTo(y, v, u + d * g * i, c - p * g * r, u, c), l === o) break;
            h = l, s ? (l = h - a) < o && (l = o) : o < (l = h + a) && (l = o)
        }
    }, t = i, e.Path2D = t, __reflect(t.prototype, "egret.sys.Path2D")
}(egret = egret || {}), (egret || (egret = {})).createMap = function () {
        var t = Object.create(null);
        return t.__v8__ = void 0, delete t.__v8__, t
    }, this.DEBUG = !0, this.RELEASE = !1,
    function (n) {
        n.getString = function (t) {
            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            return n.sys.tr.apply(n.sys, arguments)
        }, n.$error = function (t) {
            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            var r = n.sys.tr.apply(null, arguments);
            throw n.sys.$logToFPS("Error #" + t + ": " + r), new Error("#" + t + ": " + r)
        }, n.$warn = function (t) {
            for (var e = [], i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
            var r = n.sys.tr.apply(null, arguments);
            n.sys.$logToFPS("Warning #" + t + ": " + r), n.warn("Warning #" + t + ": " + r)
        }, n.$markCannotUse = function (e, i, t) {
            Object.defineProperty(e.prototype, i, {
                get: function () {
                    return n.$warn(1009, n.getQualifiedClassName(e), i), t
                },
                set: function (t) {
                    n.$error(1009, n.getQualifiedClassName(e), i)
                },
                enumerable: !0,
                configurable: !0
            })
        }
    }(egret = egret || {}), (egret = egret || {}).CapsStyle = {
        NONE: "none",
        ROUND: "round",
        SQUARE: "square"
    }, (egret = egret || {}).DirtyRegionPolicy = {
        OFF: "off",
        ON: "on"
    },
    function (n) {
        var t = (o.compileProgram = function (t, e, i) {
            var r = o.compileFragmentShader(t, i),
                i = o.compileVertexShader(t, e),
                e = t.createProgram();
            return t.attachShader(e, i), t.attachShader(e, r), t.linkProgram(e), t.getProgramParameter(e, t.LINK_STATUS) || n.$warn(1020), e
        }, o.compileFragmentShader = function (t, e) {
            return o._compileShader(t, e, t.FRAGMENT_SHADER)
        }, o.compileVertexShader = function (t, e) {
            return o._compileShader(t, e, t.VERTEX_SHADER)
        }, o._compileShader = function (t, e, i) {
            i = t.createShader(i);
            return t.shaderSource(i, e), t.compileShader(i), t.getShaderParameter(i, t.COMPILE_STATUS) ? i : null
        }, o.checkCanUseWebGL = function () {
            if (null == o.canUseWebGL) try {
                var t = document.createElement("canvas");
                o.canUseWebGL = !(!window.WebGLRenderingContext || !t.getContext("webgl") && !t.getContext("experimental-webgl"))
            } catch (t) {
                o.canUseWebGL = !1
            }
            return o.canUseWebGL
        }, o.deleteWebGLTexture = function (t) {
            var e;
            !t || (e = t.glContext) && e.deleteTexture(t)
        }, o);

        function o() {}
        n.WebGLUtils = t, __reflect(t.prototype, "egret.WebGLUtils")
    }(egret = egret || {}),
    function (t) {
        var r, e = (r = t.Event, __extends(i, r), i.FOCUS_IN = "focusIn", i.FOCUS_OUT = "focusOut", i);

        function i(t, e, i) {
            return r.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this
        }
        t.FocusEvent = e, __reflect(e.prototype, "egret.FocusEvent")
    }(egret = egret || {}),
    function (t) {
        var e, i = (e = t.Event, __extends(r, e), r.PERMISSION_DENIED = "permissionDenied", r.UNAVAILABLE = "unavailable", r);

        function r() {
            return null !== e && e.apply(this, arguments) || this
        }
        t.GeolocationEvent = i, __reflect(i.prototype, "egret.GeolocationEvent")
    }(egret = egret || {}),
    function (r) {
        var n, t = (n = r.Event, __extends(o, n), Object.defineProperty(o.prototype, "status", {
            get: function () {
                return this._status
            },
            enumerable: !0,
            configurable: !0
        }), o.dispatchHTTPStatusEvent = function (t, e) {
            var i = r.Event.create(o, o.HTTP_STATUS);
            i._status = e;
            t = t.dispatchEvent(i);
            return r.Event.release(i), t
        }, o.HTTP_STATUS = "httpStatus", o);

        function o(t, e, i) {
            i = n.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this;
            return i._status = 0, i
        }
        r.HTTPStatusEvent = t, __reflect(t.prototype, "egret.HTTPStatusEvent")
    }(egret = egret || {}),
    function (i) {
        var r, t = (r = i.Event, __extends(n, r), n.dispatchIOErrorEvent = function (t) {
            var e = i.Event.create(n, n.IO_ERROR),
                t = t.dispatchEvent(e);
            return i.Event.release(e), t
        }, n.IO_ERROR = "ioError", n);

        function n(t, e, i) {
            return r.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this
        }
        i.IOErrorEvent = t, __reflect(t.prototype, "egret.IOErrorEvent")
    }(egret = egret || {}),
    function (t) {
        var e, i = (e = t.Event, __extends(r, e), r);

        function r() {
            return null !== e && e.apply(this, arguments) || this
        }
        t.MotionEvent = i, __reflect(i.prototype, "egret.MotionEvent")
    }(egret = egret || {}),
    function (t) {
        var e, i = (e = t.Event, __extends(r, e), r);

        function r() {
            return null !== e && e.apply(this, arguments) || this
        }
        t.OrientationEvent = i, __reflect(i.prototype, "egret.OrientationEvent")
    }(egret = egret || {}),
    function (n) {
        var o, t = (o = n.Event, __extends(s, o), s.dispatchProgressEvent = function (t, e, i, r) {
            void 0 === i && (i = 0), void 0 === r && (r = 0);
            e = n.Event.create(s, e);
            e.bytesLoaded = i, e.bytesTotal = r;
            t = t.dispatchEvent(e);
            return n.Event.release(e), t
        }, s.PROGRESS = "progress", s.SOCKET_DATA = "socketData", s);

        function s(t, e, i, r, n) {
            void 0 === r && (r = 0), void 0 === n && (n = 0);
            i = o.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this;
            return i.bytesLoaded = 0, i.bytesTotal = 0, i.bytesLoaded = r, i.bytesTotal = n, i
        }
        n.ProgressEvent = t, __reflect(t.prototype, "egret.ProgressEvent")
    }(egret = egret || {}),
    function (i) {
        var r, t = (r = i.Event, __extends(n, r), n.dispatchStageOrientationEvent = function (t, e) {
            e = i.Event.create(n, e), t = t.dispatchEvent(e);
            return i.Event.release(e), t
        }, n.ORIENTATION_CHANGE = "orientationChange", n);

        function n(t, e, i) {
            return r.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this
        }
        i.StageOrientationEvent = t, __reflect(t.prototype, "egret.StageOrientationEvent")
    }(egret = egret || {}),
    function (r) {
        var n, t = (n = r.Event, __extends(o, n), o.dispatchTextEvent = function (t, e, i) {
            e = r.Event.create(o, e);
            e.text = i;
            t = t.dispatchEvent(e);
            return r.Event.release(e), t
        }, o.LINK = "link", o);

        function o(t, e, i, r) {
            void 0 === r && (r = "");
            i = n.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this;
            return i.text = r, i
        }
        r.TextEvent = t, __reflect(t.prototype, "egret.TextEvent")
    }(egret = egret || {}),
    function (n) {
        var r, t = (r = n.Event, __extends(o, r), o.prototype.updateAfterEvent = function () {
            n.sys.$requestRenderingFlag = !0
        }, o.dispatchTimerEvent = function (t, e, i, r) {
            r = n.Event.create(o, e, i, r), t = t.dispatchEvent(r);
            return n.Event.release(r), t
        }, o.TIMER = "timer", o.TIMER_COMPLETE = "timerComplete", o);

        function o(t, e, i) {
            return r.call(this, t, e, i) || this
        }
        n.TimerEvent = t, __reflect(t.prototype, "egret.TimerEvent")
    }(egret = egret || {}),
    function (a) {
        var i, t = (i = a.HashObject, __extends(h, i), h.create = function (t, e, i) {
            if (a.Capabilities.runtimeType === a.RuntimeType.WEB) {
                var r = "",
                    n = "image/png";
                "/" === (r = "arraybuffer" === t ? a.Base64Util.encode(e) : e).charAt(0) ? n = "image/jpeg" : "R" === r.charAt(0) ? n = "image/gif" : "i" === r.charAt(0) && (n = "image/png");
                var o = new Image;
                o.src = "data:" + n + ";base64," + r, o.crossOrigin = "*";
                var s = new h(o);
                return o.onload = function () {
                    o.onload = void 0, s.source = o, s.height = o.height, s.width = o.width, i && i(s)
                }, s
            }
            r = null, r = "arraybuffer" === t ? e : a.Base64Util.decode(e), r = new h(egret_native.Texture.createTextureFromArrayBuffer(r));
            return i && i(r), r
        }, h.prototype.$dispose = function () {
            a.Capabilities.runtimeType == a.RuntimeType.WEB && "webgl" == a.Capabilities.renderMode && this.webGLTexture && (a.WebGLUtils.deleteWebGLTexture(this.webGLTexture), this.webGLTexture = null), this.source && this.source.dispose && this.source.dispose(), this.source = null, h.$dispose(this)
        }, h.$addDisplayObject = function (t, e) {
            var i = (e._bitmapData && e._bitmapData.hashCode ? e._bitmapData : e).hashCode;
            i && (h._displayList[i] ? (e = h._displayList[i]).indexOf(t) < 0 && e.push(t) : h._displayList[i] = [t])
        }, h.$removeDisplayObject = function (t, e) {
            e = (e._bitmapData && e._bitmapData.hashCode ? e._bitmapData : e).hashCode;
            e && (!h._displayList[e] || 0 <= (t = (e = h._displayList[e]).indexOf(t)) && e.splice(t))
        }, h.$invalidate = function (t) {
            t = (t._bitmapData && t._bitmapData.hashCode ? t._bitmapData : t).hashCode;
            if (t && h._displayList[t])
                for (var e = h._displayList[t], i = 0; i < e.length; i++) e[i] instanceof a.Bitmap && e[i].$refreshImageData(), e[i].$invalidateContentBounds()
        }, h.$dispose = function (t) {
            t = (t._bitmapData && t._bitmapData.hashCode ? t._bitmapData : t).hashCode;
            if (t && h._displayList[t]) {
                for (var e = 0, i = h._displayList[t]; e < i.length; e++) {
                    var r = i[e];
                    r instanceof a.Bitmap && (r.$Bitmap[1] = null), r.$invalidateContentBounds()
                }
                delete h._displayList[t]
            }
        }, h._displayList = a.createMap(), h);

        function h(t) {
            var e = i.call(this) || this;
            return e.format = "image", e.$deleteSource = !0, e.source = t, e.width = t.width, e.height = t.height, e
        }
        a.BitmapData = t, __reflect(t.prototype, "egret.BitmapData")
    }(egret = egret || {}),
    function (h) {
        var s, t = new h.Point,
            e = (s = h.Event, __extends(l, s), l.prototype.$initTo = function (t, e, i) {
                this.touchPointID = +i || 0, this.$stageX = +t || 0, this.$stageY = +e || 0
            }, Object.defineProperty(l.prototype, "stageX", {
                get: function () {
                    return this.$stageX
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(l.prototype, "stageY", {
                get: function () {
                    return this.$stageY
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(l.prototype, "localX", {
                get: function () {
                    return this.targetChanged && this.getLocalXY(), this._localX
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(l.prototype, "localY", {
                get: function () {
                    return this.targetChanged && this.getLocalXY(), this._localY
                },
                enumerable: !0,
                configurable: !0
            }), l.prototype.getLocalXY = function () {
                this.targetChanged = !1, this.$target.$getInvertedConcatenatedMatrix().transformPoint(this.$stageX, this.$stageY, t), this._localX = t.x, this._localY = t.y
            }, l.prototype.$setTarget = function (t) {
                return this.$target = t, this.targetChanged = !!t, !0
            }, l.prototype.updateAfterEvent = function () {
                h.sys.$requestRenderingFlag = !0
            }, l.dispatchTouchEvent = function (t, e, i, r, n, o, s, a) {
                if (void 0 === a && (a = !1), !i && !t.hasEventListener(e)) return !0;
                r = h.Event.create(l, e, i, r);
                r.$initTo(n, o, s), r.touchDown = a;
                t = t.dispatchEvent(r);
                return h.Event.release(r), t
            }, l.TOUCH_MOVE = "touchMove", l.TOUCH_BEGIN = "touchBegin", l.TOUCH_END = "touchEnd", l.TOUCH_CANCEL = "touchCancel", l.TOUCH_TAP = "touchTap", l.TOUCH_RELEASE_OUTSIDE = "touchReleaseOutside", l);

        function l(t, e, i, r, n, o) {
            i = s.call(this, t, e, i) || this;
            return i.targetChanged = !0, i.touchDown = !1, i.$initTo(r, n, o), i
        }
        h.TouchEvent = e, __reflect(e.prototype, "egret.TouchEvent")
    }(egret = egret || {}), egret = egret || {},
    function (t) {
        var n, e = (n = t.Filter, __extends(i, n), Object.defineProperty(i.prototype, "blurX", {
            get: function () {
                return this.$blurX
            },
            set: function (t) {
                this.$blurX != t && (this.$blurX = t, this.blurXFilter.blurX = t, this.invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "blurY", {
            get: function () {
                return this.$blurY
            },
            set: function (t) {
                this.$blurY != t && (this.$blurY = t, this.blurYFilter.blurY = t, this.invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.$toJson = function () {
            return '{"blurX": ' + this.$blurX + ', "blurY": ' + this.$blurY + ', "quality": 1}'
        }, i);

        function i(t, e, i) {
            void 0 === t && (t = 4), void 0 === e && (e = 4), void 0 === i && (i = 1);
            var r = n.call(this) || this;
            return r.type = "blur", r.$blurX = t, r.$blurY = e, r.$quality = i, r.blurXFilter = new o(t), r.blurYFilter = new h(e), r
        }
        t.BlurFilter = e, __reflect(e.prototype, "egret.BlurFilter");
        var r, o = (r = t.Filter, __extends(s, r), Object.defineProperty(s.prototype, "blurX", {
            get: function () {
                return this.$uniforms.blur.x
            },
            set: function (t) {
                this.$uniforms.blur.x = t
            },
            enumerable: !0,
            configurable: !0
        }), s);

        function s(t) {
            void 0 === t && (t = 4);
            var e = r.call(this) || this;
            return e.type = "blurX", e.$uniforms.blur = {
                x: t,
                y: 0
            }, e
        }
        __reflect(o.prototype, "BlurXFilter", ["egret.IBlurXFilter"]);
        var a, h = (a = t.Filter, __extends(l, a), Object.defineProperty(l.prototype, "blurY", {
            get: function () {
                return this.$uniforms.blur.y
            },
            set: function (t) {
                this.$uniforms.blur.y = t
            },
            enumerable: !0,
            configurable: !0
        }), l);

        function l(t) {
            void 0 === t && (t = 4);
            var e = a.call(this) || this;
            return e.type = "blurY", e.$uniforms.blur = {
                x: 0,
                y: t
            }, e
        }
        __reflect(h.prototype, "BlurYFilter", ["egret.IBlurYFilter"])
    }(egret = egret || {}),
    function (t) {
        var i, e = (i = t.Filter, __extends(r, i), Object.defineProperty(r.prototype, "matrix", {
            get: function () {
                for (var t = 0; t < 20; t++) this.matrix2[t] = this.$matrix[t];
                return this.matrix2
            },
            set: function (t) {
                this.setMatrix(t), this.invalidate()
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.setMatrix = function (t) {
            if (t)
                for (var e = 0; e < 20; e++) this.$matrix[e] = t[e];
            else
                for (e = 0; e < 20; e++) this.$matrix[e] = 0 == e || 6 == e || 12 == e || 18 == e ? 1 : 0;
            for (var i = this.$matrix, r = this.$uniforms.matrix, n = this.$uniforms.colorAdd, e = 0, o = 0; e < i.length; e++) 4 === e ? n.x = i[e] / 255 : 9 === e ? n.y = i[e] / 255 : 14 === e ? n.z = i[e] / 255 : 19 === e ? n.w = i[e] / 255 : (r[o] = i[e], o++)
        }, r.prototype.$toJson = function () {
            return '{"matrix": [' + this.$matrix.toString() + "]}"
        }, r);

        function r(t) {
            void 0 === t && (t = null);
            var e = i.call(this) || this;
            return e.$matrix = [], e.matrix2 = [], e.type = "colorTransform", e.$uniforms.matrix = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], e.$uniforms.colorAdd = {
                x: 0,
                y: 0,
                z: 0,
                w: 0
            }, e.setMatrix(t), e
        }
        t.ColorMatrixFilter = e, __reflect(e.prototype, "egret.ColorMatrixFilter")
    }(egret = egret || {}),
    function (t) {
        var n, o, s = {},
            a = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
            h = new Array(36),
            l = 0,
            e = (o = t.Filter, __extends(i, o), Object.defineProperty(i.prototype, "uniforms", {
                get: function () {
                    return this.$uniforms
                },
                enumerable: !0,
                configurable: !0
            }), i);

        function i(t, e, i) {
            void 0 === i && (i = {});
            var r = o.call(this) || this;
            r.padding = 0;
            e = (r.$vertexSrc = t) + (r.$fragmentSrc = e);
            return s[e] || (s[e] = function () {
                for (var t = 0; t < 36; t++) 8 === t || 13 === t || 18 === t || 23 === t ? h[t] = "-" : 14 === t ? h[t] = "4" : (l <= 2 && (l = 33554432 + 16777216 * Math.random() | 0), n = 15 & l, l >>= 4, h[t] = a[19 === t ? 3 & n | 8 : n]);
                return h.join("")
            }()), r.$shaderKey = s[e], r.$uniforms = i, r.type = "custom", r
        }
        t.CustomFilter = e, __reflect(e.prototype, "egret.CustomFilter")
    }(egret = egret || {}),
    function (t) {
        var c, e = (c = t.GlowFilter, __extends(i, c), Object.defineProperty(i.prototype, "distance", {
            get: function () {
                return this.$distance
            },
            set: function (t) {
                this.$distance != t && (this.$distance = t, this.$uniforms.dist = t, this.invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "angle", {
            get: function () {
                return this.$angle
            },
            set: function (t) {
                this.$angle != t && (this.$angle = t, this.$uniforms.angle = t / 180 * Math.PI, this.invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "hideObject", {
            get: function () {
                return this.$hideObject
            },
            set: function (t) {
                this.$hideObject != t && (this.$hideObject = t, this.$uniforms.hideObject = t ? 1 : 0, this.invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.$toJson = function () {
            return '{"distance": ' + this.$distance + ', "angle": ' + this.$angle + ', "color": ' + this.$color + ', "red": ' + this.$red + ', "green": ' + this.$green + ', "blue": ' + this.$blue + ', "alpha": ' + this.$alpha + ', "blurX": ' + this.$blurX + ', "blurY": ' + this.blurY + ', "strength": ' + this.$strength + ', "quality": ' + this.$quality + ', "inner": ' + this.$inner + ', "knockout": ' + this.$knockout + ', "hideObject": ' + this.$hideObject + "}"
        }, i);

        function i(t, e, i, r, n, o, s, a, h, l, u) {
            void 0 === t && (t = 4), void 0 === e && (e = 45), void 0 === u && (u = !1);
            l = c.call(this, i = void 0 === i ? 0 : i, r = void 0 === r ? 1 : r, n = void 0 === n ? 4 : n, o = void 0 === o ? 4 : o, s = void 0 === s ? 1 : s, a = void 0 === a ? 1 : a, h = void 0 === h ? !1 : h, l = void 0 === l ? !1 : l) || this;
            return l.$distance = t, l.$angle = e, l.$hideObject = u, l.$uniforms.dist = t, l.$uniforms.angle = e / 180 * Math.PI, l.$uniforms.hideObject = u ? 1 : 0, l
        }
        t.DropShadowFilter = e, __reflect(e.prototype, "egret.DropShadowFilter")
    }(egret = egret || {}),
    function (t) {
        var e = (i.LINEAR = "linear", i.RADIAL = "radial", i);

        function i() {}
        t.GradientType = e, __reflect(e.prototype, "egret.GradientType")
    }(egret = egret || {}),
    function (s) {
        function h(t) {
            return (t %= 2 * Math.PI) < 0 && (t += 2 * Math.PI), t
        }
        var e, t = (e = s.HashObject, __extends(i, e), i.prototype.$setTarget = function (t) {
            this.targetDisplay && (this.targetDisplay.$renderNode = null), t.$renderNode = this.$renderNode, this.targetDisplay = t
        }, i.prototype.setStrokeWidth = function (t) {
            switch (t) {
                case 1:
                    this.topLeftStrokeWidth = 0, this.bottomRightStrokeWidth = 1;
                    break;
                case 3:
                    this.topLeftStrokeWidth = 1, this.bottomRightStrokeWidth = 2;
                    break;
                default:
                    var e = 0 | Math.ceil(.5 * t);
                    this.topLeftStrokeWidth = e, this.bottomRightStrokeWidth = e
            }
        }, i.prototype.beginFill = function (t, e) {
            this.fillPath = this.$renderNode.beginFill(t = +t || 0, e = +(e = void 0 === e ? 1 : e) || 0, this.strokePath), 1 < this.$renderNode.drawData.length && this.fillPath.moveTo(this.lastX, this.lastY)
        }, i.prototype.beginGradientFill = function (t, e, i, r, n) {
            this.fillPath = this.$renderNode.beginGradientFill(t, e, i, r, n = void 0 === n ? null : n, this.strokePath), 1 < this.$renderNode.drawData.length && this.fillPath.moveTo(this.lastX, this.lastY)
        }, i.prototype.endFill = function () {
            this.fillPath = null
        }, i.prototype.lineStyle = function (t, e, i, r, n, o, s, a) {
            void 0 === e && (e = 0), void 0 === i && (i = 1), void 0 === r && (r = !1), void 0 === n && (n = "normal"), void 0 === o && (o = null), void 0 === s && (s = null), void 0 === a && (a = 3), (t = +(t = void 0 === t ? NaN : t) || 0) <= 0 ? (this.strokePath = null, this.setStrokeWidth(0)) : (e = +e || 0, i = +i || 0, a = +a || 0, this.setStrokeWidth(t), this.strokePath = this.$renderNode.lineStyle(t, e, i, o, s, a), 1 < this.$renderNode.drawData.length && this.strokePath.moveTo(this.lastX, this.lastY))
        }, i.prototype.drawRect = function (t, e, i, r) {
            t = +t || 0, e = +e || 0, i = +i || 0, r = +r || 0;
            var n = this.fillPath,
                o = this.strokePath;
            n && n.drawRect(t, e, i, r), o && o.drawRect(t, e, i, r), this.extendBoundsByPoint(t + i, e + r), this.updatePosition(t, e), this.$renderNode.dirtyRender = !0
        }, i.prototype.drawRoundRect = function (t, e, i, r, n, o) {
            t = +t || 0, e = +e || 0, i = +i || 0, r = +r || 0, n = +n || 0, o = +o || 0;
            var s = this.fillPath,
                a = this.strokePath;
            s && s.drawRoundRect(t, e, i, r, n, o), a && a.drawRoundRect(t, e, i, r, n, o);
            i = t + i, r = e + r, n = r - (o ? .5 * o | 0 : .5 * n | 0);
            this.extendBoundsByPoint(t, e), this.extendBoundsByPoint(i, r), this.updatePosition(i, n), this.$renderNode.dirtyRender = !0
        }, i.prototype.drawCircle = function (t, e, i) {
            t = +t || 0, e = +e || 0, i = +i || 0;
            var r = this.fillPath,
                n = this.strokePath;
            r && r.drawCircle(t, e, i), n && n.drawCircle(t, e, i), this.extendBoundsByPoint(t - i, e - i), this.extendBoundsByPoint(t + i, e + i), this.updatePosition(t + i, e), this.$renderNode.dirtyRender = !0
        }, i.prototype.drawEllipse = function (t, e, i, r) {
            t = +t || 0, e = +e || 0, i = +i || 0, r = +r || 0;
            var n = this.fillPath,
                o = this.strokePath;
            n && n.drawEllipse(t, e, i, r), o && o.drawEllipse(t, e, i, r), this.extendBoundsByPoint(t, e), this.extendBoundsByPoint(t + i, e + r), this.updatePosition(t + i, e + .5 * r), this.$renderNode.dirtyRender = !0
        }, i.prototype.moveTo = function (t, e) {
            t = +t || 0, e = +e || 0;
            var i = this.fillPath,
                r = this.strokePath;
            i && i.moveTo(t, e), r && r.moveTo(t, e), this.includeLastPosition = !1, this.lastX = t, this.lastY = e, this.$renderNode.dirtyRender = !0
        }, i.prototype.lineTo = function (t, e) {
            t = +t || 0, e = +e || 0;
            var i = this.fillPath,
                r = this.strokePath;
            i && i.lineTo(t, e), r && r.lineTo(t, e), this.updatePosition(t, e), this.$renderNode.dirtyRender = !0
        }, i.prototype.curveTo = function (t, e, i, r) {
            t = +t || 0, e = +e || 0, i = +i || 0, r = +r || 0;
            var n = this.fillPath,
                o = this.strokePath;
            n && n.curveTo(t, e, i, r), o && o.curveTo(t, e, i, r), this.extendBoundsByPoint(t, e), this.extendBoundsByPoint(i, r), this.updatePosition(i, r), this.$renderNode.dirtyRender = !0
        }, i.prototype.cubicCurveTo = function (t, e, i, r, n, o) {
            t = +t || 0, e = +e || 0, i = +i || 0, r = +r || 0, n = +n || 0, o = +o || 0;
            var s = this.fillPath,
                a = this.strokePath;
            s && s.cubicCurveTo(t, e, i, r, n, o), a && a.cubicCurveTo(t, e, i, r, n, o), this.extendBoundsByPoint(t, e), this.extendBoundsByPoint(i, r), this.extendBoundsByPoint(n, o), this.updatePosition(n, o), this.$renderNode.dirtyRender = !0
        }, i.prototype.drawArc = function (t, e, i, r, n, o) {
            var s, a;
            i < 0 || r === n || (t = +t || 0, e = +e || 0, i = +i || 0, n = +n || 0, o = !!o, r = h(r = +r || 0), n = h(n), s = this.fillPath, a = this.strokePath, s && (s.$lastX = this.lastX, s.$lastY = this.lastY, s.drawArc(t, e, i, r, n, o)), a && (a.$lastX = this.lastX, a.$lastY = this.lastY, a.drawArc(t, e, i, r, n, o)), o ? this.arcBounds(t, e, i, n, r) : this.arcBounds(t, e, i, r, n), t = t + Math.cos(n) * i, i = e + Math.sin(n) * i, this.updatePosition(t, i), this.$renderNode.dirtyRender = !0)
        }, i.prototype.arcBounds = function (t, e, i, r, n) {
            var o = Math.PI;
            if (Math.abs(r - n) < .01) return this.extendBoundsByPoint(t - i, e - i), void this.extendBoundsByPoint(t + i, e + i);
            n < r && (n += 2 * o);
            for (var s = Math.cos(r) * i, a = Math.cos(n) * i, h = Math.min(s, a), l = Math.max(s, a), s = Math.sin(r) * i, a = Math.sin(n) * i, u = Math.min(s, a), c = Math.max(s, a), p = n / (.5 * o), d = Math.ceil(r / (.5 * o)); d <= p; d++) switch (d % 4) {
                case 0:
                    l = i;
                    break;
                case 1:
                    c = i;
                    break;
                case 2:
                    h = -i;
                    break;
                case 3:
                    u = -i
            }
            h = Math.floor(h), u = Math.floor(u), l = Math.ceil(l), c = Math.ceil(c), this.extendBoundsByPoint(h + t, u + e), this.extendBoundsByPoint(l + t, c + e)
        }, i.prototype.clear = function () {
            this.$renderNode.clear(), this.updatePosition(0, 0), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -1 / 0, this.maxY = -1 / 0
        }, i.prototype.extendBoundsByPoint = function (t, e) {
            this.extendBoundsByX(t), this.extendBoundsByY(e)
        }, i.prototype.extendBoundsByX = function (t) {
            this.minX = Math.min(this.minX, t - this.topLeftStrokeWidth), this.maxX = Math.max(this.maxX, t + this.bottomRightStrokeWidth), this.updateNodeBounds()
        }, i.prototype.extendBoundsByY = function (t) {
            this.minY = Math.min(this.minY, t - this.topLeftStrokeWidth), this.maxY = Math.max(this.maxY, t + this.bottomRightStrokeWidth), this.updateNodeBounds()
        }, i.prototype.updateNodeBounds = function () {
            var t = this.$renderNode;
            t.x = this.minX - 2, t.y = this.minY - 2, t.width = Math.ceil(this.maxX - this.minX) + 4, t.height = Math.ceil(this.maxY - this.minY) + 4
        }, i.prototype.updatePosition = function (t, e) {
            this.includeLastPosition || (this.extendBoundsByPoint(this.lastX, this.lastY), this.includeLastPosition = !0), this.lastX = t, this.lastY = e, this.extendBoundsByPoint(t, e), this.targetDisplay.$invalidateContentBounds()
        }, i.prototype.$measureContentBounds = function (t) {
            this.minX === 1 / 0 ? t.setEmpty() : t.setTo(this.minX, this.minY, this.maxX - this.minX, this.maxY - this.minY)
        }, i.prototype.$hitTest = function (t, e) {
            var i = this.targetDisplay,
                r = i.$getInvertedConcatenatedMatrix(),
                n = r.a * t + r.c * e + r.tx,
                o = r.b * t + r.d * e + r.ty,
                t = s.sys.canvasHitTestBuffer;
            t.resize(3, 3);
            e = this.$renderNode, r = s.Matrix.create();
            r.identity(), r.translate(1 - n, 1 - o), s.sys.canvasRenderer.drawNodeToBuffer(e, t, r, !0), s.Matrix.release(r);
            try {
                if (0 === t.getPixels(1, 1)[3]) return null
            } catch (t) {
                throw new Error(s.sys.tr(1039))
            }
            return i
        }, i.prototype.$onRemoveFromStage = function () {
            this.$renderNode && this.$renderNode.clean()
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.lastX = 0, t.lastY = 0, t.fillPath = null, t.strokePath = null, t.topLeftStrokeWidth = 0, t.bottomRightStrokeWidth = 0, t.minX = 1 / 0, t.minY = 1 / 0, t.maxX = -1 / 0, t.maxY = -1 / 0, t.includeLastPosition = !0, t.$renderNode = new s.sys.GraphicsNode, t
        }
        s.Graphics = t, __reflect(t.prototype, "egret.Graphics")
    }(egret = egret || {}),
    function (h) {
        var a, t = Math.PI,
            s = 2 * t,
            l = t / 180,
            e = [],
            i = (a = h.HashObject, __extends(r, a), r.release = function (t) {
                t && e.push(t)
            }, r.create = function () {
                return e.pop() || new r
            }, r.prototype.clone = function () {
                return new r(this.a, this.b, this.c, this.d, this.tx, this.ty)
            }, r.prototype.concat = function (t) {
                var e = this.a * t.a,
                    i = 0,
                    r = 0,
                    n = this.d * t.d,
                    o = this.tx * t.a + t.tx,
                    s = this.ty * t.d + t.ty;
                0 === this.b && 0 === this.c && 0 === t.b && 0 === t.c || (e += this.b * t.c, n += this.c * t.b, i += this.a * t.b + this.b * t.d, r += this.c * t.a + this.d * t.c, o += this.ty * t.c, s += this.tx * t.b), this.a = e, this.b = i, this.c = r, this.d = n, this.tx = o, this.ty = s
            }, r.prototype.copyFrom = function (t) {
                return this.a = t.a, this.b = t.b, this.c = t.c, this.d = t.d, this.tx = t.tx, this.ty = t.ty, this
            }, r.prototype.identity = function () {
                this.a = this.d = 1, this.b = this.c = this.tx = this.ty = 0
            }, r.prototype.invert = function () {
                this.$invertInto(this)
            }, r.prototype.$invertInto = function (t) {
                var e, i, r = this.a,
                    n = this.b,
                    o = this.c,
                    s = this.d,
                    a = this.tx,
                    h = this.ty;
                0 != n || 0 != o ? 0 != (e = r * s - n * o) ? (i = t.a = s * (e = 1 / e), n = t.b = -n * e, o = t.c = -o * e, s = t.d = r * e, t.tx = -(i * a + o * h), t.ty = -(n * a + s * h)) : t.identity() : (t.b = t.c = 0) == r || 0 == s ? t.a = t.d = t.tx = t.ty = 0 : (r = t.a = 1 / r, s = t.d = 1 / s, t.tx = -r * a, t.ty = -s * h)
            }, r.prototype.rotate = function (t) {
                var e, i, r, n, o, s, a;
                0 !== (t = +t) && (e = h.NumberUtils.cos(t /= l), i = h.NumberUtils.sin(t), r = this.a, n = this.b, o = this.c, s = this.d, a = this.tx, t = this.ty, this.a = r * e - n * i, this.b = r * i + n * e, this.c = o * e - s * i, this.d = o * i + s * e, this.tx = a * e - t * i, this.ty = a * i + t * e)
            }, r.prototype.scale = function (t, e) {
                1 !== t && (this.a *= t, this.c *= t, this.tx *= t), 1 !== e && (this.b *= e, this.d *= e, this.ty *= e)
            }, r.prototype.setTo = function (t, e, i, r, n, o) {
                return this.a = t, this.b = e, this.c = i, this.d = r, this.tx = n, this.ty = o, this
            }, r.prototype.transformPoint = function (t, e, i) {
                var r = this.a * t + this.c * e + this.tx,
                    e = this.b * t + this.d * e + this.ty;
                return i ? (i.setTo(r, e), i) : new h.Point(r, e)
            }, r.prototype.translate = function (t, e) {
                this.tx += t, this.ty += e
            }, r.prototype.equals = function (t) {
                return this.a == t.a && this.b == t.b && this.c == t.c && this.d == t.d && this.tx == t.tx && this.ty == t.ty
            }, r.prototype.prepend = function (t, e, i, r, n, o) {
                var s, a, h = this.tx;
                return 1 == t && 0 == e && 0 == i && 1 == r || (s = this.a, a = this.c, this.a = s * t + this.b * i, this.b = s * e + this.b * r, this.c = a * t + this.d * i, this.d = a * e + this.d * r), this.tx = h * t + this.ty * i + n, this.ty = h * e + this.ty * r + o, this
            }, r.prototype.append = function (t, e, i, r, n, o) {
                var s = this.a,
                    a = this.b,
                    h = this.c,
                    l = this.d;
                return 1 == t && 0 == e && 0 == i && 1 == r || (this.a = t * s + e * h, this.b = t * a + e * l, this.c = i * s + r * h, this.d = i * a + r * l), this.tx = n * s + o * h + this.tx, this.ty = n * a + o * l + this.ty, this
            }, r.prototype.deltaTransformPoint = function (t) {
                var e = this.a * t.x + this.c * t.y,
                    t = this.b * t.x + this.d * t.y;
                return new h.Point(e, t)
            }, r.prototype.toString = function () {
                return "(a=" + this.a + ", b=" + this.b + ", c=" + this.c + ", d=" + this.d + ", tx=" + this.tx + ", ty=" + this.ty + ")"
            }, r.prototype.createBox = function (t, e, i, r, n) {
                void 0 === r && (r = 0), void 0 === n && (n = 0);
                var o, s = this;
                0 !== (i = void 0 === i ? 0 : i) ? (o = h.NumberUtils.cos(i /= l), i = h.NumberUtils.sin(i), s.a = o * t, s.b = i * e, s.c = -i * t, s.d = o * e) : (s.a = t, s.b = 0, s.c = 0, s.d = e), s.tx = r, s.ty = n
            }, r.prototype.createGradientBox = function (t, e, i, r, n) {
                this.createBox(t / 1638.4, e / 1638.4, i = void 0 === i ? 0 : i, (r = void 0 === r ? 0 : r) + t / 2, (n = void 0 === n ? 0 : n) + e / 2)
            }, r.prototype.$transformBounds = function (t) {
                var e = this.a,
                    i = this.b,
                    r = this.c,
                    n = this.d,
                    o = this.tx,
                    s = this.ty,
                    a = t.x,
                    h = t.y,
                    l = a + t.width,
                    u = h + t.height,
                    c = e * a + r * h + o,
                    p = i * a + n * h + s,
                    d = e * l + r * h + o,
                    f = i * l + n * h + s,
                    h = e * l + r * u + o,
                    l = i * l + n * u + s,
                    o = e * a + r * u + o,
                    u = i * a + n * u + s,
                    s = 0;
                d < c && (s = c, c = d, d = s), o < h && (s = h, h = o, o = s), t.x = Math.floor(c < h ? c : h), t.width = Math.ceil((o < d ? d : o) - t.x), f < p && (s = p, p = f, f = s), u < l && (s = l, l = u, u = s), t.y = Math.floor(p < l ? p : l), t.height = Math.ceil((u < f ? f : u) - t.y)
            }, r.prototype.getDeterminant = function () {
                return this.a * this.d - this.b * this.c
            }, r.prototype.$getScaleX = function () {
                var t = this;
                if (1 == t.a && 0 == t.b) return 1;
                t = Math.sqrt(t.a * t.a + t.b * t.b);
                return this.getDeterminant() < 0 ? -t : t
            }, r.prototype.$getScaleY = function () {
                var t = this;
                if (0 == t.c && 1 == t.d) return 1;
                t = Math.sqrt(t.c * t.c + t.d * t.d);
                return this.getDeterminant() < 0 ? -t : t
            }, r.prototype.$getSkewX = function () {
                return Math.atan2(this.d, this.c) - t / 2
            }, r.prototype.$getSkewY = function () {
                return Math.atan2(this.b, this.a)
            }, r.prototype.$updateScaleAndRotation = function (t, e, i, r) {
                if (!(0 != i && i != s || 0 != r && r != s)) return this.a = t, this.b = this.c = 0, void(this.d = e);
                r /= l;
                var n = h.NumberUtils.cos(i /= l),
                    o = h.NumberUtils.sin(i);
                i == r ? (this.a = n * t, this.b = o * t) : (this.a = h.NumberUtils.cos(r) * t, this.b = h.NumberUtils.sin(r) * t), this.c = -o * e, this.d = n * e
            }, r.prototype.$preMultiplyInto = function (t, e) {
                var i = t.a * this.a,
                    r = 0,
                    n = 0,
                    o = t.d * this.d,
                    s = t.tx * this.a + this.tx,
                    a = t.ty * this.d + this.ty;
                0 === t.b && 0 === t.c && 0 === this.b && 0 === this.c || (i += t.b * this.c, o += t.c * this.b, r += t.a * this.b + t.b * this.d, n += t.c * this.a + t.d * this.c, s += t.ty * this.c, a += t.tx * this.b), e.a = i, e.b = r, e.c = n, e.d = o, e.tx = s, e.ty = a
            }, r);

        function r(t, e, i, r, n, o) {
            void 0 === t && (t = 1), void 0 === e && (e = 0), void 0 === i && (i = 0), void 0 === r && (r = 1), void 0 === n && (n = 0), void 0 === o && (o = 0);
            var s = a.call(this) || this;
            return s.a = t, s.b = e, s.c = i, s.d = r, s.tx = n, s.ty = o, s
        }
        h.Matrix = i, __reflect(i.prototype, "egret.Matrix"), h.$TempMatrix = new i
    }(egret = egret || {}), (egret = egret || {}).JointStyle = {
        BEVEL: "bevel",
        MITER: "miter",
        ROUND: "round"
    },
    function (t) {
        t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.en_US = t.$locale_strings.en_US || {};
        t = t.$locale_strings.en_US;
        t[1001] = "Could not find Egret entry class: {0}", t[1002] = "Egret entry class '{0}' must inherit from egret.DisplayObject.", t[1003] = "Parameter {0} must be non-null.", t[1004] = "An object cannot be added as a child to one of it's children (or children's children, etc.).", t[1005] = "An object cannot be added as a child of itself.", t[1006] = "The supplied DisplayObject must be a child of the caller.", t[1007] = "An index specified for a parameter was out of range.", t[1008] = "Instantiate singleton errorsingleton class {0} can not create multiple instances.", t[1009] = 'the Class {0} cannot use the property "{1}"', t[1010] = 'the property "{1}" of the Class "{0}" is readonly', t[1011] = "Stream Error. URL: {0}", t[1012] = "The type of parameter {0} must be Class.", t[1013] = "Variable assignment is NaN, please see the code!", t[1014] = 'the constant "{1}" of the Class "{0}" is read-only', t[1015] = "xml not found!", t[1016] = "{0}has been obsoleted", t[1017] = "The format of JSON file is incorrect: {0}\ndata: {1}", t[1018] = "the scale9Grid is not correct", t[1019] = "Network ab:{0}", t[1020] = "Cannot initialize Shader", t[1021] = "Current browser does not support webgl", t[1022] = "{0} ArgumentError", t[1023] = "This method is not available in the ScrollView!", t[1025] = "end of the file", t[1026] = "! EncodingError The code point {0} could not be encoded.", t[1027] = "DecodingError", t[1028] = ". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.", t[1029] = "Function.prototype.bind - what is trying to be bound is not callable", t[1033] = "Photos can not be used across domains toDataURL to convert base64", t[1034] = 'Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.', t[1035] = "Native does not support this feature!", t[1036] = "Sound has stopped, please recall Sound.play () to play the sound!", t[1037] = "Non-load the correct blob!", t[1038] = "XML format error!", t[1039] = "Cross domains pictures can not get pixel information!", t[1040] = "hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.", t[1041] = "{0} is deprecated, please use {1} replace", t[1042] = "The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.", t[1043] = "Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.", t[1044] = "The current version of the Runtime does not support video playback, please use the latest version", t[1045] = "The resource url is not found", t[1046] = "BitmapText no corresponding characters: {0}, please check the configuration file", t[1047] = "egret.localStorage.setItem save failed,key={0}&value={1}", t[1048] = "Video loading failed", t[1049] = "In the absence of sound is not allowed to play after loading", t[1050] = "ExternalInterface calls the method without js registration: {0}", t[3e3] = "Theme configuration file failed to load: {0}", t[3001] = "Cannot find the skin name which is configured in Theme: {0}", t[3002] = 'Index:"{0}" is out of the collection element index range', t[3003] = "Cannot be available in this component. If this component is container, please continue to use", t[3004] = "addChild(){0}addElement() replace", t[3005] = "addChildAt(){0}addElementAt() replace", t[3006] = "removeChild(){0}removeElement() replace", t[3007] = "removeChildAt(){0}removeElementAt() replace", t[3008] = "setChildIndex(){0}setElementIndex() replace", t[3009] = "swapChildren(){0}swapElements() replace", t[3010] = "swapChildrenAt(){0}swapElementsAt() replace", t[3011] = 'Index:"{0}" is out of the visual element index range', t[3012] = "This method is not available in Scroller component!", t[3013] = "UIStage is GUI root container, and only one such instant is in the display list", t[3014] = "set fullscreen error", t[3100] = "Current browser does not support WebSocket", t[3101] = "Please connect Socket firstly", t[3102] = "Please set the type of binary type", t[4e3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)", t[4001] = "Abstract class can not be instantiated!", t[4002] = "Unnamed data!", t[4003] = "Nonsupport version!"
    }(egret = egret || {}),
    function (s) {
        var e, t = (e = s.Bitmap, __extends(i, e), i.prototype.$render = function () {
            var t, e, i, r, n = this.$Bitmap,
                o = n[1];
            o && (s.$TextureScaleFactor, (t = this.$renderNode).smoothing = n[10], t.image = o, t.imageWidth = n[13], t.imageHeight = n[14], i = isNaN(n[11]) ? n[8] : n[11], r = isNaN(n[12]) ? n[9] : n[12], e = i / n[8], o = r / n[9], i = n[4], r = n[5], t.drawMesh(n[2], n[3], i, r, n[6] * e, n[7] * o, e * i, o * r))
        }, i.prototype.$updateVertices = function () {
            this._verticesDirty = !0, this.$invalidateContentBounds()
        }, i.prototype.$measureContentBounds = function (t) {
            if (this._verticesDirty) {
                this._verticesDirty = !1;
                var e = this.$renderNode,
                    i = e.vertices;
                if (i.length) {
                    this._bounds.setTo(Number.MAX_VALUE, Number.MAX_VALUE, -Number.MAX_VALUE, -Number.MAX_VALUE);
                    for (var r = 0, n = i.length; r < n; r += 2) {
                        var o = i[r],
                            s = i[r + 1];
                        this._bounds.x > o && (this._bounds.x = o), this._bounds.width < o && (this._bounds.width = o), this._bounds.y > s && (this._bounds.y = s), this._bounds.height < s && (this._bounds.height = s)
                    }
                    this._bounds.width -= this._bounds.x, this._bounds.height -= this._bounds.y
                } else this._bounds.setTo(0, 0, 0, 0);
                e.bounds.copyFrom(this._bounds)
            }
            t.copyFrom(this._bounds)
        }, i);

        function i(t) {
            t = e.call(this, t) || this;
            return t._verticesDirty = !0, t._bounds = new s.Rectangle, t.$renderNode = new s.sys.MeshNode, t
        }
        s.Mesh = t, __reflect(t.prototype, "egret.Mesh")
    }(egret = egret || {}),
    function (t) {
        t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.en_US = t.$locale_strings.en_US || {};
        t = t.$locale_strings.en_US;
        t[1001] = "   Egret   : {0}", t[1002] = "Egret    {0}      egret.DisplayObject", t[1003] = "   {0}     null", t[1004] = "                            ", t[1005] = "               ", t[1006] = "    DisplayObject          ", t[1007] = "             ", t[1008] = "                {0}   ", t[1009] = "  {0}         {1}", t[1010] = "  {0}    {1}     ", t[1011] = "   URL: {0}", t[1012] = "   {0}        Class", t[1013] = "     NaN     ", t[1014] = "  {0}    {1}     ", t[1015] = "xml not found!", t[1016] = "{0}    ", t[1017] = "JSON       : {0}\ndata: {1}", t[1018] = "9      ", t[1019] = "    :{0}", t[1020] = "        ", t[1021] = "        webgl", t[1022] = "{0} ArgumentError", t[1023] = "    ScrollView    !", t[1025] = "     ", t[1026] = "EncodingError! The code point {0} could not be encoded.", t[1027] = "DecodingError", t[1028] = "           :{0}                          ", t[1029] = "Function.prototype.bind - what is trying to be bound is not callable", t[1033] = "         toDataURL    base64", t[1034] = '        "{0}"               mp3', t[1035] = "Native         ", t[1036] = "           Sound.play()      ", t[1037] = "    blob  ", t[1038] = "XML     !", t[1039] = "            !", t[1040] = "hitTestPoint            !                  ", t[1041] = "{0}    ,    {1}   ", t[1042] = "drawToTexture                ,              ", t[1043] = "{0}            : {1}    : {2}", t[1044] = "    runtime          ,        ", t[1045] = "            ", t[1046] = "BitmapText        :{0}       ", t[1047] = "egret.localStorage.setItem    ,key={0}&value={1}", t[1048] = "      ", t[1049] = "               ", t[1050] = "ExternalInterface   js       : {0}", t[3e3] = "          : {0}", t[3001] = "              : {0}", t[3002] = '  :"{0}"          ', t[3003] = "                   ", t[3004] = "addChild(){0}addElement()  ", t[3005] = "addChildAt(){0}addElementAt()  ", t[3006] = "removeChild(){0}removeElement()  ", t[3007] = "removeChildAt(){0}removeElementAt()  ", t[3008] = "setChildIndex(){0}setElementIndex()  ", t[3009] = "swapChildren(){0}swapElements()  ", t[3010] = "swapChildrenAt(){0}swapElementsAt()  ", t[3011] = '  :"{0}"          ', t[3012] = "    Scroller      !", t[3013] = "UIStage GUI                 ", t[3014] = "        ", t[3100] = "        WebSocket", t[3101] = "    WebSocket", t[3102] = "    type      ", t[4e3] = "An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)", t[4001] = "Abstract class can not be instantiated!", t[4002] = "Unnamed data!", t[4003] = "Nonsupport version!"
    }(egret = egret || {}),
    function (t) {
        t.localStorage || (t.localStorage = {})
    }(egret = egret || {}),
    function (t) {
        var e;
        t = t.sys || (t.sys = {}), e = [], t.$pushSoundChannel = function (t) {
            e.indexOf(t) < 0 && e.push(t)
        }, t.$popSoundChannel = function (t) {
            return 0 <= (t = e.indexOf(t)) && (e.splice(t, 1), !0)
        }
    }(egret = egret || {}), egret = egret || {}, egret = egret || {},
    function (t) {
        var e = (i.create = function () {
            return i.promiseObjectList.length ? i.promiseObjectList.pop() : new t.PromiseObject
        }, i.prototype.onSuccess = function () {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this.onSuccessFunc && this.onSuccessFunc.apply(this.onSuccessThisObject, t), this.destroy()
        }, i.prototype.onError = function () {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this.onErrorFunc && this.onErrorFunc.apply(this.onErrorThisObject, t), this.destroy()
        }, i.prototype.downloadingSize = function () {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this.downloadingSizeFunc && this.downloadingSizeFunc.apply(this.downloadingSizeThisObject, t)
        }, i.prototype.onResponseHeader = function () {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            this.onResponseHeaderFunc && this.onResponseHeaderFunc.apply(this.onResponseHeaderThisObject, t)
        }, i.prototype.destroy = function () {
            this.onSuccessFunc = void 0, this.onSuccessThisObject = void 0, this.onErrorFunc = void 0, this.onErrorThisObject = void 0, this.downloadingSizeFunc = void 0, this.downloadingSizeThisObject = void 0, this.onResponseHeaderFunc = void 0, this.onResponseHeaderThisObject = void 0, i.promiseObjectList.push(this)
        }, i.promiseObjectList = [], i);

        function i() {
            this.onSuccessFunc = null, this.onSuccessThisObject = null, this.onErrorFunc = null, this.onErrorThisObject = null, this.downloadingSizeFunc = null, this.downloadingSizeThisObject = null, this.onResponseHeaderFunc = null, this.onResponseHeaderThisObject = null
        }
        t.PromiseObject = e, __reflect(e.prototype, "egret.PromiseObject")
    }(egret = egret || {}),
    function (t) {
        var e = (i.GET = "GET", i.POST = "POST", i);

        function i() {}
        t.HttpMethod = e, __reflect(e.prototype, "egret.HttpMethod")
    }(egret = egret || {}), egret = egret || {},
    function (t) {
        var e = (i.TEXT = "text", i.ARRAY_BUFFER = "arraybuffer", i);

        function i() {}
        t.HttpResponseType = e, __reflect(e.prototype, "egret.HttpResponseType")
    }(egret = egret || {}), egret = egret || {},
    function (s) {
        var y, t;

        function e(t) {
            this.dirtyList = [], this.hasClipRect = !1, this.clipWidth = 0, this.clipHeight = 0, this.clipArea = 0, this.clipRectChanged = !1, this.$dirtyRegionPolicy = s.DirtyRegionPolicy.ON, this.root = t
        }
        y = s.sys || (s.sys = {}), e.prototype.setClipRect = function (t, e) {
            this.hasClipRect = !0, this.clipRectChanged = !0, this.clipWidth = Math.ceil(t), this.clipHeight = Math.ceil(e), this.clipArea = this.clipWidth * this.clipHeight
        }, e.prototype.addRegion = function (t) {
            var e = t.minX,
                i = t.minY,
                r = t.maxX,
                n = t.maxY;
            if (this.hasClipRect && (e < 0 && (e = 0), i < 0 && (i = 0), r > this.clipWidth && (r = this.clipWidth), n > this.clipHeight && (n = this.clipHeight)), r <= e || n <= i) return !1;
            if (this.clipRectChanged) return !0;
            var o = this.dirtyList,
                t = y.Region.create();
            return o.push(t.setTo(e, i, r, n)), this.$dirtyRegionPolicy != s.DirtyRegionPolicy.OFF && this.mergeDirtyList(o), !0
        }, e.prototype.clear = function () {
            for (var t = this.dirtyList, e = t.length, i = 0; i < e; i++) y.Region.release(t[i]);
            t.length = 0
        }, e.prototype.getDirtyRegions = function () {
            var t = this.dirtyList;
            if (this.$dirtyRegionPolicy == s.DirtyRegionPolicy.OFF) {
                this.clipRectChanged = !0, this.clear();
                var e, i = y.Region.create();
                this.hasClipRect ? t.push(i.setTo(0, 0, this.clipWidth, this.clipHeight)) : (e = this.root.$getOriginalBounds(), t.push(i.setTo(e.x, e.y, e.width, e.height)))
            } else if (this.clipRectChanged) {
                this.clipRectChanged = !1, this.clear();
                i = y.Region.create();
                t.push(i.setTo(0, 0, this.clipWidth, this.clipHeight))
            } else
                for (; this.mergeDirtyList(t););
            var r = this.dirtyList.length;
            if (0 < r)
                for (var n = 0; n < r; n++) this.dirtyList[n].intValues();
            return this.dirtyList
        }, e.prototype.mergeDirtyList = function (t) {
            var e = t.length;
            if (e < 2) return !1;
            for (var i, r, n, o, s = this.hasClipRect, a = 3 < e ? Number.POSITIVE_INFINITY : 0, h = 0, l = 0, u = 0, c = 0; c < e - 1; c++) {
                var p = t[c];
                s && (u += p.area);
                for (var d = c + 1; d < e; d++) {
                    var f = t[d],
                        f = (r = f, o = n = void 0, n = ((i = p).minX < r.minX ? i : r).minX, o = (i.minY < r.minY ? i : r).minY, ((i.maxX > r.maxX ? i : r).maxX - n) * ((i.maxY > r.maxY ? i : r).maxY - o) - p.area - f.area);
                    f < a && (h = c, l = d, a = f)
                }
            }
            if (s && .95 < u / this.clipArea && (this.clipRectChanged = !0), h == l) return !1;
            var g = t[l];
            return t[h].union(g), y.Region.release(g), t.splice(l, 1), !0
        }, e.prototype.setDirtyRegionPolicy = function (t) {
            this.$dirtyRegionPolicy = t
        }, t = e, y.DirtyRegion = t, __reflect(t.prototype, "egret.sys.DirtyRegion")
    }(egret = egret || {}),
    function (h) {
        var o, i, t;

        function s(t) {
            var e = i.call(this) || this;
            return e.isStage = !1, e.$renderNode = new o.BitmapNode, e.renderBuffer = null, e.offsetX = 0, e.offsetY = 0, e.offsetMatrix = new h.Matrix, e.isDirty = !1, e.needUpdateRegions = !1, e.dirtyNodeList = [], e.dirtyList = null, e.$canvasScaleX = 1, e.$canvasScaleY = 1, e.sizeChanged = !1, e.$dirtyRegionPolicy = h.DirtyRegionPolicy.ON, e.root = t, e.dirtyRegion = new o.DirtyRegion(t), e.isStage = t instanceof h.Stage, e.dirtyNodes = h.createMap(), e
        }
        o = h.sys || (h.sys = {}), i = h.HashObject, __extends(s, i), s.create = function (t) {
            var e = new h.sys.DisplayList(t);
            try {
                var i = new o.RenderBuffer;
                e.renderBuffer = i
            } catch (t) {
                return null
            }
            return e.root = t, "webgl" == h.Capabilities.$renderMode && (t = h.DirtyRegionPolicy.OFF, e.$dirtyRegionPolicy = t, e.dirtyRegion.setDirtyRegionPolicy(t), e.renderBuffer.setDirtyRegionPolicy(t)), e
        }, s.prototype.$getRenderNode = function () {
            return this.$renderNode
        }, s.prototype.$update = function (t) {
            var e = this.root;
            if (null == e) return !1;
            e.$removeFlagsUp(768);
            var i = this.$renderNode,
                r = e.$getConcatenatedMatrix(),
                n = e.$parentDisplayList;
            if (t == h.DirtyRegionPolicy.OFF) {
                if (this.needUpdateRegions && this.updateDirtyRegions(), !n) return !1;
                (o = i.renderMatrix).copyFrom(r), (s = n.root) !== e.$stage && e.$getConcatenatedMatrixAt(s, o), i.renderAlpha = e.$getConcatenatedAlpha()
            } else {
                var o, s, a = e.$getOriginalBounds(),
                    t = i.renderRegion;
                if (this.needUpdateRegions && this.updateDirtyRegions(), !n) return t.setTo(0, 0, 0, 0), i.moved = !1;
                if (!i.moved) return !1;
                i.moved = !1, (o = i.renderMatrix).copyFrom(r), (s = n.root) !== e.$stage && e.$getConcatenatedMatrixAt(s, o), t.updateRegion(a, o), i.renderAlpha = e.$getConcatenatedAlpha()
            }
            return !0
        }, s.prototype.setClipRect = function (t, e) {
            this.dirtyRegion.setClipRect(t, e), this.renderBuffer.resize(t *= s.$canvasScaleX, e *= s.$canvasScaleY)
        }, s.prototype.markDirty = function (t) {
            var e = t.$hashCode;
            this.dirtyNodes[e] || (this.dirtyNodes[e] = !0, this.dirtyNodeList.push(t), this.needUpdateRegions || (this.needUpdateRegions = !0, this.isDirty = !0, (t = this.root.$parentDisplayList) && t.markDirty(this)))
        }, s.prototype.updateDirtyRegions = function () {
            var t = this.dirtyNodeList;
            this.dirtyNodeList = [], this.dirtyNodes = h.createMap(), this.needUpdateRegions = !1;
            for (var e = this.dirtyRegion, i = t.length, r = 0; r < i; r++) {
                var n, o = t[r],
                    s = o.$getRenderNode();
                s && (s.needRedraw = !1, this.isStage ? (0 < s.renderAlpha && s.renderVisible && e.addRegion(s.renderRegion) && (s.needRedraw = !0), n = o.$update(this.$dirtyRegionPolicy), 0 < s.renderAlpha && s.renderVisible && (n || !s.needRedraw) && e.addRegion(s.renderRegion) && (s.needRedraw = !0)) : (e.addRegion(s.renderRegion) && (s.needRedraw = !0), !(n = o.$update(this.$dirtyRegionPolicy)) && s.needRedraw || e.addRegion(s.renderRegion) && (s.needRedraw = !0)))
            }
            return this.dirtyList = e.getDirtyRegions(), this.dirtyList
        }, s.prototype.drawToSurface = function () {
            var t, e, i, r = 0,
                n = this.dirtyList;
            return n && 0 < n.length && (this.$canvasScaleX = this.offsetMatrix.a = s.$canvasScaleX, this.$canvasScaleY = this.offsetMatrix.d = s.$canvasScaleY, this.isStage || this.changeSurfaceSize(), (i = this.renderBuffer).beginClip(this.dirtyList, this.offsetX, this.offsetY), n = this.$dirtyRegionPolicy == h.DirtyRegionPolicy.OFF ? null : this.dirtyList, r = o.systemRenderer.render(this.root, i, this.offsetMatrix, n, !this.isStage), i.endClip(), this.isStage || (t = i.surface, (e = this.$renderNode).drawData.length = 0, n = t.width, i = t.height, this.bitmapData ? (this.bitmapData.source = t, this.bitmapData.width = n, this.bitmapData.height = i) : this.bitmapData = new h.BitmapData(t), e.image = this.bitmapData, e.imageWidth = n, e.imageHeight = i, e.drawImage(0, 0, n, i, -this.offsetX, -this.offsetY, n / this.$canvasScaleX, i / this.$canvasScaleY))), this.dirtyList = null, this.dirtyRegion.clear(), this.isDirty = !1, r
        }, s.prototype.changeSurfaceSize = function () {
            this.root;
            var t = this.offsetX,
                e = this.offsetY,
                i = this.root.$getOriginalBounds(),
                r = this.$canvasScaleX,
                n = this.$canvasScaleY;
            this.offsetX = -i.x, this.offsetY = -i.y, this.offsetMatrix.setTo(this.offsetMatrix.a, 0, 0, this.offsetMatrix.d, this.offsetX, this.offsetY);
            var o = this.renderBuffer,
                r = Math.max(257, i.width * r),
                n = Math.max(257, i.height * n);
            this.offsetX == t && this.offsetY == e && o.surface.width == r && o.surface.height == n || (this.sizeChanged ? o.resizeTo(r, n, this.offsetX - t, this.offsetY - e) : (this.sizeChanged = !0, o.resize(r, n)))
        }, s.prototype.setDirtyRegionPolicy = function (t) {
            this.$dirtyRegionPolicy = t, this.dirtyRegion.setDirtyRegionPolicy(t), this.renderBuffer.setDirtyRegionPolicy(t)
        }, s.$setCanvasScale = function (t, e) {
            s.$canvasScaleX = t, s.$canvasScaleY = e
        }, s.$canvasScaleFactor = 1, s.$canvasScaleX = 1, s.$canvasScaleY = 1, t = s, o.DisplayList = t, __reflect(t.prototype, "egret.sys.DisplayList", ["egret.sys.Renderable"])
    }(egret = egret || {}), egret = egret || {}, egret = egret || {},
    function (f) {
        ! function (p) {
            var n, t = (n = f.HashObject, __extends(e, n), e.prototype.createDisplayList = function (t, e) {
                var i = new p.DisplayList(t);
                return i.renderBuffer = e, t.$displayList = i
            }, e.prototype.start = function () {
                !this.isPlaying && this.stage && (p.$TempStage = p.$TempStage || this.stage, this.isPlaying = !0, this.root || this.initialize(), f.ticker.$addPlayer(this))
            }, e.prototype.initialize = function () {
                var t;
                (t = this.entryClassName ? f.getDefinitionByName(this.entryClassName) : t) ? (t = new t, (this.root = t) instanceof f.DisplayObject ? this.stage.addChild(t) : f.$error(1002, this.entryClassName)) : f.$error(1001, this.entryClassName)
            }, e.prototype.stop = function () {
                this.pause(), this.stage = null
            }, e.prototype.pause = function () {
                this.isPlaying && (this.isPlaying = !1, f.ticker.$removePlayer(this))
            }, e.prototype.$render = function (t, e) {
                (this.showFPS || this.showLog) && this.stage.addChild(this.fps);
                var i = this.stage,
                    r = f.getTimer(),
                    n = i.$displayList.updateDirtyRegions(),
                    o = f.getTimer(),
                    n = n.concat(),
                    s = i.$displayList.drawToSurface();
                this._showPaintRect && this.drawPaintRect(n);
                var a = f.getTimer();
                if (t && this.showFPS) {
                    t = 0;
                    if (0 < s) {
                        for (var h = n.length, l = 0, u = 0; u < h; u++) l += n[u].area;
                        t = Math.ceil(1e3 * l / (i.stageWidth * i.stageHeight)) / 10
                    }
                    this.fps.update(s, t, o - r, a - o, e)
                }
            }, e.prototype.updateStageSize = function (t, e) {
                var i = this.stage;
                i.$stageWidth = t, i.$stageHeight = e, this.screenDisplayList.setClipRect(t, e), this.stageDisplayList && this.stageDisplayList.setClipRect(t, e), i.dispatchEventWith(f.Event.RESIZE), i.$invalidate(!0)
            }, e);

            function e(t, e, i) {
                var r = n.call(this) || this;
                return r.isPlaying = !1, t || f.$error(1003, "buffer"), r.entryClassName = i, r.stage = e, r.screenDisplayList = r.createDisplayList(e, t), r.showFPS = !1, r.showLog = !1, r._showPaintRect = !1, r.stageDisplayList = null, r.paintList = [], r.displayFPS = o, r.showPaintRect = a, r.drawPaintRect = u, r.drawDirtyRect = c, r
            }
            p.Player = t, __reflect(t.prototype, "egret.sys.Player");
            var h, s, l = [];

            function o(t, e, i, r) {
                if (e && (f.log = function () {
                        for (var t = arguments.length, e = "", i = 0; i < t; i++) e += arguments[i] + " ";
                        p.$logToFPS(e), console.log.apply(console, d(arguments))
                    }), e = !!e, this.showFPS = !!t, this.showLog = e, !this.fps) {
                    var n = void 0 === r.x ? 0 : r.x,
                        o = void 0 === r.y ? 0 : r.y;
                    (h = this.fps = new FPS(this.stage, t, e, i, r)).x = n, h.y = o;
                    for (var s = l.length, a = 0; a < s; a++) h.updateInfo(l[a]);
                    l = null
                }
            }

            function a(t) {
                this._showPaintRect != (t = !!t) && ((this._showPaintRect = t) ? (this.stageDisplayList || (this.stageDisplayList = p.DisplayList.create(this.stage)), this.stage.$displayList = this.stageDisplayList) : this.stage.$displayList = this.screenDisplayList)
            }

            function u(t) {
                for (var e = t.length, i = [], r = 0; r < e; r++) {
                    var n = t[r];
                    i[r] = [n.minX, n.minY, n.width, n.height], --n.width, --n.height
                }
                var o = this.paintList;
                o.push(i), 1 < o.length && o.shift();
                var s = this.screenDisplayList.renderBuffer,
                    a = s.context;
                a.setTransform(1, 0, 0, 1, 0, 0), a.clearRect(0, 0, s.surface.width, s.surface.height), a.drawImage(this.stageDisplayList.renderBuffer.surface, 0, 0);
                for (e = o.length, r = 0; r < e; r++)
                    for (var h = (i = o[r]).length - 1; 0 <= h; h--) {
                        var l = i[h];
                        this.drawDirtyRect(l[0], l[1], l[2], l[3], a)
                    }
                a.save(), a.beginPath(), e = t.length;
                for (r = 0; r < e; r++) {
                    var n = t[r],
                        u = p.DisplayList.$canvasScaleX,
                        c = p.DisplayList.$canvasScaleY;
                    a.clearRect(n.minX * u, n.minY * c, n.width * u, n.height * c), a.rect(n.minX * u, n.minY * c, n.width * u, n.height * c)
                }
                a.clip(), a.drawImage(this.stageDisplayList.renderBuffer.surface, 0, 0), a.restore()
            }

            function c(t, e, i, r, n) {
                n.strokeStyle = "rgb(255,0,0)", n.lineWidth = 5;
                var o = p.DisplayList.$canvasScaleX,
                    s = p.DisplayList.$canvasScaleY;
                n.strokeRect(t * o - .5, e * s - .5, i * o, r * s)
            }

            function i(t, e, i, r, n) {
                var o;
                s.call(this), this.isFPS = !0, this.infoLines = [], this.totalTime = 0, this.totalTick = 0, this.lastTime = 0, this.drawCalls = 0, this.dirtyRatio = 0, this.costDirty = 0, this.costRender = 0, this.costTicker = 0, this._stage = t, this.showFPS = e, this.showLog = i, this.logFilter = r, this.touchChildren = !1, this.touchEnabled = !1, this.styles = n, this.fpsDisplay = new f.FPSDisplay(t, e, i, r, n), this.addChild(this.fpsDisplay);
                try {
                    o = r ? new RegExp(r) : null
                } catch (t) {
                    f.log(t)
                }
                this.filter = function (t) {
                    return o ? o.test(t) : !r || 0 == t.indexOf(r)
                }
            }

            function d(t) {
                for (var e = [], i = 0; i < t.length; i++) e.push(t[i]);
                return e
            }
            p.$logToFPS = function (t) {
                h ? h.updateInfo(t) : l.push(t)
            }, FPS = (s = f.Sprite, __extends(i, s), i.prototype.update = function (t, e, i, r, n) {
                var o = f.getTimer();
                this.totalTime += o - this.lastTime, this.lastTime = o, this.totalTick++, this.drawCalls += t, this.dirtyRatio += e, this.costDirty += i, this.costRender += r, this.costTicker += n, 1e3 <= this.totalTime && (o = Math.min(Math.ceil(1e3 * this.totalTick / this.totalTime), f.ticker.$frameRate), t = Math.round(this.drawCalls / this.totalTick), e = Math.round(this.dirtyRatio / this.totalTick), i = Math.round(this.costDirty / this.totalTick), r = Math.round(this.costRender / this.totalTick), n = Math.round(this.costTicker / this.totalTick), this.fpsDisplay.update({
                    fps: o,
                    draw: t,
                    dirty: e,
                    costTicker: n,
                    costDirty: i,
                    costRender: r
                }), this.totalTick = 0, this.totalTime = this.totalTime % 1e3, this.drawCalls = 0, this.dirtyRatio = 0, this.costDirty = 0, this.costRender = 0, this.costTicker = 0)
            }, i.prototype.updateInfo = function (t) {
                t && this.showLog && this.filter(t) && this.fpsDisplay.updateInfo(t)
            }, i), f.warn = function () {
                console.warn.apply(console, d(arguments))
            }, f.error = function () {
                console.error.apply(console, d(arguments))
            }, f.assert = function () {
                console.assert.apply(console, d(arguments))
            }, f.log = function () {
                console.log.apply(console, d(arguments))
            }
        }(f.sys || (f.sys = {}))
    }(egret = egret || {}), (egret = egret || {}).OrientationMode = {
        AUTO: "auto",
        PORTRAIT: "portrait",
        LANDSCAPE: "landscape",
        LANDSCAPE_FLIPPED: "landscapeFlipped"
    },
    function (t) {
        var e, i;

        function r() {
            this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.width = 0, this.height = 0, this.area = 0, this.moved = !1
        }
        e = t.sys || (t.sys = {}), i = [], r.release = function (t) {
            i.push(t)
        }, r.create = function () {
            return i.pop() || new r
        }, r.prototype.setTo = function (t, e, i, r) {
            return this.minX = t, this.minY = e, this.maxX = i, this.maxY = r, this.updateArea(), this
        }, r.prototype.intValues = function () {
            this.minX = Math.floor(this.minX), this.minY = Math.floor(this.minY), this.maxX = Math.ceil(this.maxX), this.maxY = Math.ceil(this.maxY), this.updateArea()
        }, r.prototype.updateArea = function () {
            this.width = this.maxX - this.minX, this.height = this.maxY - this.minY, this.area = this.width * this.height
        }, r.prototype.union = function (t) {
            this.minX > t.minX && (this.minX = t.minX), this.minY > t.minY && (this.minY = t.minY), this.maxX < t.maxX && (this.maxX = t.maxX), this.maxY < t.maxY && (this.maxY = t.maxY), this.updateArea()
        }, r.prototype.intersect = function (t) {
            this.minX < t.minX && (this.minX = t.minX), this.maxX > t.maxX && (this.maxX = t.maxX), this.minX >= this.maxX ? this.setEmpty() : (this.minY < t.minY && (this.minY = t.minY), this.maxY > t.maxY && (this.maxY = t.maxY), this.minY >= this.maxY ? this.setEmpty() : this.updateArea())
        }, r.prototype.setEmpty = function () {
            this.minX = 0, this.minY = 0, this.maxX = 0, this.maxY = 0, this.width = 0, this.height = 0, this.area = 0
        }, r.prototype.isEmpty = function () {
            return this.width <= 0 || this.height <= 0
        }, r.prototype.intersects = function (t) {
            if (this.isEmpty()) return !1;
            var e = (this.minX > t.minX ? this : t).minX;
            return !((this.maxX < t.maxX ? this : t).maxX < e) && (this.minY > t.minY ? this : t).minY <= (this.maxY < t.maxY ? this : t).maxY
        }, r.prototype.updateRegion = function (t, e) {
            var i, r, n, o, s, a, h, l, u, c, p, d, f, g, y;
            0 != t.width && 0 != t.height ? (i = e.a, r = e.b, n = e.c, o = e.d, d = e.tx, f = e.ty, s = t.x, p = t.y, a = s + t.width, h = p + t.height, y = 1 == i && 0 == r && 0 == n && 1 == o ? (l = s + d - 1, u = p + f - 1, c = a + d + 1, h + f + 1) : (g = 0, (e = i * a + n * p + d) < (t = i * s + n * p + d) && (g = t, t = e, e = g), (y = i * s + n * h + d) < (d = i * a + n * h + d) && (g = d, d = y, y = g), l = (t < d ? t : d) - 1, c = (y < e ? e : y) + 1, (e = r * a + o * p + f) < (p = r * s + o * p + f) && (g = p, p = e, e = g), (y = r * s + o * h + f) < (f = r * a + o * h + f) && (g = f, f = y, y = g), u = (p < f ? p : f) - 1, (y < e ? e : y) + 1), this.minX = l, this.minY = u, this.maxX = c, this.maxY = y, this.width = c - l, this.height = y - u, this.area = this.width * this.height) : this.setEmpty()
        }, t = r, e.Region = t, __reflect(t.prototype, "egret.sys.Region")
    }(egret = egret || {}),
    function (t) {
        t.sys || (t.sys = {})
    }(egret = egret || {}),
    function (c) {
        var t, e, i;

        function r() {
            return e.call(this) || this
        }
        t = c.sys || (c.sys = {}), e = c.HashObject, __extends(r, e), r.prototype.calculateStageSize = function (t, e, i, r, n) {
            var o = e,
                s = i,
                a = r,
                h = n,
                l = e / a || 0,
                u = i / h || 0;
            switch (t) {
                case c.StageScaleMode.EXACT_FIT:
                    break;
                case c.StageScaleMode.FIXED_HEIGHT:
                    a = Math.round(e / u);
                    break;
                case c.StageScaleMode.FIXED_WIDTH:
                    h = Math.round(i / l);
                    break;
                case c.StageScaleMode.NO_BORDER:
                    u < l ? s = Math.round(h * l) : o = Math.round(a * u);
                    break;
                case c.StageScaleMode.SHOW_ALL:
                    u < l ? o = Math.round(a * u) : s = Math.round(h * l);
                    break;
                case c.StageScaleMode.FIXED_NARROW:
                    u < l ? a = Math.round(e / u) : h = Math.round(i / l);
                    break;
                case c.StageScaleMode.FIXED_WIDE:
                    u < l ? h = Math.round(i / l) : a = Math.round(e / u);
                    break;
                default:
                    a = e, h = i
            }
            return a % 2 != 0 && (a += 1), h % 2 != 0 && (h += 1), o % 2 != 0 && (o += 1), s % 2 != 0 && (s += 1), {
                stageWidth: a,
                stageHeight: h,
                displayWidth: o,
                displayHeight: s
            }
        }, i = r, t.DefaultScreenAdapter = i, __reflect(i.prototype, "egret.sys.DefaultScreenAdapter", ["egret.sys.IScreenAdapter"])
    }(egret = egret || {}),
    function (t) {
        var e = (i.NO_SCALE = "noScale", i.SHOW_ALL = "showAll", i.NO_BORDER = "noBorder", i.EXACT_FIT = "exactFit", i.FIXED_WIDTH = "fixedWidth", i.FIXED_HEIGHT = "fixedHeight", i.FIXED_NARROW = "fixedNarrow", i.FIXED_WIDE = "fixedWide", i);

        function i() {}
        t.StageScaleMode = e, __reflect(e.prototype, "egret.StageScaleMode")
    }(egret = egret || {}),
    function (t) {
        t.sys || (t.sys = {})
    }(egret = egret || {}),
    function (d) {
        ! function (p) {
            p.$START_TIME = 0, p.$invalidateRenderFlag = !1, p.$requestRenderingFlag = !1;
            var t = (e.prototype.$addPlayer = function (t) {
                -1 == this.playerList.indexOf(t) && (egret_stages.push(t.stage), this.playerList = this.playerList.concat(), this.playerList.push(t))
            }, e.prototype.$removePlayer = function (t) {
                var e = this.playerList.indexOf(t); - 1 !== e && (t = egret_stages.indexOf(t.stage), egret_stages.splice(t, 1), this.playerList = this.playerList.concat(), this.playerList.splice(e, 1))
            }, e.prototype.$startTick = function (t, e) {
                -1 == this.getTickIndex(t, e) && (this.concatTick(), this.callBackList.push(t), this.thisObjectList.push(e))
            }, e.prototype.$stopTick = function (t, e) {
                e = this.getTickIndex(t, e); - 1 != e && (this.concatTick(), this.callBackList.splice(e, 1), this.thisObjectList.splice(e, 1))
            }, e.prototype.getTickIndex = function (t, e) {
                for (var i = this.callBackList, r = this.thisObjectList, n = i.length - 1; 0 <= n; n--)
                    if (i[n] == t && r[n] == e) return n;
                return -1
            }, e.prototype.concatTick = function () {
                this.callBackList = this.callBackList.concat(), this.thisObjectList = this.thisObjectList.concat()
            }, e.prototype.$setFrameRate = function (t) {
                return !((t = +t || 0) <= 0) && (this.$frameRate != t && (60 < (this.$frameRate = t) && (t = 60), d.Capabilities.runtimeType == d.RuntimeType.NATIVE && (egret_native.setFrameRate(t), t = 60), this.frameDeltaTime = 1e3 / t, this.lastCount = this.frameInterval = Math.round(6e4 / t), !0))
            }, e.prototype.pause = function () {
                this.isPaused = !0
            }, e.prototype.resume = function () {
                this.isPaused = !1
            }, e.prototype.update = function () {
                for (var t = d.getTimer(), e = this.callBackList, i = this.thisObjectList, r = e.length, n = p.$requestRenderingFlag, o = d.getTimer(), s = 0, a = d.lifecycle.contexts; s < a.length; s++) {
                    var h = a[s];
                    h.onUpdate && h.onUpdate()
                }
                if (this.isPaused) this.lastTimeStamp = o;
                else {
                    this.callLaterAsyncs();
                    for (var l = 0; l < r; l++) e[l].call(i[l], o) && (n = !0);
                    var u = d.getTimer(),
                        c = o - this.lastTimeStamp;
                    if (this.lastTimeStamp = o, c >= this.frameDeltaTime) this.lastCount = this.frameInterval;
                    else {
                        if (this.lastCount -= 1e3, 0 < this.lastCount) return void(n && this.render(!1, this.costEnterFrame + u - t));
                        this.lastCount += this.frameInterval
                    }
                    this.render(!0, this.costEnterFrame + u - t);
                    u = d.getTimer();
                    this.broadcastEnterFrame();
                    t = d.getTimer();
                    this.costEnterFrame = t - u
                }
            }, e.prototype.render = function (t, e) {
                var i = this.playerList,
                    r = i.length;
                if (0 != r) {
                    this.callLaters(), p.$invalidateRenderFlag && (this.broadcastRender(), p.$invalidateRenderFlag = !1);
                    for (var n = 0; n < r; n++) i[n].$render(t, e);
                    p.$requestRenderingFlag = !1
                }
            }, e.prototype.broadcastEnterFrame = function () {
                var t = (e = d.DisplayObject.$enterFrameCallBackList).length;
                if (0 != t)
                    for (var e = e.concat(), i = 0; i < t; i++) e[i].dispatchEventWith(d.Event.ENTER_FRAME)
            }, e.prototype.broadcastRender = function () {
                var t = (e = d.DisplayObject.$renderCallBackList).length;
                if (0 != t)
                    for (var e = e.concat(), i = 0; i < t; i++) e[i].dispatchEventWith(d.Event.RENDER)
            }, e.prototype.callLaters = function () {
                var t, e, i;
                if (0 < d.$callLaterFunctionList.length && (t = d.$callLaterFunctionList, d.$callLaterFunctionList = [], e = d.$callLaterThisList, d.$callLaterThisList = [], i = d.$callLaterArgsList, d.$callLaterArgsList = []), t)
                    for (var r = t.length, n = 0; n < r; n++) {
                        var o = t[n];
                        null != o && o.apply(e[n], i[n])
                    }
            }, e.prototype.callLaterAsyncs = function () {
                if (0 < d.$callAsyncFunctionList.length) {
                    var t = d.$callAsyncFunctionList,
                        e = d.$callAsyncThisList,
                        i = d.$callAsyncArgsList;
                    d.$callAsyncFunctionList = [], d.$callAsyncThisList = [], d.$callAsyncArgsList = [];
                    for (var r = 0; r < t.length; r++) {
                        var n = t[r];
                        null != n && n.apply(e[r], i[r])
                    }
                }
            }, e);

            function e() {
                this.playerList = [], this.callBackList = [], this.thisObjectList = [], this.$frameRate = 30, this.lastTimeStamp = 0, this.costEnterFrame = 0, this.isPaused = !1, d.ticker && d.$error(1008, "egret.sys.SystemTicker"), p.$START_TIME = Date.now(), this.frameDeltaTime = 1e3 / this.$frameRate, this.lastCount = this.frameInterval = Math.round(6e4 / this.$frameRate)
            }
            p.SystemTicker = t, __reflect(t.prototype, "egret.sys.SystemTicker")
        }(d.sys || (d.sys = {}))
    }(egret = egret || {}),
    function (n) {
        ! function (i) {
            i.contexts = [];
            var t = !0,
                r = (e.prototype.pause = function () {
                    t && (t = !1, i.stage.dispatchEvent(new n.Event(n.Event.DEACTIVATE)), i.onPause && i.onPause())
                }, e.prototype.resume = function () {
                    t || (t = !0, i.stage.dispatchEvent(new n.Event(n.Event.ACTIVATE)), i.onResume && i.onResume())
                }, e);

            function e() {}
            i.LifecycleContext = r, __reflect(r.prototype, "egret.lifecycle.LifecycleContext"), i.addLifecycleListener = function (t) {
                var e = new r;
                i.contexts.push(e), t(e)
            }
        }(n.lifecycle || (n.lifecycle = {})), n.ticker = new n.sys.SystemTicker
    }(egret = egret || {}), egret_stages = [],
    function (o) {
        var t, i, e;

        function r(t) {
            var e = i.call(this) || this;
            return e.maxTouches = 0, e.useTouchesCount = 0, e.touchDownTarget = {}, e.lastTouchX = -1, e.lastTouchY = -1, e.stage = t, e
        }
        t = o.sys || (o.sys = {}), i = o.HashObject, __extends(r, i), r.prototype.$initMaxTouches = function () {
            this.maxTouches = this.stage.$maxTouches
        }, r.prototype.onTouchBegin = function (t, e, i) {
            var r;
            this.useTouchesCount >= this.maxTouches || (this.lastTouchX = t, this.lastTouchY = e, r = this.findTarget(t, e), null == this.touchDownTarget[i] && (this.touchDownTarget[i] = r, this.useTouchesCount++), o.TouchEvent.dispatchTouchEvent(r, o.TouchEvent.TOUCH_BEGIN, !0, !0, t, e, i, !0))
        }, r.prototype.onTouchMove = function (t, e, i) {
            var r;
            null != this.touchDownTarget[i] && (this.lastTouchX == t && this.lastTouchY == e || (this.lastTouchX = t, this.lastTouchY = e, r = this.findTarget(t, e), o.TouchEvent.dispatchTouchEvent(r, o.TouchEvent.TOUCH_MOVE, !0, !0, t, e, i, !0)))
        }, r.prototype.onTouchEnd = function (t, e, i) {
            var r, n;
            null != this.touchDownTarget[i] && (r = this.findTarget(t, e), n = this.touchDownTarget[i], delete this.touchDownTarget[i], this.useTouchesCount--, o.TouchEvent.dispatchTouchEvent(r, o.TouchEvent.TOUCH_END, !0, !0, t, e, i, !1), n == r ? o.TouchEvent.dispatchTouchEvent(r, o.TouchEvent.TOUCH_TAP, !0, !0, t, e, i, !1) : o.TouchEvent.dispatchTouchEvent(n, o.TouchEvent.TOUCH_RELEASE_OUTSIDE, !0, !0, t, e, i, !1))
        }, r.prototype.findTarget = function (t, e) {
            return this.stage.$hitTest(t, e) || this.stage
        }, e = r, t.TouchHandler = e, __reflect(e.prototype, "egret.sys.TouchHandler")
    }(egret = egret || {}),
    function (C) {
        var t, e, i;

        function E() {
            var t = e.call(this) || this;
            return t.image = null, t.smoothing = !0, t.blendMode = null, t.alpha = NaN, t.filter = null, t.rotated = !1, t.type = 1, t
        }
        t = C.sys || (C.sys = {}), e = t.RenderNode, __extends(E, e), E.prototype.drawImage = function (t, e, i, r, n, o, s, a) {
            this.drawData.push(t, e, i, r, n, o, s, a), this.renderCount++
        }, E.prototype.cleanBeforeRender = function () {
            e.prototype.cleanBeforeRender.call(this), this.image = null, this.matrix = null, this.blendMode = null, this.alpha = NaN, this.filter = null
        }, E.$updateTextureData = function (t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y) {
            if (e) {
                var v = C.$TextureScaleFactor;
                if (t.smoothing = y, t.image = e, t.imageWidth = p, t.imageHeight = d, f) E.$updateTextureDataWithScale9Grid(t, f, i, r, n, o, s, a, h, l, u, c);
                else if (g == C.BitmapFillMode.SCALE) {
                    d = u / h * v, f = c / l * v;
                    t.drawImage(i, r, n, o, d * s, f * a, d * n, f * o)
                } else if (g == C.BitmapFillMode.CLIP) {
                    var m = Math.min(h, u),
                        _ = Math.min(l, c),
                        b = n * v,
                        $ = o * v;
                    E.drawClipImage(t, v, i, r, b, $, s, a, m, _)
                } else
                    for (var b = n * v, $ = o * v, x = 0; x < u; x += h)
                        for (var T = 0; T < c; T += l) {
                            m = Math.min(u - x, h), _ = Math.min(c - T, l);
                            E.drawClipImage(t, v, i, r, b, $, s, a, m, _, x, T)
                        }
            }
        }, E.$updateTextureDataWithScale9Grid = function (t, e, i, r, n, o, s, a, h, l, u, c) {
            u -= h - n * C.$TextureScaleFactor, c -= l - o * C.$TextureScaleFactor;
            var p = e.x - s,
                d = e.y - a,
                f = p / C.$TextureScaleFactor,
                g = d / C.$TextureScaleFactor,
                y = e.width / C.$TextureScaleFactor,
                v = e.height / C.$TextureScaleFactor;
            0 == v && (v = 1, o <= g && g--), 0 == y && (y = 1, n <= f && f--);
            var m = i,
                _ = m + f,
                b = _ + y,
                $ = n - f - y,
                x = r,
                T = x + g,
                E = T + v,
                h = o - g - v,
                l = $ * C.$TextureScaleFactor,
                e = h * C.$TextureScaleFactor;
            (f + $) * C.$TextureScaleFactor > u || (g + h) * C.$TextureScaleFactor > c ? t.drawImage(i, r, n, o, s, a, u, c) : (r = (i = s) + p, n = i + (u - l), o = u - p - l, u = (s = a) + d, a = s + c - e, c = c - d - e, 0 < g && (0 < f && t.drawImage(m, x, f, g, i, s, p, d), 0 < y && t.drawImage(_, x, y, g, r, s, o, d), 0 < $ && t.drawImage(b, x, $, g, n, s, l, d)), 0 < v && (0 < f && t.drawImage(m, T, f, v, i, u, p, c), 0 < y && t.drawImage(_, T, y, v, r, u, o, c), 0 < $ && t.drawImage(b, T, $, v, n, u, l, c)), 0 < h && (0 < f && t.drawImage(m, E, f, h, i, a, p, e), 0 < y && t.drawImage(_, E, y, h, r, a, o, e), 0 < $ && t.drawImage(b, E, $, h, n, a, l, e)))
        }, E.drawClipImage = function (t, e, i, r, n, o, s, a, h, l, u, c) {
            h = s + n - h;
            0 < h && (n -= h), 0 < (h = a + o - l) && (o -= h), t.drawImage(i, r, n / e, o / e, (u = void 0 === u ? 0 : u) + s, (c = void 0 === c ? 0 : c) + a, n, o)
        }, i = E, t.BitmapNode = i, __reflect(i.prototype, "egret.sys.BitmapNode")
    }(egret = egret || {}),
    function (a) {
        var h, e, l, u, t;

        function i() {
            var t = e.call(this) || this;
            return t.dirtyRender = !0, t.type = 3, t
        }
        h = a.sys || (a.sys = {}), l = ["none", "round", "square"], u = ["bevel", "miter", "round"], e = h.RenderNode, __extends(i, e), i.prototype.beginFill = function (t, e, i) {
            void 0 === e && (e = 1);
            var r = new h.FillPath;
            return r.fillColor = t, r.fillAlpha = e, i ? (i = this.drawData.lastIndexOf(i), this.drawData.splice(i, 0, r)) : this.drawData.push(r), r
        }, i.prototype.beginGradientFill = function (t, e, i, r, n, o) {
            var s = new a.Matrix;
            n ? (s.a = 819.2 * n.a, s.b = 819.2 * n.b, s.c = 819.2 * n.c, s.d = 819.2 * n.d, s.tx = n.tx, s.ty = n.ty) : (s.a = 100, s.d = 100);
            n = new h.GradientFillPath;
            return n.gradientType = t, n.colors = e, n.alphas = i, n.ratios = r, n.matrix = s, o ? (o = this.drawData.lastIndexOf(o), this.drawData.splice(o, 0, n)) : this.drawData.push(n), n
        }, i.prototype.lineStyle = function (t, e, i, r, n, o) {
            void 0 === i && (i = 1), void 0 === o && (o = 3), -1 == l.indexOf(r) && (r = "round"), -1 == u.indexOf(n) && (n = "round");
            var s = new h.StrokePath;
            return s.lineWidth = t, s.lineColor = e, s.lineAlpha = i, s.caps = r || a.CapsStyle.ROUND, s.joints = n, s.miterLimit = o, this.drawData.push(s), s
        }, i.prototype.clear = function () {
            this.drawData.length = 0, this.dirtyRender = !0
        }, i.prototype.cleanBeforeRender = function () {}, i.prototype.clean = function () {
            this.$texture && (a.WebGLUtils.deleteWebGLTexture(this.$texture), this.$texture = null, this.dirtyRender = !0)
        }, t = i, h.GraphicsNode = t, __reflect(t.prototype, "egret.sys.GraphicsNode")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            var t = i.call(this) || this;
            return t.type = 4, t
        }
        e = t.sys || (t.sys = {}), i = e.RenderNode, __extends(r, i), r.prototype.addNode = function (t) {
            this.drawData.push(t)
        }, r.prototype.cleanBeforeRender = function () {
            for (var t = this.drawData, e = t.length - 1; 0 <= e; e--) t[e].cleanBeforeRender()
        }, r.prototype.$getRenderCount = function () {
            for (var t = 0, e = this.drawData, i = e.length - 1; 0 <= i; i--) t += e[i].$getRenderCount();
            return t
        }, t = r, e.GroupNode = t, __reflect(t.prototype, "egret.sys.GroupNode")
    }(egret = egret || {}),
    function (e) {
        var t, i, r;

        function n() {
            var t = i.call(this) || this;
            return t.image = null, t.smoothing = !0, t.bounds = new e.Rectangle, t.blendMode = null, t.alpha = NaN, t.filter = null, t.rotated = !1, t.type = 7, t.vertices = [], t.uvs = [], t.indices = [], t
        }
        t = e.sys || (e.sys = {}), i = t.RenderNode, __extends(n, i), n.prototype.drawMesh = function (t, e, i, r, n, o, s, a) {
            this.drawData.push(t, e, i, r, n, o, s, a), this.renderCount++
        }, n.prototype.cleanBeforeRender = function () {
            i.prototype.cleanBeforeRender.call(this), this.image = null, this.matrix = null
        }, r = n, t.MeshNode = r, __reflect(r.prototype, "egret.sys.MeshNode")
    }(egret = egret || {}),
    function (a) {
        var i, t = (i = a.Texture, __extends(e, i), e.prototype.drawToTexture = function (t, e, i) {
            if (void 0 === i && (i = 1), e && (0 == e.width || 0 == e.height)) return !1;
            var r = e || t.$getOriginalBounds();
            if (0 == r.width || 0 == r.height) return !1;
            i /= a.$TextureScaleFactor;
            var n = (r.x + r.width) * i,
                o = (r.y + r.height) * i;
            e && (n = r.width * i, o = r.height * i);
            var s = this.$renderBuffer;
            if (!s) return !1;
            s.resize(n, o), this._bitmapData.width = n, this._bitmapData.height = o;
            r = a.Matrix.create();
            return r.identity(), e && r.translate(-e.x, -e.y), r.scale(i, i), a.sys.systemRenderer.render(t, s, r, null, !0), a.Matrix.release(r), this.$initData(0, 0, n, o, 0, 0, n, o, n, o), !0
        }, e.prototype.getPixel32 = function (t, e) {
            var i;
            return this.$renderBuffer && (i = a.$TextureScaleFactor, t = Math.round(t / i), e = Math.round(e / i), i = this.$renderBuffer.getPixels(t, e, 1, 1)), i
        }, e.prototype.dispose = function () {
            i.prototype.dispose.call(this), this.$renderBuffer = null
        }, e);

        function e() {
            var t = i.call(this) || this;
            t.$renderBuffer = new a.sys.RenderBuffer;
            var e = new a.BitmapData(t.$renderBuffer.surface);
            return e.$deleteSource = !1, t._setBitmapData(e), t
        }
        a.RenderTexture = t, __reflect(t.prototype, "egret.RenderTexture")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            var t = i.call(this) || this;
            return t.type = 6, t
        }
        e = t.sys || (t.sys = {}), i = e.RenderNode, __extends(r, i), r.prototype.setAlpha = function (t) {
            0 != this.drawData.length && (this.drawData.length = 0), this.drawData.push(t), this.renderCount++
        }, t = r, e.SetAlphaNode = t, __reflect(t.prototype, "egret.sys.SetAlphaNode")
    }(egret = egret || {}),
    function (t) {
        var e, i, r;

        function n() {
            var t = i.call(this) || this;
            return t.textColor = 16777215, t.strokeColor = 0, t.size = 30, t.stroke = 0, t.bold = !1, t.italic = !1, t.fontFamily = "Arial", t.dirtyRender = !0, t.type = 2, t
        }
        e = t.sys || (t.sys = {}), i = e.RenderNode, __extends(n, i), n.prototype.drawText = function (t, e, i, r) {
            this.drawData.push(t, e, i, r), this.renderCount++, this.dirtyRender = !0
        }, n.prototype.cleanBeforeRender = function () {
            i.prototype.cleanBeforeRender.call(this)
        }, n.prototype.clean = function () {
            this.$texture && (t.WebGLUtils.deleteWebGLTexture(this.$texture), this.$texture = null, this.dirtyRender = !0)
        }, r = n, e.TextNode = r, __reflect(r.prototype, "egret.sys.TextNode")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            var t = i.call(this) || this;
            return t.type = 1, t
        }
        e = t.sys || (t.sys = {}), i = e.Path2D, __extends(r, i), t = r, e.FillPath = t, __reflect(t.prototype, "egret.sys.FillPath")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            var t = i.call(this) || this;
            return t.type = 2, t
        }
        e = t.sys || (t.sys = {}), i = e.Path2D, __extends(r, i), t = r, e.GradientFillPath = t, __reflect(t.prototype, "egret.sys.GradientFillPath")
    }(egret = egret || {}),
    function (e) {
        var r, t = (r = e.DisplayObject, __extends(i, r), Object.defineProperty(i.prototype, "graphics", {
            get: function () {
                return this.$graphics
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.$measureContentBounds = function (t) {
            this.$graphics.$measureContentBounds(t)
        }, i.prototype.$hitTest = function (t, e) {
            var i = r.prototype.$hitTest.call(this, t, e);
            return i = i == this ? this.$graphics.$hitTest(t, e) : i
        }, i.prototype.$onRemoveFromStage = function () {
            r.prototype.$onRemoveFromStage.call(this), this.$graphics && this.$graphics.$onRemoveFromStage()
        }, i);

        function i() {
            var t = r.call(this) || this;
            return t.$graphics = new e.Graphics, t.$graphics.$setTarget(t), t
        }
        e.Shape = t, __reflect(t.prototype, "egret.Shape")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            var t = i.call(this) || this;
            return t.type = 3, t
        }
        e = t.sys || (t.sys = {}), i = e.Path2D, __extends(r, i), t = r, e.StrokePath = t, __reflect(t.prototype, "egret.sys.StrokePath")
    }(egret = egret || {}),
    function (C) {
        var S = ["source-over", "lighter", "destination-out"],
            w = "source-over",
            l = "#000000",
            u = {
                none: "butt",
                square: "square",
                round: "round"
            },
            P = [],
            L = [],
            t = (e.prototype.render = function (t, e, i, r, n) {
                this.nestLevel++;
                e = e.context, t = this.drawDisplayObject(t, e, r, i, null, null, n ? t : null);
                if (this.nestLevel--, 0 === this.nestLevel) {
                    6 < P.length && (P.length = 6);
                    for (var o = P.length, s = 0; s < o; s++) P[s].resize(0, 0);
                    1 < L.length && (L.length = 1, L[0].resize(0, 0))
                }
                return t
            }, e.prototype.drawDisplayObject = function (t, e, i, r, n, o, s) {
                var a, h, l, u, c, p, d, f, g = 0,
                    y = n && !s ? (!n.isDirty && n.$canvasScaleX == C.sys.DisplayList.$canvasScaleX && n.$canvasScaleY == C.sys.DisplayList.$canvasScaleY || (g += n.drawToSurface()), n.$renderNode) : t.$getRenderNode();
                if (y) {
                    if (i) {
                        var v = y.renderRegion;
                        if (o && !o.intersects(v)) y.needRedraw = !1;
                        else if (!y.needRedraw)
                            for (var m = i.length, _ = 0; _ < m; _++)
                                if (v.intersects(i[_])) {
                                    y.needRedraw = !0;
                                    break
                                }
                    } else y.needRedraw = !0;
                    y.needRedraw && (h = a = void 0, s ? (a = t.$getConcatenatedAlphaAt(s, t.$getConcatenatedAlpha()), h = C.Matrix.create().copyFrom(t.$getConcatenatedMatrix()), t.$getConcatenatedMatrixAt(s, h)) : (a = y.renderAlpha, h = C.Matrix.create().copyFrom(y.renderMatrix)), l = h.a * r.a, p = h.d * r.d, d = h.tx * r.a + r.tx * r.a, f = h.ty * r.d + r.ty * r.d, (c = u = 0) === h.b && 0 === h.c && 0 === r.b && 0 === r.c || (l += h.b * r.c, p += h.c * r.b, u += h.a * r.b + h.b * r.d, c += h.c * r.a + h.d * r.c, d += h.ty * r.c, f += h.tx * r.b), h.a = l, h.b = u, h.c = c, h.d = p, h.tx = d, h.ty = f, e.setTransform(h.a, h.b, h.c, h.d, h.tx, h.ty), C.Matrix.release(h), e.globalAlpha = a, g += this.renderNode(y, e), y.needRedraw = !1)
                }
                if (n && !s) return g;
                var b = t.$children;
                if (b)
                    for (var $ = b.length, x = 0; x < $; x++) {
                        var T, E = b[x];
                        !E.$visible || E.$alpha <= 0 || E.$maskedObject || ((T = E.$getFilters()) && 0 < T.length ? g += this.drawWithFilter(E, e, i, r, o, s) : 0 !== E.$blendMode || E.$mask && (E.$mask.$parentDisplayList || s) ? g += this.drawWithClip(E, e, i, r, o, s) : E.$scrollRect || E.$maskRect ? g += this.drawWithScrollRect(E, e, i, r, o, s) : E.isFPS ? this.drawDisplayObject(E, e, i, r, E.$displayList, o, s) : g += this.drawDisplayObject(E, e, i, r, E.$displayList, o, s))
                    }
                return g
            }, e.prototype.drawWithFilter = function (t, e, i, r, n, o) {
                if (C.Capabilities.runtimeType == C.RuntimeType.NATIVE) {
                    var s, a = 0,
                        h = t.$getFilters(),
                        l = 0 !== t.$blendMode;
                    l && (s = (s = S[t.$blendMode]) || w);
                    var u = t.$getOriginalBounds();
                    if (u.width <= 0 || u.height <= 0) return a;
                    if (1 == h.length && "colorTransform" == h[0].type && !t.$children) return l && (e.globalCompositeOperation = s), e.setGlobalShader(h[0]), t.$mask && (t.$mask.$parentDisplayList || o) ? a += this.drawWithClip(t, e, i, r, n, o) : t.$scrollRect || t.$maskRect ? a += this.drawWithScrollRect(t, e, i, r, n, o) : a += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), e.setGlobalShader(null), l && (e.globalCompositeOperation = w), a;
                    var c = C.Matrix.create();
                    c.copyFrom(t.$getConcatenatedMatrix()), o && t.$getConcatenatedMatrixAt(o, c), (y = C.sys.Region.create()).updateRegion(u, c);
                    var p = this.createRenderBuffer(y.width, y.height);
                    p.context.setTransform(r.a, 0, 0, r.d, -y.minX, -y.minY);
                    u = C.Matrix.create().setTo(r.a, 0, 0, r.d, -y.minX, -y.minY);
                    return t.$mask && (t.$mask.$parentDisplayList || o) ? a += this.drawWithClip(t, p.context, i, u, y, o) : t.$scrollRect || t.$maskRect ? a += this.drawWithScrollRect(t, p.context, i, u, y, o) : a += this.drawDisplayObject(t, p.context, i, u, t.$displayList, y, o), C.Matrix.release(u), 0 < a && (l && (e.globalCompositeOperation = s), a++, e.globalAlpha = 1, e.setTransform(1, 0, 0, 1, y.minX + r.tx, y.minY + r.ty), e.setGlobalShader(h[0]), e.drawImage(p.surface, 0, 0, p.width, p.height, 0, 0, p.width, p.height), e.setGlobalShader(null), l && (e.globalCompositeOperation = w)), P.push(p), C.sys.Region.release(y), C.Matrix.release(c), a
                }
                var d, h = 0,
                    f = t.$getFilters(),
                    g = f.length,
                    l = 0 !== t.$blendMode;
                l && (d = (d = S[t.$blendMode]) || w);
                p = t.$getOriginalBounds();
                if (p.width <= 0 || p.height <= 0) return h;
                var y = C.Matrix.create();
                y.copyFrom(t.$getConcatenatedMatrix()), o && t.$getConcatenatedMatrixAt(o, y), (c = C.sys.Region.create()).updateRegion(p, y);
                var v = this.createRenderBuffer(c.width * r.a, c.height * r.d, !0),
                    a = v.context;
                a.setTransform(r.a, 0, 0, r.d, -c.minX, -c.minY);
                p = C.Matrix.create().setTo(r.a, 0, 0, r.d, -c.minX, -c.minY);
                if (t.$mask && (t.$mask.$parentDisplayList || o) ? h += this.drawWithClip(t, a, i, p, c, o) : t.$scrollRect || t.$maskRect ? h += this.drawWithScrollRect(t, a, i, p, c, o) : h += this.drawDisplayObject(t, a, i, p, t.$displayList, c, o), C.Matrix.release(p), 0 < h) {
                    l && (e.globalCompositeOperation = d), h++;
                    for (var m = a.getImageData(0, 0, v.surface.width, v.surface.height), _ = 0; _ < g; _++) {
                        var b, $, x, T, E = f[_];
                        "colorTransform" == E.type ? R(m.data, v.surface.width, v.surface.height, E.$matrix) : "blur" == E.type ? O(m.data, v.surface.width, v.surface.height, E.$blurX, E.$blurY) : "glow" == E.type ? (b = E.$red, $ = E.$green, x = E.$blue, T = E.$alpha, E.$inner || E.$knockout || E.$hideObject ? function (t, e, i, r, n, o, s, a, h, l, u, c) {
                            var p;
                            p = new(U ? Uint8ClampedArray : Array)(t.length);
                            for (var d, f, g = r[3], y = 0, v = 0, m = a * Math.cos(s), _ = a * Math.sin(s), b = 3.141592653589793, $ = n / 7, x = o / 7, T = 0; T < e; T++)
                                for (var E = 0; E < i; E++) {
                                    for (var C = E * e * 4 + 4 * T, S = 0, w = 0, P = t[C] / 255, L = t[1 + C] / 255, R = t[2 + C] / 255, O = t[3 + C] / 255, I = 0; I <= 2 * b; I += 2 * b / 12) {
                                        d = Math.cos(I + 0), f = Math.sin(I + 0);
                                        for (var D = 0; D < 7; D++) {
                                            y = D * $ * d, v = D * x * f;
                                            var A = Math.round(T + y - m),
                                                N = Math.round(E + v - _),
                                                B = 0;
                                            B = e <= A || A < 0 || N < 0 || i <= N ? 0 : t[3 + (N * e * 4 + 4 * A)] / 255, S += (7 - D) * B, w += 7 - D
                                        }
                                    }
                                    O = Math.max(O, 1e-4);
                                    var M = S / w * h * g * (1 - l) * Math.max(Math.min(c, u), 1 - O),
                                        F = (w - S) / w * h * g * l * O;
                                    O = Math.max(O * u * (1 - c), 1e-4);
                                    var k = F / (F + O),
                                        P = z(P, r[0], k),
                                        L = z(L, r[1], k),
                                        R = z(R, r[2], k),
                                        k = M / (F + O + M),
                                        P = z(P, r[0], k),
                                        L = z(L, r[1], k),
                                        k = z(R, r[2], k),
                                        F = Math.min(O + M + F, 1);
                                    p[C] = 255 * P, p[1 + C] = 255 * L, p[2 + C] = 255 * k, p[3 + C] = 255 * F
                                }
                            U ? t.set(p) : H(t, p)
                        }(m.data, v.surface.width, v.surface.height, [b / 255, $ / 255, x / 255, T], E.$blurX, E.$blurY, E.$angle ? E.$angle / 180 * Math.PI : 0, E.$distance || 0, E.$strength, E.$inner ? 1 : 0, E.$knockout ? 0 : 1, E.$hideObject ? 1 : 0) : function (t, e, i, r, n, o, s, a, h) {
                            r = function (t, e) {
                                e = e || [0, 0, 0, 0];
                                var i;
                                U ? i = new Uint8ClampedArray(t) : H(i = new Array(t.length), t);
                                for (var r = e[0], n = e[1], o = e[2], s = e[3], a = 0, h = i.length; a < h; a += 4) {
                                    var l = i[a + 3];
                                    i[a + 0] = r * l, i[a + 1] = n * l, i[a + 2] = o * l, i[a + 3] = s * l
                                }
                                return i
                            }(t, r);
                            (function (t, e, i, r, n) {
                                var o, s, a = Math.sin(r) * n | 0,
                                    h = Math.cos(r) * n | 0;
                                if (U) {
                                    o = new Int32Array(t.buffer), s = new Int32Array(o.length);
                                    for (var l = 0; l < i; l++)
                                        if (!((c = l + a) < 0 || i < c))
                                            for (var u = 0; u < e; u++)(p = u + h) < 0 || e < p || (s[c * e + p] = o[l * e + u]);
                                    o.set(s)
                                } else {
                                    o = t, s = new Array(o.length);
                                    for (var c, l = 0; l < i; l++)
                                        if (!((c = l + a) < 0 || i < c))
                                            for (var p, u = 0; u < e; u++)(p = u + h) < 0 || e < p || (s[4 * (c * e + p) + 0] = o[4 * (l * e + u) + 0], s[4 * (c * e + p) + 1] = o[4 * (l * e + u) + 1], s[4 * (c * e + p) + 2] = o[4 * (l * e + u) + 2], s[4 * (c * e + p) + 3] = o[4 * (l * e + u) + 3]);
                                    H(o, s)
                                }
                            })(r, e, i, s, a), O(r, e, i, n, o),
                                function (t, e) {
                                    for (var i = 0, r = t.length; i < r; i += 4) t[i + 3] *= e
                                }(r, h),
                                function (t, e) {
                                    for (var i = 0, r = t.length; i < r; i += 4) {
                                        var n = t[i + 0],
                                            o = t[i + 1],
                                            s = t[i + 2],
                                            a = t[i + 3] / 255,
                                            h = e[i + 0],
                                            l = e[i + 1],
                                            u = e[i + 2],
                                            c = e[i + 3] / 255;
                                        t[i + 0] = h + n * (1 - c), t[i + 1] = l + o * (1 - c), t[i + 2] = u + s * (1 - c), t[i + 3] = 255 * (c + a * (1 - c))
                                    }
                                }(r, t), t.set(r), U ? t.set(r) : H(t, r)
                        }(m.data, v.surface.width, v.surface.height, [b / 255, $ / 255, x / 255, T], E.$blurX, E.$blurY, E.$angle ? E.$angle / 180 * Math.PI : 0, E.$distance || 0, E.$strength)) : E.type
                    }
                    a.putImageData(m, 0, 0), e.globalAlpha = 1, e.setTransform(1, 0, 0, 1, (c.minX + r.tx) * r.a, (c.minY + r.ty) * r.d), e.drawImage(v.surface, 0, 0), l && (e.globalCompositeOperation = w)
                }
                return L.push(v), C.sys.Region.release(c), C.Matrix.release(y), h
            }, e.prototype.drawWithClip = function (t, e, i, r, n, o) {
                var s, a = 0,
                    h = 0 !== t.$blendMode;
                h && (s = (s = S[t.$blendMode]) || w);
                var l = t.$scrollRect || t.$maskRect,
                    u = t.$mask;
                if (u && ($ = u.$getRenderNode())) {
                    var c = $.renderMatrix;
                    if (0 == c.a && 0 == c.b || 0 == c.c && 0 == c.d) return a
                }
                var p, c = C.Matrix.create();
                if (c.copyFrom(t.$getConcatenatedMatrix()), o ? t.$getConcatenatedMatrixAt(o, c) : !t.$parentDisplayList || (v = t.$parentDisplayList.root) !== t.$stage && t.$getConcatenatedMatrixAt(v, c), u && (b = u.$getOriginalBounds(), m = C.sys.Region.create(), (_ = C.Matrix.create()).copyFrom(u.$getConcatenatedMatrix()), o && u.$getConcatenatedMatrixAt(o, _), m.updateRegion(b, _), C.Matrix.release(_)), l && (p = C.sys.Region.create()).updateRegion(l, c), p && m ? (p.intersect(m), C.sys.Region.release(m)) : !p && m && (p = m), p) {
                    if (p.isEmpty() || n && !n.intersects(p)) return C.sys.Region.release(p), C.Matrix.release(c), a
                } else p = C.sys.Region.create(), b = t.$getOriginalBounds(), p.updateRegion(b, c);
                if (p.width <= 0 || p.height <= 0) return a;
                var d = !1;
                if (i) {
                    for (var f = i.length, g = 0; g < f; g++)
                        if (p.intersects(i[g])) {
                            d = !0;
                            break
                        }
                } else d = !0;
                if (!d) return C.sys.Region.release(p), C.Matrix.release(c), a;
                if (!(u || t.$children && 0 != t.$children.length)) return l && (_ = c, e.save(), r.$preMultiplyInto(_, _), e.setTransform(_.a, _.b, _.c, _.d, _.tx, _.ty), e.beginPath(), e.rect(l.x, l.y, l.width, l.height), e.clip()), h && (e.globalCompositeOperation = s), a += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), h && (e.globalCompositeOperation = w), l && e.restore(), C.sys.Region.release(p), C.Matrix.release(c), a;
                if (u && C.Capabilities.$runtimeType == C.RuntimeType.WEB && (!u.$children || 0 == u.$children.length) && $ && 3 == $.type && 1 == $.drawData.length && 1 == $.drawData[0].type && 1 == $.drawData[0].fillAlpha) {
                    this.renderingMask = !0, e.save();
                    var y = this.drawDisplayObject(u, e, i, r, u.$displayList, n, o);
                    return this.renderingMask = !1, l && (r.$preMultiplyInto(_ = c, _), e.setTransform(_.a, _.b, _.c, _.d, _.tx, _.ty), e.beginPath(), e.rect(l.x, l.y, l.width, l.height), e.clip()), y += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), e.restore(), C.sys.Region.release(p), C.Matrix.release(c), y
                }
                var v = this.createRenderBuffer(p.width * r.a, p.height * r.d),
                    m = v.context;
                if (!m) return a += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), C.sys.Region.release(p), C.Matrix.release(c), a;
                m.setTransform(r.a, 0, 0, r.d, -p.minX, -p.minY);
                var _, b = C.Matrix.create().setTo(r.a, 0, 0, r.d, -p.minX, -p.minY);
                if (a += this.drawDisplayObject(t, m, i, b, t.$displayList, p, o), u)
                    if (C.Capabilities.$runtimeType == C.RuntimeType.WEB && $ && 1 == $.$getRenderCount() || u.$displayList) m.globalCompositeOperation = "destination-in", a += this.drawDisplayObject(u, m, i, b, u.$displayList, p, o);
                    else {
                        var y = this.createRenderBuffer(p.width * r.a, p.height * r.d),
                            $ = y.context;
                        if (!$) return a += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), P.push(v), C.sys.Region.release(p), C.Matrix.release(c), a;
                        $.setTransform(r.a, 0, 0, r.d, -p.minX, -p.minY), b = C.Matrix.create().setTo(r.a, 0, 0, r.d, -p.minX, -p.minY), a += this.drawDisplayObject(u, $, i, b, u.$displayList, p, o), m.globalCompositeOperation = "destination-in", m.setTransform(1, 0, 0, 1, 0, 0), m.globalAlpha = 1, m.drawImage(y.surface, 0, 0), P.push(y)
                    } return C.Matrix.release(b), 0 < a && (a++, h && (e.globalCompositeOperation = s), l && (_ = c, e.save(), r.$preMultiplyInto(_, _), e.setTransform(_.a, _.b, _.c, _.d, _.tx, _.ty), e.beginPath(), e.rect(l.x, l.y, l.width, l.height), e.clip()), e.globalAlpha = 1, e.setTransform(1, 0, 0, 1, (p.minX + r.tx) * r.a, (p.minY + r.ty) * r.d), e.drawImage(v.surface, 0, 0), l && e.restore(), h && (e.globalCompositeOperation = w)), P.push(v), C.sys.Region.release(p), C.Matrix.release(c), a
            }, e.prototype.drawWithScrollRect = function (t, e, i, r, n, o) {
                var s = 0,
                    a = t.$scrollRect || t.$maskRect;
                if (a.isEmpty()) return s;
                var h, l = C.Matrix.create();
                l.copyFrom(t.$getConcatenatedMatrix()), o ? t.$getConcatenatedMatrixAt(o, l) : !t.$parentDisplayList || (h = t.$parentDisplayList.root) !== t.$stage && t.$getConcatenatedMatrixAt(h, l);
                var u = C.sys.Region.create();
                if (u.updateRegion(a, l), u.isEmpty() || n && !n.intersects(u)) return C.sys.Region.release(u), C.Matrix.release(l), s;
                var c = !1;
                if (i) {
                    for (var p = i.length, d = 0; d < p; d++)
                        if (u.intersects(i[d])) {
                            c = !0;
                            break
                        }
                } else c = !0;
                return c && (e.save(), r.$preMultiplyInto(l, l), e.setTransform(l.a, l.b, l.c, l.d, l.tx, l.ty), e.beginPath(), e.rect(a.x, a.y, a.width, a.height), e.clip(), s += this.drawDisplayObject(t, e, i, r, t.$displayList, u, o), e.restore()), C.sys.Region.release(u), C.Matrix.release(l), s
            }, e.prototype.drawNodeToBuffer = function (t, e, i, r) {
                e = e.context;
                e.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), this.renderNode(t, e, r)
            }, e.prototype.renderNode = function (t, e, i) {
                var r = 0;
                switch (t.type) {
                    case 1:
                        r = this.renderBitmap(t, e);
                        break;
                    case 2:
                        r = 1, this.renderText(t, e);
                        break;
                    case 3:
                        r = this.renderGraphics(t, e, i);
                        break;
                    case 4:
                        r = this.renderGroup(t, e);
                        break;
                    case 6:
                        e.globalAlpha = t.drawData[0];
                        break;
                    case 7:
                        r = this.renderMesh(t, e)
                }
                return r
            }, e.prototype.renderMesh = function (t, e) {
                if (C.Capabilities.runtimeType != C.RuntimeType.NATIVE) return 0;
                var i, r = t.image,
                    n = t.drawData,
                    o = n.length,
                    s = 0,
                    a = t.matrix,
                    h = t.blendMode,
                    l = t.alpha;
                a && (e.saveTransform(), e.transform(a.a, a.b, a.c, a.d, a.tx, a.ty)), h && (e.globalCompositeOperation = S[h]), l == l && (i = e.globalAlpha, e.globalAlpha *= l);
                var u = t.filter;
                if (u) {
                    for (egret_native.Graphics.setGlobalShader(u); s < o;) e.drawMesh(r.source, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.uvs, t.vertices, t.indices, t.bounds);
                    egret_native.Graphics.setGlobalShader(null)
                } else
                    for (; s < o;) e.drawMesh(r.source, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.uvs, t.vertices, t.indices, t.bounds);
                return a && e.restoreTransform(), h && (e.globalCompositeOperation = w), l == l && (e.globalAlpha = i), 1
            }, e.prototype.renderBitmap = function (t, e) {
                var i = t.image;
                if (!i || !i.source) return 0;
                e.$imageSmoothingEnabled != t.smoothing && (e.imageSmoothingEnabled = t.smoothing, e.$imageSmoothingEnabled = t.smoothing);
                var r, n = t.drawData,
                    o = n.length,
                    s = 0,
                    a = t.matrix,
                    h = t.blendMode,
                    l = t.alpha,
                    u = !1;
                a && (e.saveTransform ? e.saveTransform() : e.save(), u = !0, e.transform(a.a, a.b, a.c, a.d, a.tx, a.ty)), h && (e.globalCompositeOperation = S[h]), l == l && (r = e.globalAlpha, e.globalAlpha *= l);
                var c, p, d, f, g, y, v, m, _, b, $ = 0,
                    x = t.filter;
                if (x && 8 == o) C.Capabilities.runtimeType == C.RuntimeType.NATIVE ? (egret_native.Graphics.setGlobalShader(x), $++, t.rotated ? (d = n[0], f = n[1], g = n[2], y = n[3], v = n[4], m = n[5], _ = n[6], b = n[7], e.saveTransform ? e.saveTransform() : e.save(), e.transform(0, -1, 1, 0, 0, b), e.drawImage(i.source, d, f, y, g, v, m, b, _), e.restoreTransform ? e.restoreTransform() : e.restore()) : e.drawImage(i.source, n[0], n[1], n[2], n[3], n[4], n[5], n[6], n[7]), egret_native.Graphics.setGlobalShader(null)) : (d = n[0], f = n[1], y = n[2], g = n[3], v = n[4], m = n[5], b = n[6], _ = n[7], t.rotated && (y = n[3], g = n[2], b = n[7], _ = n[6]), p = (c = this.createRenderBuffer(b, _)).context, $++, t.rotated && e.transform(0, -1, 1, 0, 0, b), p.drawImage(i.source, d, f, y, g, 0, 0, b, _), $++, R((a = p.getImageData(0, 0, b, _)).data, b, _, x.$matrix), p.putImageData(a, 0, 0), e.drawImage(c.surface, 0, 0, b, _, v, m, b, _), P.push(c));
                else
                    for (; s < o;) $++, t.rotated ? (d = n[s++], f = n[s++], g = n[s++], y = n[s++], v = n[s++], m = n[s++], _ = n[s++], b = n[s++], e.saveTransform ? e.saveTransform() : e.save(), e.transform(0, -1, 1, 0, 0, b), e.drawImage(i.source, d, f, y, g, v, m, b, _), e.restoreTransform ? e.restoreTransform() : e.restore()) : e.drawImage(i.source, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++]);
                return u ? e.restoreTransform ? (e.restoreTransform(), h && (e.globalCompositeOperation = w), l == l && (e.globalAlpha = r)) : e.restore() : (h && (e.globalCompositeOperation = w), l == l && (e.globalAlpha = r)), $
            }, e.prototype.renderText = function (t, e) {
                e.textAlign = "left", e.textBaseline = "middle", e.lineJoin = "round";
                for (var i, r, n, o = t.drawData, s = o.length, a = 0; a < s;) {
                    var h = o[a++],
                        l = o[a++],
                        u = o[a++],
                        c = o[a++];
                    e.font = (p = t, d = n = r = d = void 0, d = (null == (i = c).italic ? p : i).italic, r = (null == i.bold ? p : i).bold, n = (null == i.size ? p : i).size, p = i.fontFamily || p.fontFamily, d = d ? "italic " : "normal ", d += r ? "bold " : "normal ", d += n + "px " + p);
                    var p = (null == c.textColor ? t : c).textColor,
                        d = (null == c.strokeColor ? t : c).strokeColor,
                        c = (null == c.stroke ? t : c).stroke;
                    e.fillStyle = C.toColorString(p), e.strokeStyle = C.toColorString(d), c && (e.lineWidth = 2 * c, e.strokeText(u, h, l)), e.fillText(u, h, l)
                }
            }, e.prototype.renderGraphics = function (t, e, i) {
                var r = t.drawData,
                    n = r.length;
                i = !!i;
                for (var o = 0; o < n; o++) {
                    var s = r[o];
                    switch (s.type) {
                        case 1:
                            e.fillStyle = i ? l : c(s.fillColor, s.fillAlpha), this.renderPath(s, e), this.renderingMask ? e.clip() : e.fill();
                            break;
                        case 2:
                            var a = s;
                            e.fillStyle = i ? l : function (t, e, i, r, n) {
                                var o;
                                o = e == C.GradientType.LINEAR ? t.createLinearGradient(-1, 0, 1, 0) : t.createRadialGradient(0, 0, 0, 0, 0, 1);
                                for (var s = i.length, a = 0; a < s; a++) o.addColorStop(n[a] / 255, c(i[a], r[a]));
                                return o
                            }(e, a.gradientType, a.colors, a.alphas, a.ratios, a.matrix), e.save();
                            var h = a.matrix;
                            this.renderPath(s, e), e.transform(h.a, h.b, h.c, h.d, h.tx, h.ty), e.fill(), e.restore();
                            break;
                        case 3:
                            a = s, h = a.lineWidth;
                            e.lineWidth = h, e.strokeStyle = i ? l : c(a.lineColor, a.lineAlpha), e.lineCap = u[a.caps], e.lineJoin = a.joints, e.miterLimit = a.miterLimit;
                            h = 1 === h || 3 === h;
                            h && e.translate(.5, .5), this.renderPath(s, e), e.stroke(), h && e.translate(-.5, -.5)
                    }
                }
                return 0 == n ? 0 : 1
            }, e.prototype.renderPath = function (t, e) {
                e.beginPath();
                for (var i = t.$data, r = t.$commands, n = r.length, o = 0, s = 0; s < n; s++) switch (r[s]) {
                    case 4:
                        e.bezierCurveTo(i[o++], i[o++], i[o++], i[o++], i[o++], i[o++]);
                        break;
                    case 3:
                        e.quadraticCurveTo(i[o++], i[o++], i[o++], i[o++]);
                        break;
                    case 2:
                        e.lineTo(i[o++], i[o++]);
                        break;
                    case 1:
                        e.moveTo(i[o++], i[o++])
                }
            }, e.prototype.renderGroup = function (t, e) {
                var i = t.matrix,
                    r = !1;
                i && (e.saveTransform ? e.saveTransform() : e.save(), r = !0, e.transform(i.a, i.b, i.c, i.d, i.tx, i.ty));
                for (var n = 0, o = t.drawData, s = o.length, a = 0; a < s; a++) {
                    var h = o[a];
                    n += this.renderNode(h, e)
                }
                return r && (e.restoreTransform ? e.restoreTransform() : e.restore()), n
            }, e.prototype.createRenderBuffer = function (t, e, i) {
                i = (i ? L : P).pop();
                return i ? i.resize(t, e, !0) : i = new C.sys.CanvasRenderBuffer(t, e), i
            }, e);

        function e() {
            this.nestLevel = 0, this.renderingMask = !1
        }

        function c(t, e) {
            return "rgba(" + (t >> 16) + "," + (t >> 8 & 255) + "," + (255 & t) + "," + e + ")"
        }
        C.CanvasRenderer = t, __reflect(t.prototype, "egret.CanvasRenderer", ["egret.sys.SystemRenderer"]);
        var U = !1;
        try {
            U = !0
        } catch (t) {}

        function H(t, e, i) {
            void 0 === i && (i = 0);
            for (var r = 0, n = e.length; r < n; r++) t[r + i] = e[r]
        }

        function R(t, e, i, r) {
            for (var n = r[0], o = r[1], s = r[2], a = r[3], h = r[4], l = r[5], u = r[6], c = r[7], p = r[8], d = r[9], f = r[10], g = r[11], y = r[12], v = r[13], m = r[14], _ = r[15], b = r[16], $ = r[17], x = r[18], T = r[19], E = 0, C = e * i * 4; E < C; E += 4) {
                var S = t[E + 0],
                    w = t[E + 1],
                    P = t[E + 2],
                    L = t[E + 3];
                t[E + 0] = n * S + o * w + s * P + a * L + h, t[E + 1] = l * S + u * w + c * P + p * L + d, t[E + 2] = f * S + g * w + y * P + v * L + m, t[E + 3] = _ * S + b * w + $ * P + x * L + T
            }
        }

        function O(t, e, i, r, n) {
            ! function (t, e, i, r) {
                var n;
                n = new(U ? Uint8ClampedArray : Array)(4 * e);
                for (var o = 4 * e, s = 2 * r + 1, a = 0; a < i; a++) {
                    for (var h = a * o, l = 0, u = 0, c = 0, p = 0, d = 0, f = 0, g = 4 * -r, y = 4 * r + 4; g < y; g += 4) {
                        var v = h + g;
                        v < h || h + o <= v || (d = t[v + 3], l += t[v + 0] * d, u += t[v + 1] * d, c += t[v + 2] * d, p += d)
                    }
                    for (var y = h + o, m = 0, _ = (g = h) - 4 * r, b = g + 4 * (r + 1); g < y; g += 4, m += 4, b += 4, _ += 4) 0 === p ? (n[m + 0] = 0, n[m + 1] = 0, n[m + 2] = 0, n[m + 3] = 0) : (n[m + 0] = l / p, n[m + 1] = u / p, n[m + 2] = c / p, n[m + 3] = p / s), d = t[b + 3], f = t[_ + 3], d || 0 == d ? f || 0 == f ? (l += t[b + 0] * d - t[_ + 0] * f, u += t[b + 1] * d - t[_ + 1] * f, c += t[b + 2] * d - t[_ + 2] * f, p += d - f) : (l += t[b + 0] * d, u += t[b + 1] * d, c += t[b + 2] * d, p += d) : !f && 0 != f || (l += -t[_ + 0] * f, u += -t[_ + 1] * f, c += -t[_ + 2] * f, p += -f);
                    U ? t.set(n, h) : H(t, n, h)
                }
            }(t, e, i, r),
            function (t, e, i, r) {
                var n;
                n = new(U ? Uint8ClampedArray : Array)(4 * i);
                for (var o = 4 * e, s = 2 * r + 1, a = 0; a < e; a++) {
                    for (var h = 4 * a, l = 0, u = 0, c = 0, p = 0, d = 0, f = 0, g = -r * o, y = r * o + o; g < y; g += o) {
                        var v = h + g;
                        v < h || h + i * o <= v || (d = t[v + 3], l += t[v + 0] * d, u += t[v + 1] * d, c += t[v + 2] * d, p += d)
                    }
                    for (var g = h, y = h + i * o, m = 0, _ = h - r * o, b = h + (r + 1) * o; g < y; g += o, m += 4, b += o, _ += o) 0 === p ? (n[m + 0] = 0, n[m + 1] = 0, n[m + 2] = 0, n[m + 3] = 0) : (n[m + 0] = l / p, n[m + 1] = u / p, n[m + 2] = c / p, n[m + 3] = p / s), d = t[b + 3], f = t[_ + 3], d || 0 == d ? f || 0 == f ? (l += t[b + 0] * d - t[_ + 0] * f, u += t[b + 1] * d - t[_ + 1] * f, c += t[b + 2] * d - t[_ + 2] * f, p += d - f) : (l += t[b + 0] * d, u += t[b + 1] * d, c += t[b + 2] * d, p += d) : !f && 0 != f || (l += -t[_ + 0] * f, u += -t[_ + 1] * f, c += -t[_ + 2] * f, p += -f);
                    for (var $ = 4 * a, y = $ + i * o, x = 0; $ < y; $ += o, x += 4) t[$ + 0] = n[x + 0], t[$ + 1] = n[x + 1], t[$ + 2] = n[x + 2], t[$ + 3] = n[x + 3]
                }
            }(t, e, i, n)
        }

        function z(t, e, i) {
            return t * (1 - i) + e * i
        }
    }(egret = egret || {}), (egret = egret || {}).DeviceOrientation = null, egret = egret || {}, egret = egret || {},
    function (t) {
        var e = (i.WEB = "web", i.NATIVE = "native", i);

        function i() {}
        t.RuntimeType = e, __reflect(e.prototype, "egret.RuntimeType");
        Object.defineProperty(r, "language", {
            get: function () {
                return r.$language
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "isMobile", {
            get: function () {
                return r.$isMobile
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "os", {
            get: function () {
                return r.$os
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "runtimeType", {
            get: function () {
                return r.$runtimeType
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "supportVersion", {
            get: function () {
                return r.$supportVersion
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "engineVersion", {
            get: function () {
                return "5.0.13"
            },
            enumerable: !0,
            configurable: !0
        }), r.$setNativeCapabilities = function (t) {
            t = t.split("-");
            if (t.length <= 4) {
                var e = t[0];
                switch (e) {
                    case "android":
                        e = "Android";
                        break;
                    case "ios":
                        e = "iOS"
                }
                r.$os = e;
                t = t[2].substring(1, t[2].length);
                r.$supportVersion = t
            }
        }, Object.defineProperty(r, "renderMode", {
            get: function () {
                return r.$renderMode
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "boundingClientWidth", {
            get: function () {
                return r.$boundingClientWidth
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r, "boundingClientHeight", {
            get: function () {
                return r.$boundingClientHeight
            },
            enumerable: !0,
            configurable: !0
        }), r.$language = "zh-CN", r.$os = "Unknown", r.$runtimeType = "Unknown", r.$supportVersion = "Unknown", r.$renderMode = "Unknown", r.$boundingClientWidth = 0, r.$boundingClientHeight = 0, e = r;

        function r() {}
        t.Capabilities = e, __reflect(e.prototype, "egret.Capabilities")
    }(egret = egret || {});
var testDeviceType = function () {
        if (!this.navigator) return !0;
        var t = navigator.userAgent.toLowerCase();
        return -1 != t.indexOf("mobile") || -1 != t.indexOf("android")
    },
    testRuntimeType = function () {
        return !!this.navigator
    },
    egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret;
egret.Capabilities.$isMobile = testDeviceType(), egret.Capabilities.$runtimeType = testRuntimeType() ? egret.RuntimeType.WEB : egret.RuntimeType.NATIVE, (egret = egret || {}).BitmapFillMode = {
        REPEAT: "repeat",
        SCALE: "scale",
        CLIP: "clip"
    },
    function (t) {
        var i = {};
        t.registerImplementation = function (t, e) {
            i[t] = e
        }, t.getImplementation = function (t) {
            return i[t]
        }
    }(egret = egret || {}),
    function (t) {
        var i, e = (i = t.SpriteSheet, __extends(r, i), r.prototype.getTexture = function (t) {
            var e = this._textureMap[t];
            if (!e) {
                var i = this.charList[t];
                if (!i) return null;
                e = this.createTexture(t, i.x, i.y, i.w, i.h, i.offX, i.offY, i.sourceW, i.sourceH), this._textureMap[t] = e
            }
            return e
        }, r.prototype.getConfig = function (t, e) {
            return this.charList[t] ? this.charList[t][e] : 0
        }, r.prototype._getFirstCharHeight = function () {
            if (0 == this.firstCharHeight)
                for (var t in this.charList) {
                    var e = this.charList[t];
                    if (e) {
                        var i = e.sourceH;
                        if (!((i = void 0 === i ? (t = void 0 === (t = e.h) ? 0 : t) + (e = void 0 === (e = e.offY) ? 0 : e) : i) <= 0)) {
                            this.firstCharHeight = i;
                            break
                        }
                    }
                }
            return this.firstCharHeight
        }, r.prototype.parseConfig = function (t) {
            for (var e = (t = t.split("\r\n").join("\n")).split("\n"), i = this.getConfigByKey(e[3], "count"), r = {}, n = 4; n < 4 + i; n++) {
                var o = e[n],
                    s = {};
                (r[String.fromCharCode(this.getConfigByKey(o, "id"))] = s).x = this.getConfigByKey(o, "x"), s.y = this.getConfigByKey(o, "y"), s.w = this.getConfigByKey(o, "width"), s.h = this.getConfigByKey(o, "height"), s.offX = this.getConfigByKey(o, "xoffset"), s.offY = this.getConfigByKey(o, "yoffset"), s.xadvance = this.getConfigByKey(o, "xadvance")
            }
            return r
        }, r.prototype.getConfigByKey = function (t, e) {
            for (var i = t.split(" "), r = 0, n = i.length; r < n; r++) {
                var o = i[r];
                if (e == o.substring(0, e.length)) {
                    o = o.substring(e.length + 1);
                    return parseInt(o)
                }
            }
            return 0
        }, r);

        function r(t, e) {
            t = i.call(this, t) || this;
            return t.firstCharHeight = 0, "string" == typeof e ? t.charList = t.parseConfig(e) : e && e.hasOwnProperty("frames") ? t.charList = e.frames : t.charList = {}, t
        }
        t.BitmapFont = e, __reflect(e.prototype, "egret.BitmapFont")
    }(egret = egret || {}),
    function (N) {
        var e, t = (e = N.DisplayObject, __extends(B, e), Object.defineProperty(B.prototype, "smoothing", {
            get: function () {
                return this.$BitmapText[12]
            },
            set: function (t) {
                var e = this.$BitmapText;
                (t = !!t) != e[12] && (e[12] = t, this.$invalidate())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(B.prototype, "text", {
            get: function () {
                return this.$BitmapText[2]
            },
            set: function (t) {
                this.$setText(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setText = function (t) {
            null == t && (t = ""), t = String(t);
            var e = this.$BitmapText;
            return t != e[2] && (e[2] = t, this.$invalidateContentBounds(), !0)
        }, B.prototype.$getWidth = function () {
            var t = this.$BitmapText[0];
            return isNaN(t) ? this.$getContentBounds().width : t
        }, B.prototype.$setWidth = function (t) {
            var e = this.$BitmapText;
            return !(t < 0 || t == e[0]) && (e[0] = t, this.$invalidateContentBounds(), !0)
        }, B.prototype.$invalidateContentBounds = function () {
            e.prototype.$invalidateContentBounds.call(this), this.$BitmapText[7] = !0
        }, B.prototype.$getHeight = function () {
            var t = this.$BitmapText[1];
            return isNaN(t) ? this.$getContentBounds().height : t
        }, B.prototype.$setHeight = function (t) {
            var e = this.$BitmapText;
            return !(t < 0 || t == e[1]) && (e[1] = t, this.$invalidateContentBounds(), !0)
        }, Object.defineProperty(B.prototype, "font", {
            get: function () {
                return this.$BitmapText[5]
            },
            set: function (t) {
                this.$setFont(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setFont = function (t) {
            var e = this.$BitmapText;
            return e[5] != t && (e[5] = t, this.$BitmapText[6] = !0, this.$invalidateContentBounds(), !0)
        }, Object.defineProperty(B.prototype, "lineSpacing", {
            get: function () {
                return this.$BitmapText[3]
            },
            set: function (t) {
                this.$setLineSpacing(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setLineSpacing = function (t) {
            var e = this.$BitmapText;
            return e[3] != (t = +t || 0) && (e[3] = t, this.$invalidateContentBounds(), !0)
        }, Object.defineProperty(B.prototype, "letterSpacing", {
            get: function () {
                return this.$BitmapText[4]
            },
            set: function (t) {
                this.$setLetterSpacing(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setLetterSpacing = function (t) {
            var e = this.$BitmapText;
            return e[4] != (t = +t || 0) && (e[4] = t, this.$invalidateContentBounds(), !0)
        }, Object.defineProperty(B.prototype, "textAlign", {
            get: function () {
                return this.$BitmapText[10]
            },
            set: function (t) {
                this.$setTextAlign(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setTextAlign = function (t) {
            var e = this.$BitmapText;
            return e[10] != t && (e[10] = t, this.$invalidateContentBounds(), !0)
        }, Object.defineProperty(B.prototype, "verticalAlign", {
            get: function () {
                return this.$BitmapText[11]
            },
            set: function (t) {
                this.$setVerticalAlign(t)
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$setVerticalAlign = function (t) {
            var e = this.$BitmapText;
            return e[11] != t && (e[11] = t, this.$invalidateContentBounds(), !0)
        }, B.prototype.$render = function () {
            var t = this.$BitmapText,
                e = this.$getTextLines(),
                i = e.length;
            if (0 != i) {
                var r = this.$textLinesWidth,
                    n = t[5],
                    o = this.$renderNode;
                n.$texture && (o.image = n.$texture._bitmapData), o.smoothing = t[12];
                for (var s = n._getFirstCharHeight(), a = Math.ceil(s * B.EMPTY_FACTOR), h = !isNaN(t[1]), l = t[8], u = t[0], c = t[1], p = t[10], d = this.$textOffsetY + this.$textStartY, f = this.$lineHeights, g = 0; g < i; g++) {
                    var y = f[g];
                    if (h && 0 < g && c < d + y) break;
                    var v, m = e[g],
                        _ = m.length,
                        b = this.$textOffsetX;
                    p != N.HorizontalAlign.LEFT && (v = l < u ? u : l, p == N.HorizontalAlign.RIGHT ? b += v - r[g] : p == N.HorizontalAlign.CENTER && (b += Math.floor((v - r[g]) / 2)));
                    for (var $ = 0; $ < _; $++) {
                        var x, T, E = m.charAt($),
                            C = n.getTexture(E);
                        C ? (x = C._bitmapWidth, T = C._bitmapHeight, o.imageWidth = C._sourceWidth, o.imageHeight = C._sourceHeight, o.drawImage(C._bitmapX, C._bitmapY, x, T, b + C._offsetX, d + C._offsetY, C.$getScaleBitmapWidth(), C.$getScaleBitmapHeight()), b += (n.getConfig(E, "xadvance") || C.$getTextureWidth()) + t[4]) : " " == E ? b += a : N.$warn(1046, E)
                    }
                    d += y + t[3]
                }
            }
        }, B.prototype.$measureContentBounds = function (t) {
            0 == this.$getTextLines().length ? t.setEmpty() : t.setTo(this.$textOffsetX + this.$textStartX, this.$textOffsetY + this.$textStartY, this.$BitmapText[8] - this.$textOffsetX, this.$BitmapText[9] - this.$textOffsetY)
        }, Object.defineProperty(B.prototype, "textWidth", {
            get: function () {
                return this.$getTextLines(), this.$BitmapText[8]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(B.prototype, "textHeight", {
            get: function () {
                return this.$getTextLines(), this.$BitmapText[9]
            },
            enumerable: !0,
            configurable: !0
        }), B.prototype.$getTextLines = function () {
            var t = this.$BitmapText;
            if (!t[7]) return this.textLines;
            var e = [];
            this.textLines = e;
            var i = [];
            this.$textLinesWidth = i, t[7] = !1;
            var r = [];
            if (this.$lineHeights = r, !t[2] || !t[5]) return e;
            for (var n, o = t[3], s = t[4], a = 0, h = 0, l = 0, u = 0, c = !isNaN(t[0]), p = t[0], d = t[1], f = t[5], g = f._getFirstCharHeight(), y = Math.ceil(g * B.EMPTY_FACTOR), v = t[2].split(/(?:\r\n|\r|\n)/), m = v.length, _ = !0, b = 0; b < m; b++) {
                for (var $ = v[b], x = $.length, T = 0, E = 0, C = !0, S = !1, w = 0; w < x; w++) {
                    C || (E += s);
                    var P = $.charAt(w),
                        L = void 0,
                        R = void 0,
                        O = 0,
                        I = 0,
                        D = f.getTexture(P);
                    if (D) L = D.$getTextureWidth(), R = D.$getTextureHeight(), O = D._offsetX, I = D._offsetY;
                    else {
                        if (" " != P) {
                            N.$warn(1046, P), C = C && !1;
                            continue
                        }
                        L = y, R = g
                    }
                    if (C && (C = !1, l = Math.min(O, l)), _ && (_ = !1, u = Math.min(I, u)), c && 0 < w && p < E + L) {
                        if (!A($.substring(0, w))) break;
                        x = ($ = $.substring(w)).length, E = (w = 0) != x - 1 && f.getConfig(P, "xadvance") || L, T = R
                    } else E += w != x - 1 && f.getConfig(P, "xadvance") || L, T = Math.max(R, T)
                }
                if (d && 0 < b && d < h) break;
                if (S = !0, !A($)) break
            }

            function A(t) {
                return !(d && 0 < e.length && d < h) && (h += T + o, C || S || (E -= s), e.push(t), r.push(T), i.push(E), a = Math.max(E, a), 1)
            }
            return h -= o, t[8] = a, t[9] = h, this.$textOffsetX = l, this.$textOffsetY = u, this.$textStartX = 0, this.$textStartY = 0, a < p && ((n = t[10]) == N.HorizontalAlign.RIGHT ? this.$textStartX = p - a : n == N.HorizontalAlign.CENTER && (this.$textStartX = Math.floor((p - a) / 2))), h < d && ((n = t[11]) == N.VerticalAlign.BOTTOM ? this.$textStartY = d - h : n == N.VerticalAlign.MIDDLE && (this.$textStartY = Math.floor((d - h) / 2))), e
        }, B.EMPTY_FACTOR = .33, B);

        function B() {
            var t = e.call(this) || this;
            return t.$textOffsetX = 0, t.$textOffsetY = 0, t.$textStartX = 0, t.$textStartY = 0, t.textLines = [], t.$lineHeights = [], t.$renderNode = new N.sys.BitmapNode, t.$BitmapText = {
                0: NaN,
                1: NaN,
                2: "",
                3: 0,
                4: 0,
                5: null,
                6: !1,
                7: !1,
                8: !1,
                9: !1,
                10: "left",
                11: "top",
                12: N.Bitmap.defaultSmoothing
            }, t
        }
        N.BitmapText = t, __reflect(t.prototype, "egret.BitmapText")
    }(egret = egret || {}),
    function (t) {
        var e = (i.LEFT = "left", i.RIGHT = "right", i.CENTER = "center", i.JUSTIFY = "justify", i.CONTENT_JUSTIFY = "contentJustify", i);

        function i() {}
        t.HorizontalAlign = e, __reflect(e.prototype, "egret.HorizontalAlign")
    }(egret = egret || {}),
    function (o) {
        var t = (e.prototype.initReplaceArr = function () {
            this.replaceArr = [], this.replaceArr.push([/&lt;/g, "<"]), this.replaceArr.push([/&gt;/g, ">"]), this.replaceArr.push([/&amp;/g, "&"]), this.replaceArr.push([/&quot;/g, '"']), this.replaceArr.push([/&apos;/g, "'"])
        }, e.prototype.replaceSpecial = function (t) {
            for (var e = 0; e < this.replaceArr.length; e++) {
                var i = this.replaceArr[e][0],
                    r = this.replaceArr[e][1];
                t = t.replace(i, r)
            }
            return t
        }, e.prototype.parse = function (t) {
            this.stackArray = [], this.resutlArr = [];
            for (var e = 0, i = t.length; e < i;) var r, n = t.indexOf("<", e),
                e = n < 0 ? (this.addToResultArr(t.substring(e)), i) : (this.addToResultArr(t.substring(e, n)), -1 == (r = t.indexOf(">", n)) ? (o.$error(1038), r = n) : "/" == t.charAt(n + 1) ? this.stackArray.pop() : this.addToArray(t.substring(n + 1, r)), r + 1);
            return this.resutlArr
        }, e.prototype.parser = function (t) {
            return this.parse(t)
        }, e.prototype.addToResultArr = function (t) {
            "" != t && (t = this.replaceSpecial(t), 0 < this.stackArray.length ? this.resutlArr.push({
                text: t,
                style: this.stackArray[this.stackArray.length - 1]
            }) : this.resutlArr.push({
                text: t
            }))
        }, e.prototype.changeStringToObject = function (t) {
            var e, i = {};
            if ("i" == (t = t.trim()).charAt(0) || "b" == t.charAt(0) || "u" == t.charAt(0)) this.addProperty(i, t, "true");
            else if (e = t.match(/^(font|a)\s/)) {
                t = t.substring(e[0].length).trim();
                for (var r, n = 0; r = t.match(this.getHeadReg());) {
                    var o = r[0],
                        s = "";
                    '"' == (t = t.substring(o.length).trim()).charAt(0) ? (n = t.indexOf('"', 1), s = t.substring(1, n), n += 1) : "'" == t.charAt(0) ? (n = t.indexOf("'", 1), s = t.substring(1, n), n += 1) : n = (s = t.match(/(\S)+/)[0]).length, this.addProperty(i, o.substring(0, o.length - 1).trim(), s.trim()), t = t.substring(n).trim()
                }
            }
            return i
        }, e.prototype.getHeadReg = function () {
            return /^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\s)*=/
        }, e.prototype.addProperty = function (t, e, i) {
            switch (e.toLowerCase()) {
                case "color":
                case "textcolor":
                    i = i.replace(/#/, "0x"), t.textColor = parseInt(i);
                    break;
                case "strokecolor":
                    i = i.replace(/#/, "0x"), t.strokeColor = parseInt(i);
                    break;
                case "stroke":
                    t.stroke = parseInt(i);
                    break;
                case "b":
                case "bold":
                    t.bold = "true" == i;
                    break;
                case "u":
                    t.underline = "true" == i;
                    break;
                case "i":
                case "italic":
                    t.italic = "true" == i;
                    break;
                case "size":
                    t.size = parseInt(i);
                    break;
                case "fontfamily":
                    t.fontFamily = i;
                    break;
                case "href":
                    t.href = this.replaceSpecial(i);
                    break;
                case "target":
                    t.target = this.replaceSpecial(i)
            }
        }, e.prototype.addToArray = function (t) {
            var e = this.changeStringToObject(t);
            if (0 == this.stackArray.length) this.stackArray.push(e);
            else {
                var i, r = this.stackArray[this.stackArray.length - 1];
                for (i in r) null == e[i] && (e[i] = r[i]);
                this.stackArray.push(e)
            }
        }, e);

        function e() {
            this.replaceArr = [], this.resutlArr = [], this.initReplaceArr()
        }
        o.HtmlTextParser = t, __reflect(t.prototype, "egret.HtmlTextParser")
    }(egret = egret || {}),
    function (s) {
        var e, t = (e = s.HashObject, __extends(i, e), i.prototype.init = function (t) {
            this._text = t, this.stageText = new s.StageText, this.stageText.$setTextField(this._text)
        }, i.prototype._addStageText = function () {
            this.stageTextAdded || (this._text.$inputEnabled || (this._text.$touchEnabled = !0), this.tempStage = this._text.stage, this.stageText.$addToStage(), this.stageText.addEventListener("updateText", this.updateTextHandler, this), this._text.addEventListener(s.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this), this.stageText.addEventListener("blur", this.blurHandler, this), this.stageText.addEventListener("focus", this.focusHandler, this), this.stageTextAdded = !0)
        }, i.prototype._removeStageText = function () {
            this.stageTextAdded && (this._text.$inputEnabled || (this._text.$touchEnabled = !1), this.stageText.$removeFromStage(), this.stageText.removeEventListener("updateText", this.updateTextHandler, this), this._text.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this.onMouseDownHandler, this), this.tempStage.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), this.stageText.removeEventListener("blur", this.blurHandler, this), this.stageText.removeEventListener("focus", this.focusHandler, this), this.stageTextAdded = !1)
        }, i.prototype._getText = function () {
            return this.stageText.$getText()
        }, i.prototype._setText = function (t) {
            this.stageText.$setText(t)
        }, i.prototype._setColor = function (t) {
            this.stageText.$setColor(t)
        }, i.prototype.focusHandler = function (t) {
            this._isFocus || (this._isFocus = !0, t.showing || (this._text.$isTyping = !0), this._text.$invalidateContentBounds(), this._text.dispatchEvent(new s.FocusEvent(s.FocusEvent.FOCUS_IN, !0)))
        }, i.prototype.blurHandler = function (t) {
            this._isFocus && (this._isFocus = !1, this.tempStage.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), this._text.$isTyping = !1, this._text.$invalidateContentBounds(), this.stageText.$onBlur(), this._text.dispatchEvent(new s.FocusEvent(s.FocusEvent.FOCUS_OUT, !0)))
        }, i.prototype.onMouseDownHandler = function (t) {
            this.$onFocus()
        }, i.prototype.$onFocus = function () {
            var t = this;
            this._text.visible && (this._isFocus || (this.tempStage.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this.onStageDownHandler, this), s.callLater(function () {
                t.tempStage.addEventListener(s.TouchEvent.TOUCH_BEGIN, t.onStageDownHandler, t)
            }, this), this.stageText.$show()))
        }, i.prototype.onStageDownHandler = function (t) {
            t.$target != this._text && this.stageText.$hide()
        }, i.prototype.updateTextHandler = function (t) {
            var e, i, r = this._text.$TextField,
                n = this.stageText.$getText(),
                o = !1;
            null != r[35] && (e = new RegExp("[" + r[35] + "]", "g"), n = (i = n.match(e)) ? i.join("") : "", o = !0), null != r[36] && (e = new RegExp("[^" + r[36] + "]", "g"), n = (i = n.match(e)) ? i.join("") : "", o = !0), o && this.stageText.$getText() != n && this.stageText.$setText(n), this.resetText(), this._text.dispatchEvent(new s.Event(s.Event.CHANGE, !0))
        }, i.prototype.resetText = function () {
            this._text.$setBaseText(this.stageText.$getText())
        }, i.prototype._hideInput = function () {
            this.stageText.$removeFromStage()
        }, i.prototype.updateInput = function () {
            !this._text.$visible && this.stageText && this._hideInput()
        }, i.prototype._updateProperties = function () {
            if (this._isFocus) return this.stageText.$resetStageText(), void this.updateInput();
            var t = this._text.$stage;
            if (null != t)
                for (var e = this._text, i = e.$visible; i && (e = e.parent) != t;) i = e.$visible;
            this.stageText.$setText(this._text.$TextField[13]), this.stageText.$resetStageText(), this.updateInput()
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.stageTextAdded = !1, t._text = null, t._isFocus = !1, t
        }
        s.InputController = t, __reflect(t.prototype, "egret.InputController")
    }(egret = egret || {}), egret = egret || {},
    function (A) {
        var N = new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![)}\\.\\,\\!\\?\\]\\:])");

        function B(t, e, i) {
            var r = null == (i = i || {}).italic ? e[16] : i.italic,
                n = null == i.bold ? e[15] : i.bold,
                o = null == i.size ? e[0] : i.size,
                e = i.fontFamily || e[8] || s.default_fontFamily;
            return A.sys.measureText(t, e, o, n, r)
        }
        var r, s = (r = A.DisplayObject, __extends(_, r), _.prototype.isInput = function () {
            return this.$TextField[24] == A.TextFieldType.INPUT
        }, _.prototype.$setTouchEnabled = function (t) {
            t = r.prototype.$setTouchEnabled.call(this, t);
            return this.isInput() && (this.$inputEnabled = !0), t
        }, Object.defineProperty(_.prototype, "fontFamily", {
            get: function () {
                return this.$TextField[8]
            },
            set: function (t) {
                this.$setFontFamily(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setFontFamily = function (t) {
            var e = this.$TextField;
            return e[8] != t && (e[8] = t, this.invalidateFontString(), !0)
        }, Object.defineProperty(_.prototype, "size", {
            get: function () {
                return this.$TextField[0]
            },
            set: function (t) {
                this.$setSize(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setSize = function (t) {
            var e = this.$TextField;
            return e[0] != (t = +t || 0) && (e[0] = t, this.invalidateFontString(), !0)
        }, Object.defineProperty(_.prototype, "bold", {
            get: function () {
                return this.$TextField[15]
            },
            set: function (t) {
                this.$setBold(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setBold = function (t) {
            var e = this.$TextField;
            return (t = !!t) != e[15] && (e[15] = t, this.invalidateFontString(), !0)
        }, Object.defineProperty(_.prototype, "italic", {
            get: function () {
                return this.$TextField[16]
            },
            set: function (t) {
                this.$setItalic(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setItalic = function (t) {
            var e = this.$TextField;
            return (t = !!t) != e[16] && (e[16] = t, this.invalidateFontString(), !0)
        }, _.prototype.invalidateFontString = function () {
            this.$TextField[17] = !0, this.$invalidateTextField()
        }, Object.defineProperty(_.prototype, "textAlign", {
            get: function () {
                return this.$TextField[9]
            },
            set: function (t) {
                this.$setTextAlign(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setTextAlign = function (t) {
            var e = this.$TextField;
            return e[9] != t && (e[9] = t, this.$invalidateTextField(), !0)
        }, Object.defineProperty(_.prototype, "verticalAlign", {
            get: function () {
                return this.$TextField[10]
            },
            set: function (t) {
                this.$setVerticalAlign(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setVerticalAlign = function (t) {
            var e = this.$TextField;
            return e[10] != t && (e[10] = t, this.$invalidateTextField(), !0)
        }, Object.defineProperty(_.prototype, "lineSpacing", {
            get: function () {
                return this.$TextField[1]
            },
            set: function (t) {
                this.$setLineSpacing(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setLineSpacing = function (t) {
            var e = this.$TextField;
            return e[1] != (t = +t || 0) && (e[1] = t, this.$invalidateTextField(), !0)
        }, Object.defineProperty(_.prototype, "textColor", {
            get: function () {
                return this.$TextField[2]
            },
            set: function (t) {
                this.$setTextColor(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setTextColor = function (t) {
            var e = this.$TextField;
            return e[2] != (t = 0 | +t) && (e[2] = t, this.inputUtils && this.inputUtils._setColor(this.$TextField[2]), this.$invalidate(), !0)
        }, Object.defineProperty(_.prototype, "wordWrap", {
            get: function () {
                return this.$TextField[19]
            },
            set: function (t) {
                this.$setWordWrap(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setWordWrap = function (t) {
            var e = this.$TextField;
            (t = !!t) != e[19] && (e[20] || (e[19] = t, this.$invalidateTextField()))
        }, Object.defineProperty(_.prototype, "type", {
            get: function () {
                return this.$TextField[24]
            },
            set: function (t) {
                this.$setType(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setType = function (t) {
            var e = this.$TextField;
            return e[24] != t && ((e[24] = t) == A.TextFieldType.INPUT ? (isNaN(e[3]) && this.$setWidth(100), isNaN(e[4]) && this.$setHeight(30), this.$setTouchEnabled(!0), null == this.inputUtils && (this.inputUtils = new A.InputController), this.inputUtils.init(this), this.$invalidateTextField(), this.$stage && this.inputUtils._addStageText()) : (this.inputUtils && (this.inputUtils._removeStageText(), this.inputUtils = null), this.$setTouchEnabled(!1)), !0)
        }, Object.defineProperty(_.prototype, "inputType", {
            get: function () {
                return this.$TextField[37]
            },
            set: function (t) {
                this.$TextField[37] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "text", {
            get: function () {
                return this.$getText()
            },
            set: function (t) {
                this.$setText(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$getText = function () {
            return this.$TextField[24] == A.TextFieldType.INPUT ? this.inputUtils._getText() : this.$TextField[13]
        }, _.prototype.$setBaseText = function (t) {
            t = (t = null == t ? "" : t).toString(), this.isFlow = !1;
            var e = this.$TextField;
            if (e[13] == t) return !1;
            this.$invalidateTextField(), e[13] = t;
            var i = "",
                i = e[20] ? this.changeToPassText(t) : t;
            return this.setMiddleStyle([{
                text: i
            }]), !0
        }, _.prototype.$setText = function (t) {
            t = this.$setBaseText(t = null == t ? "" : t);
            return this.inputUtils && this.inputUtils._setText(this.$TextField[13]), t
        }, Object.defineProperty(_.prototype, "displayAsPassword", {
            get: function () {
                return this.$TextField[20]
            },
            set: function (t) {
                this.$setDisplayAsPassword(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setDisplayAsPassword = function (t) {
            var e = this.$TextField;
            if (e[20] == t) return !1;
            e[20] = t, this.$invalidateTextField();
            var i = "",
                i = t ? this.changeToPassText(e[13]) : e[13];
            return this.setMiddleStyle([{
                text: i
            }]), !0
        }, Object.defineProperty(_.prototype, "strokeColor", {
            get: function () {
                return this.$TextField[25]
            },
            set: function (t) {
                this.$setStrokeColor(t = +t || 0)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setStrokeColor = function (t) {
            var e = this.$TextField;
            return e[25] != t && (this.$invalidateTextField(), e[25] = t, e[26] = A.toColorString(t), !0)
        }, Object.defineProperty(_.prototype, "stroke", {
            get: function () {
                return this.$TextField[27]
            },
            set: function (t) {
                this.$setStroke(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setStroke = function (t) {
            return this.$TextField[27] != t && (this.$invalidateTextField(), this.$TextField[27] = t, !0)
        }, Object.defineProperty(_.prototype, "maxChars", {
            get: function () {
                return this.$TextField[21]
            },
            set: function (t) {
                this.$setMaxChars(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setMaxChars = function (t) {
            return this.$TextField[21] != t && (this.$TextField[21] = t, !0)
        }, Object.defineProperty(_.prototype, "scrollV", {
            get: function () {
                return Math.min(Math.max(this.$TextField[28], 1), this.maxScrollV)
            },
            set: function (t) {
                this.$TextField[28] = Math.max(t, 1), this.$invalidateTextField()
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "maxScrollV", {
            get: function () {
                return this.$getLinesArr(), Math.max(this.$TextField[29] - A.TextFieldUtils.$getScrollNum(this) + 1, 1)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "selectionBeginIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "selectionEndIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "caretIndex", {
            get: function () {
                return 0
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setSelection = function (t, e) {
            return !1
        }, _.prototype.$getLineHeight = function () {
            return this.$TextField[1] + this.$TextField[0]
        }, Object.defineProperty(_.prototype, "numLines", {
            get: function () {
                return this.$getLinesArr(), this.$TextField[29]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "multiline", {
            get: function () {
                return this.$TextField[30]
            },
            set: function (t) {
                this.$setMultiline(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setMultiline = function (t) {
            return this.$TextField[30] = t, this.$invalidateTextField(), !0
        }, Object.defineProperty(_.prototype, "restrict", {
            get: function () {
                var t = this.$TextField,
                    e = null;
                return null != t[35] && (e = t[35]), null != t[36] && (null == e && (e = ""), e += "^" + t[36]), e
            },
            set: function (t) {
                var e = this.$TextField;
                if (null == t) e[35] = null, e[36] = null;
                else {
                    for (var i = -1; i < t.length && 0 != (i = t.indexOf("^", i)) && 0 < i && "\\" == t.charAt(i - 1);) i++;
                    0 == i ? (e[35] = null, e[36] = t.substring(i + 1)) : 0 < i ? (e[35] = t.substring(0, i), e[36] = t.substring(i + 1)) : (e[35] = t, e[36] = null)
                }
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setWidth = function (t) {
            var e = this.$TextField;
            if (isNaN(t)) {
                if (isNaN(e[3])) return !1;
                e[3] = NaN
            } else {
                if (e[3] == t) return !1;
                e[3] = t
            }
            return !((t = +t) < 0) && (this.$invalidateTextField(), !0)
        }, _.prototype.$setHeight = function (t) {
            var e = this.$TextField;
            if (isNaN(t)) {
                if (isNaN(e[4])) return !1;
                e[4] = NaN
            } else {
                if (e[4] == t) return !1;
                e[4] = t
            }
            return !((t = +t) < 0) && (this.$invalidateTextField(), !0)
        }, _.prototype.$getWidth = function () {
            var t = this.$TextField;
            return isNaN(t[3]) ? this.$getContentBounds().width : t[3]
        }, _.prototype.$getHeight = function () {
            var t = this.$TextField;
            return isNaN(t[4]) ? this.$getContentBounds().height : t[4]
        }, Object.defineProperty(_.prototype, "border", {
            get: function () {
                return this.$TextField[31]
            },
            set: function (t) {
                this.$setBorder(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setBorder = function (t) {
            this.$TextField[31] = !!t, this.$invalidate()
        }, Object.defineProperty(_.prototype, "borderColor", {
            get: function () {
                return this.$TextField[32]
            },
            set: function (t) {
                this.$setBorderColor(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setBorderColor = function (t) {
            this.$TextField[32] = +t || 0, this.$invalidate()
        }, Object.defineProperty(_.prototype, "background", {
            get: function () {
                return this.$TextField[33]
            },
            set: function (t) {
                this.$setBackground(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setBackground = function (t) {
            this.$TextField[33] = t, this.$invalidate()
        }, Object.defineProperty(_.prototype, "backgroundColor", {
            get: function () {
                return this.$TextField[34]
            },
            set: function (t) {
                this.$setBackgroundColor(t)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.$setBackgroundColor = function (t) {
            this.$TextField[34] = t, this.$invalidate()
        }, _.prototype.fillBackground = function (t) {
            var e = this.graphicsNode;
            e && e.clear();
            var i, r = this.$TextField;
            if (r[33] || r[31] || t && 0 < t.length) {
                e || (e = this.graphicsNode = new A.sys.GraphicsNode, (i = new A.sys.GroupNode).addNode(e), i.addNode(this.textNode), this.$renderNode = i);
                var n = void 0;
                if (r[33] && e.beginFill(r[34]).drawRect(0, 0, this.$getWidth(), this.$getHeight()), r[31] && (n = e.lineStyle(1, r[32])).drawRect(0, 0, this.$getWidth() - 1, this.$getHeight() - 1), t && 0 < t.length)
                    for (var o = r[2], s = -1, a = t.length, h = 0; h < a; h += 4) {
                        var l = t[h],
                            u = t[h + 1],
                            c = t[h + 2],
                            p = t[h + 3] || o;
                        (n = s < 0 || s != p ? e.lineStyle(2, s = p, 1, A.CapsStyle.NONE) : n).moveTo(l, u), n.lineTo(l + c, u)
                    }
            }
            e && (r = this.$getRenderBounds(), e.x = r.x, e.y = r.y, e.width = r.width, e.height = r.height, A.Rectangle.release(r))
        }, _.prototype.setFocus = function () {
            this.type == A.TextFieldType.INPUT && this.$stage && this.inputUtils.$onFocus()
        }, _.prototype.$onRemoveFromStage = function () {
            r.prototype.$onRemoveFromStage.call(this), this.removeEvent(), this.$TextField[24] == A.TextFieldType.INPUT && this.inputUtils._removeStageText(), this.textNode && this.textNode.clean()
        }, _.prototype.$onAddToStage = function (t, e) {
            r.prototype.$onAddToStage.call(this, t, e), this.addEvent(), this.$TextField[24] == A.TextFieldType.INPUT && this.inputUtils._addStageText()
        }, _.prototype.$invalidateTextField = function () {
            this.$invalidateContentBounds(), this.$TextField[18] = !0
        }, _.prototype.$update = function (t, e) {
            var i = this.$getRenderBounds(),
                t = r.prototype.$update.call(this, t, i);
            return A.Rectangle.release(i), t
        }, _.prototype.$getRenderBounds = function () {
            var t = this.$getContentBounds(),
                e = A.Rectangle.create();
            e.copyFrom(t), this.$TextField[31] && (e.width += 2, e.height += 2);
            t = 2 * this.$TextField[27];
            return 0 < t && (e.width += 2 * t, e.height += 2 * t), e.x -= 2 + t, e.y -= 2 + t, e.width = Math.ceil(e.width) + 4, e.height = Math.ceil(e.height) + 4, e
        }, _.prototype.$measureContentBounds = function (t) {
            this.$getLinesArr();
            var e = isNaN(this.$TextField[3]) ? this.$TextField[5] : this.$TextField[3],
                i = isNaN(this.$TextField[4]) ? A.TextFieldUtils.$getTextHeight(this) : this.$TextField[4];
            t.setTo(0, 0, e, i)
        }, _.prototype.$render = function () {
            if (this.$TextField[24] == A.TextFieldType.INPUT) {
                if ((this.$hasAnyFlags(2032) || this.$hasAnyFlags(1648)) && this.inputUtils._updateProperties(), this.$isTyping) return void this.fillBackground()
            } else if (0 == this.$TextField[3]) {
                var t = this.graphicsNode;
                return void(t && t.clear())
            }
            var e = this.drawText();
            this.fillBackground(e);
            t = this.$getRenderBounds(), e = this.textNode;
            e.x = t.x, e.y = t.y, e.width = Math.ceil(t.width), e.height = Math.ceil(t.height), A.Rectangle.release(t)
        }, Object.defineProperty(_.prototype, "textFlow", {
            get: function () {
                return this.textArr
            },
            set: function (t) {
                this.isFlow = !0;
                var e = "";
                null == t && (t = []);
                for (var i = 0; i < t.length; i++) e += t[i].text;
                this.$TextField[20] ? this.$setBaseText(e) : (this.$TextField[13] = e, this.setMiddleStyle(t))
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.changeToPassText = function (t) {
            if (this.$TextField[20]) {
                for (var e = "", i = 0, r = t.length; i < r; i++) switch (t.charAt(i)) {
                    case "\n":
                        e += "\n";
                        break;
                    case "\r":
                        break;
                    default:
                        e += "*"
                }
                return e
            }
            return t
        }, _.prototype.setMiddleStyle = function (t) {
            this.$TextField[18] = !0, this.textArr = t, this.$invalidateTextField()
        }, Object.defineProperty(_.prototype, "textWidth", {
            get: function () {
                return this.$getLinesArr(), this.$TextField[5]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(_.prototype, "textHeight", {
            get: function () {
                return this.$getLinesArr(), A.TextFieldUtils.$getTextHeight(this)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.appendText = function (t) {
            this.appendElement({
                text: t
            })
        }, _.prototype.appendElement = function (t) {
            var e = this.$TextField[13] + t.text;
            this.$TextField[20] ? this.$setBaseText(e) : (this.$TextField[13] = e, this.textArr.push(t), this.setMiddleStyle(this.textArr))
        }, _.prototype.$getLinesArr = function () {
            var t = this.$TextField;
            if (!t[18]) return this.linesArr;
            t[18] = !1;
            var e = this.textArr;
            this.linesArr.length = 0, t[6] = 0, t[5] = 0;
            var i = t[3];
            if (!isNaN(i) && 0 == i) return [{
                width: t[29] = 0,
                height: 0,
                charNum: 0,
                elements: [],
                hasNextLine: !1
            }];
            for (var r, n = this.linesArr, o = 0, s = 0, a = 0, h = 0, l = 0, u = e.length; l < u; l++) {
                var c = e[l];
                if (c.text) {
                    c.style = c.style || {};
                    for (var p = c.text.toString().split(/(?:\r\n|\r|\n)/), d = 0, f = p.length; d < f; d++) {
                        null == n[h] && (n[h] = r = {
                            width: 0,
                            height: 0,
                            elements: [],
                            charNum: 0,
                            hasNextLine: !1
                        }, s = a = o = 0);
                        var a = t[24] == A.TextFieldType.INPUT ? t[0] : Math.max(a, c.style.size || t[0]),
                            g = !0;
                        if ("" == p[d]) d == f - 1 && (g = !1);
                        else {
                            var y = B(p[d], t, c.style);
                            if (isNaN(i)) o += y, s += p[d].length, r.elements.push({
                                width: y,
                                text: p[d],
                                style: c.style
                            }), d == f - 1 && (g = !1);
                            else if (o + y <= i) r.elements.push({
                                width: y,
                                text: p[d],
                                style: c.style
                            }), o += y, s += p[d].length, d == f - 1 && (g = !1);
                            else {
                                for (var v = 0, m = 0, _ = p[d], b = void 0, $ = (b = t[19] ? _.split(N) : _.match(/./g)).length, x = 0; v < $; v++) {
                                    var T = !1;
                                    if (y = 1 == (w = b[v].length) && v < $ - 1 ? (P = b[v].charCodeAt(0), L = b[v + 1].charCodeAt(0), 55296 <= P && P <= 56319 && 56320 == (64512 & L) ? (w = 2, T = !0, B(b[v] + b[v + 1], t, c.style)) : B(b[v], t, c.style)) : B(b[v], t, c.style), 0 != o && i < o + y && o + v != 0) break;
                                    if (i < m + y)
                                        for (var E = b[v].match(/./g), C = 0, S = E.length; C < S; C++) {
                                            var w, P, L, R = !1;
                                            if (y = 1 == (w = E[C].length) && C < S - 1 ? (P = E[C].charCodeAt(0), L = E[C + 1].charCodeAt(0), 55296 <= P && P <= 56319 && 56320 == (64512 & L) ? (w = 2, R = !0, B(E[C] + E[C + 1], t, c.style)) : B(E[C], t, c.style)) : B(E[C], t, c.style), 0 < C && i < o + y) break;
                                            m += y, o += y, s += x += w, R && C++
                                        } else m += y, o += y, s += x += w;
                                    T && v++
                                }
                                if (0 < v) {
                                    r.elements.push({
                                        width: m,
                                        text: _.substring(0, x),
                                        style: c.style
                                    });
                                    for (var O = _.substring(x), I = void 0, D = O.length, I = 0; I < D && " " == O.charAt(I); I++);
                                    p[d] = O.substring(I)
                                }
                                "" != p[d] && (d--, g = !1)
                            }
                        }
                        g && (s++, r.hasNextLine = !0), d < p.length - 1 && (r.width = o, r.height = a, r.charNum = s, t[5] = Math.max(t[5], o), t[6] += a, h++)
                    }
                    l == e.length - 1 && r && (r.width = o, r.height = a, r.charNum = s, t[5] = Math.max(t[5], o), t[6] += a)
                } else r && (r.width = o, r.height = a, r.charNum = s, t[5] = Math.max(t[5], o), t[6] += a)
            }
            return t[29] = n.length, n
        }, _.prototype.drawText = function () {
            var t = this.textNode,
                e = this.$TextField;
            t.bold = e[15], t.fontFamily = e[8] || _.default_fontFamily, t.italic = e[16], t.size = e[0], t.stroke = e[27], t.strokeColor = e[25], t.textColor = e[2];
            var i = this.$getLinesArr();
            if (0 == e[5]) return [];
            var r = isNaN(e[3]) ? e[5] : e[3],
                n = A.TextFieldUtils.$getTextHeight(this),
                o = 0,
                s = A.TextFieldUtils.$getStartLine(this),
                a = e[4];
            !isNaN(a) && n < a && (o += A.TextFieldUtils.$getValign(this) * (a - n));
            for (var o = Math.round(o), h = A.TextFieldUtils.$getHalign(this), l = 0, u = [], c = s, p = e[29]; c < p; c++) {
                var d = i[c],
                    f = d.height;
                if (o += f / 2, c != s) {
                    if (e[24] == A.TextFieldType.INPUT && !e[30]) break;
                    if (!isNaN(a) && a < o) break
                }
                for (var l = Math.round((r - d.width) * h), g = 0, y = d.elements.length; g < y; g++) {
                    var v = d.elements[g],
                        m = v.style.size || e[0];
                    t.drawText(l, o + (f - m) / 2, v.text, v.style), v.style.underline && u.push(l, o + f / 2, v.width, v.style.textColor), l += v.width
                }
                o += f / 2 + e[1]
            }
            return u
        }, _.prototype.addEvent = function () {
            this.addEventListener(A.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        }, _.prototype.removeEvent = function () {
            this.removeEventListener(A.TouchEvent.TOUCH_TAP, this.onTapHandler, this)
        }, _.prototype.onTapHandler = function (t) {
            var e;
            this.$TextField[24] != A.TextFieldType.INPUT && (null == (e = A.TextFieldUtils.$getTextElement(this, t.localX, t.localY)) || (t = e.style) && t.href && (t.href.match(/^event:/) ? (e = t.href.match(/^event:/)[0], A.TextEvent.dispatchTextEvent(this, A.TextEvent.LINK, t.href.substring(e.length))) : open(t.href, t.target || "_blank")))
        }, _.default_fontFamily = "Arial", _.default_size = 30, _.default_textColor = 16777215, _);

        function _() {
            var t = r.call(this) || this;
            t.$inputEnabled = !1, t.inputUtils = null, t.graphicsNode = null, t.isFlow = !1, t.textArr = [], t.linesArr = [], t.$isTyping = !1;
            var e = new A.sys.TextNode;
            return e.fontFamily = _.default_fontFamily, t.textNode = e, t.$renderNode = e, t.$TextField = {
                0: _.default_size,
                1: 0,
                2: _.default_textColor,
                3: NaN,
                4: NaN,
                5: 0,
                6: 0,
                7: 0,
                8: _.default_fontFamily,
                9: "left",
                10: "top",
                11: "#ffffff",
                12: "",
                13: "",
                14: [],
                15: !1,
                16: !1,
                17: !0,
                18: !1,
                19: !1,
                20: !1,
                21: 0,
                22: 0,
                23: 0,
                24: A.TextFieldType.DYNAMIC,
                25: 0,
                26: "#000000",
                27: 0,
                28: -1,
                29: 0,
                30: !1,
                31: !1,
                32: 0,
                33: !1,
                34: 16777215,
                35: null,
                36: null,
                37: A.TextFieldInputType.TEXT
            }, t
        }
        A.TextField = s, __reflect(s.prototype, "egret.TextField")
    }(egret = egret || {}),
    function (t) {
        var e = (i.TEXT = "text", i.TEL = "tel", i.PASSWORD = "password", i);

        function i() {}
        t.TextFieldInputType = e, __reflect(e.prototype, "egret.TextFieldInputType")
    }(egret = egret || {}),
    function (t) {
        var e = (i.DYNAMIC = "dynamic", i.INPUT = "input", i);

        function i() {}
        t.TextFieldType = e, __reflect(e.prototype, "egret.TextFieldType")
    }(egret = egret || {}),
    function (r) {
        var t = (f.$getStartLine = function (t) {
            var e = t.$TextField,
                i = f.$getTextHeight(t),
                r = 0,
                t = e[4];
            return isNaN(t) || (i < t || t < i && (r = Math.max(e[28] - 1, 0), r = Math.min(e[29] - 1, r)), e[30] || (r = Math.max(e[28] - 1, 0), 0 < e[29] && (r = Math.min(e[29] - 1, r)))), r
        }, f.$getHalign = function (t) {
            var e = t.$getLinesArr(),
                i = 0;
            return t.$TextField[9] == r.HorizontalAlign.CENTER ? i = .5 : t.$TextField[9] == r.HorizontalAlign.RIGHT && (i = 1), i = t.$TextField[24] == r.TextFieldType.INPUT && !t.$TextField[30] && 1 < e.length ? 0 : i
        }, f.$getTextHeight = function (t) {
            return r.TextFieldType.INPUT != t.$TextField[24] || t.$TextField[30] ? t.$TextField[6] + (t.$TextField[29] - 1) * t.$TextField[1] : t.$TextField[0]
        }, f.$getValign = function (t) {
            var e = f.$getTextHeight(t),
                i = t.$TextField[4];
            if (!isNaN(i) && e < i) {
                i = 0;
                return t.$TextField[10] == r.VerticalAlign.MIDDLE ? i = .5 : t.$TextField[10] == r.VerticalAlign.BOTTOM && (i = 1), i
            }
            return 0
        }, f.$getTextElement = function (t, e, i) {
            i = f.$getHit(t, e, i), t = t.$getLinesArr();
            return i && t[i.lineIndex] && t[i.lineIndex].elements[i.textElementIndex] ? t[i.lineIndex].elements[i.textElementIndex] : null
        }, f.$getHit = function (t, e, i) {
            var r = t.$getLinesArr();
            if (0 == t.$TextField[3]) return null;
            var n = 0,
                o = f.$getTextHeight(t),
                s = 0,
                a = t.$TextField[4];
            !isNaN(a) && o < a && 0 != (s = f.$getValign(t) * (a - o)) && (i -= s);
            for (var h = 0, l = f.$getStartLine(t); l < r.length; l++) {
                var u = r[l];
                if (h + u.height >= i) {
                    h < i && (n = l + 1);
                    break
                }
                if ((h += u.height) + t.$TextField[1] > i) return null;
                h += t.$TextField[1]
            }
            if (0 == n) return null;
            var c = r[n - 1],
                s = t.$TextField[3];
            isNaN(s) && (s = t.textWidth), e -= f.$getHalign(t) * (s - c.width);
            for (var p = 0, l = 0; l < c.elements.length; l++) {
                var d = c.elements[l];
                if (p + d.width <= e) p += d.width;
                else if (p < e) return {
                    lineIndex: n - 1,
                    textElementIndex: l
                }
            }
            return null
        }, f.$getScrollNum = function (t) {
            var e, i, r = 1;
            return t.$TextField[30] && (e = t.height, (i = t.size) / 2 < e - (i + (t = t.lineSpacing)) * (r = Math.floor(e / (i + t))) && r++), r
        }, f);

        function f() {}
        r.TextFieldUtils = t, __reflect(t.prototype, "egret.TextFieldUtils")
    }(egret = egret || {}),
    function (t) {
        t.sys || (t.sys = {})
    }(egret = egret || {}),
    function (t) {
        var e = (i.TOP = "top", i.BOTTOM = "bottom", i.MIDDLE = "middle", i.JUSTIFY = "justify", i.CONTENT_JUSTIFY = "contentJustify", i);

        function i() {}
        t.VerticalAlign = e, __reflect(e.prototype, "egret.VerticalAlign")
    }(egret = egret || {}),
    function (t) {
        var e = (i.encode = function (t) {
            for (var e = new Uint8Array(t), i = e.length, r = "", n = 0; n < i; n += 3) r += chars[e[n] >> 2], r += chars[(3 & e[n]) << 4 | e[n + 1] >> 4], r += chars[(15 & e[n + 1]) << 2 | e[n + 2] >> 6], r += chars[63 & e[n + 2]];
            return i % 3 == 2 ? r = r.substring(0, r.length - 1) + "=" : i % 3 == 1 && (r = r.substring(0, r.length - 2) + "=="), r
        }, i.decode = function (t) {
            var e, i, r, n, o = .75 * t.length,
                s = t.length,
                a = 0;
            "=" === t[t.length - 1] && (o--, "=" === t[t.length - 2] && o--);
            for (var o = new ArrayBuffer(o), h = new Uint8Array(o), l = 0; l < s; l += 4) e = lookup[t.charCodeAt(l)], i = lookup[t.charCodeAt(l + 1)], r = lookup[t.charCodeAt(l + 2)], n = lookup[t.charCodeAt(l + 3)], h[a++] = e << 2 | i >> 4, h[a++] = (15 & i) << 4 | r >> 2, h[a++] = (3 & r) << 6 | 63 & n;
            return o
        }, i);

        function i() {}
        t.Base64Util = e, __reflect(e.prototype, "egret.Base64Util")
    }(egret = egret || {});
for (var chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", lookup = new Uint8Array(256), i = 0, egret, egret, egret, egret, egret, egret, egret; i < chars.length; i++) lookup[chars.charCodeAt(i)] = i;
! function (o) {
    var s = (t.LITTLE_ENDIAN = "littleEndian", t.BIG_ENDIAN = "bigEndian", t);

    function t() {}
    o.Endian = s, __reflect(s.prototype, "egret.Endian");
    var e = (Object.defineProperty(i.prototype, "endian", {
        get: function () {
            return 0 == this.$endian ? s.LITTLE_ENDIAN : s.BIG_ENDIAN
        },
        set: function (t) {
            this.$endian = t == s.LITTLE_ENDIAN ? 0 : 1
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.setArrayBuffer = function (t) {}, Object.defineProperty(i.prototype, "readAvailable", {
        get: function () {
            return this.write_position - this._position
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "buffer", {
        get: function () {
            return this.data.buffer.slice(0, this.write_position)
        },
        set: function (t) {
            var e = t.byteLength,
                i = new Uint8Array(t),
                t = this.bufferExtSize;
            (t = 0 == t ? new Uint8Array(e) : new Uint8Array((1 + (e / t | 0)) * t)).set(i), this.write_position = e, this._bytes = t, this.data = new DataView(t.buffer)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "rawBuffer", {
        get: function () {
            return this.data.buffer
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "bytes", {
        get: function () {
            return this._bytes
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "dataView", {
        get: function () {
            return this.data
        },
        set: function (t) {
            this.buffer = t.buffer
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "bufferOffset", {
        get: function () {
            return this.data.byteOffset
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "position", {
        get: function () {
            return this._position
        },
        set: function (t) {
            (this._position = t) > this.write_position && (this.write_position = t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "length", {
        get: function () {
            return this.write_position
        },
        set: function (t) {
            this.write_position = t, this.data.byteLength > t && (this._position = t), this._validateBuffer(t)
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype._validateBuffer = function (t) {
        var e, i;
        this.data.byteLength < t && (i = void 0, (i = 0 == (e = this.bufferExtSize) ? new Uint8Array(t) : new Uint8Array((1 + (t / e >> 0)) * e)).set(this._bytes), this._bytes = i, this.data = new DataView(i.buffer))
    }, Object.defineProperty(i.prototype, "bytesAvailable", {
        get: function () {
            return this.data.byteLength - this._position
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.clear = function () {
        var t = new ArrayBuffer(this.bufferExtSize);
        this.data = new DataView(t), this._bytes = new Uint8Array(t), this._position = 0, this.write_position = 0
    }, i.prototype.readBoolean = function () {
        if (this.validate(1)) return !!this._bytes[this.position++]
    }, i.prototype.readByte = function () {
        if (this.validate(1)) return this.data.getInt8(this.position++)
    }, i.prototype.readBytes = function (t, e, i) {
        if (void 0 === e && (e = 0), void 0 === i && (i = 0), t) {
            var r = this._position,
                n = this.write_position - r;
            if (n < 0) o.$error(1025);
            else {
                if (0 == i) i = n;
                else if (n < i) return void o.$error(1025);
                t.validateBuffer(e + i), t._bytes.set(this._bytes.subarray(r, r + i), e), this.position += i
            }
        }
    }, i.prototype.readDouble = function () {
        if (this.validate(8)) {
            var t = this.data.getFloat64(this._position, 0 == this.$endian);
            return this.position += 8, t
        }
    }, i.prototype.readFloat = function () {
        if (this.validate(4)) {
            var t = this.data.getFloat32(this._position, 0 == this.$endian);
            return this.position += 4, t
        }
    }, i.prototype.readInt = function () {
        if (this.validate(4)) {
            var t = this.data.getInt32(this._position, 0 == this.$endian);
            return this.position += 4, t
        }
    }, i.prototype.readShort = function () {
        if (this.validate(2)) {
            var t = this.data.getInt16(this._position, 0 == this.$endian);
            return this.position += 2, t
        }
    }, i.prototype.readUnsignedByte = function () {
        if (this.validate(1)) return this._bytes[this.position++]
    }, i.prototype.readUnsignedInt = function () {
        if (this.validate(4)) {
            var t = this.data.getUint32(this._position, 0 == this.$endian);
            return this.position += 4, t
        }
    }, i.prototype.readUnsignedShort = function () {
        if (this.validate(2)) {
            var t = this.data.getUint16(this._position, 0 == this.$endian);
            return this.position += 2, t
        }
    }, i.prototype.readUTF = function () {
        var t = this.readUnsignedShort();
        return 0 < t ? this.readUTFBytes(t) : ""
    }, i.prototype.readUTFBytes = function (t) {
        if (this.validate(t)) {
            var e = this.data,
                e = new Uint8Array(e.buffer, e.byteOffset + this._position, t);
            return this.position += t, this.decodeUTF8(e)
        }
    }, i.prototype.writeBoolean = function (t) {
        this.validateBuffer(1), this._bytes[this.position++] = +t
    }, i.prototype.writeByte = function (t) {
        this.validateBuffer(1), this._bytes[this.position++] = 255 & t
    }, i.prototype.writeBytes = function (t, e, i) {
        void 0 === i && (i = 0), (e = void 0 === e ? 0 : e) < 0 || i < 0 || 0 < (i = 0 == i ? t.length - e : Math.min(t.length - e, i)) && (this.validateBuffer(i), this._bytes.set(t._bytes.subarray(e, e + i), this._position), this.position = this._position + i)
    }, i.prototype.writeDouble = function (t) {
        this.validateBuffer(8), this.data.setFloat64(this._position, t, 0 == this.$endian), this.position += 8
    }, i.prototype.writeFloat = function (t) {
        this.validateBuffer(4), this.data.setFloat32(this._position, t, 0 == this.$endian), this.position += 4
    }, i.prototype.writeInt = function (t) {
        this.validateBuffer(4), this.data.setInt32(this._position, t, 0 == this.$endian), this.position += 4
    }, i.prototype.writeShort = function (t) {
        this.validateBuffer(2), this.data.setInt16(this._position, t, 0 == this.$endian), this.position += 2
    }, i.prototype.writeUnsignedInt = function (t) {
        this.validateBuffer(4), this.data.setUint32(this._position, t, 0 == this.$endian), this.position += 4
    }, i.prototype.writeUnsignedShort = function (t) {
        this.validateBuffer(2), this.data.setUint16(this._position, t, 0 == this.$endian), this.position += 2
    }, i.prototype.writeUTF = function (t) {
        var e = this.encodeUTF8(t),
            t = e.length;
        this.validateBuffer(2 + t), this.data.setUint16(this._position, t, 0 == this.$endian), this.position += 2, this._writeUint8Array(e, !1)
    }, i.prototype.writeUTFBytes = function (t) {
        this._writeUint8Array(this.encodeUTF8(t))
    }, i.prototype.toString = function () {
        return "[ByteArray] length:" + this.length + ", bytesAvailable:" + this.bytesAvailable
    }, i.prototype._writeUint8Array = function (t, e) {
        var i = this._position,
            r = i + t.length;
        (e = void 0 === e ? !0 : e) && this.validateBuffer(r), this.bytes.set(t, i), this.position = r
    }, i.prototype.validate = function (t) {
        var e = this._bytes.length;
        if (0 < e && this._position + t <= e) return !0;
        o.$error(1025)
    }, i.prototype.validateBuffer = function (t) {
        this.write_position = t > this.write_position ? t : this.write_position, t += this._position, this._validateBuffer(t)
    }, i.prototype.encodeUTF8 = function (t) {
        for (var e = 0, i = this.stringToCodePoints(t), r = []; i.length > e;) {
            var n = i[e++];
            if (this.inRange(n, 55296, 57343)) this.encoderError(n);
            else if (this.inRange(n, 0, 127)) r.push(n);
            else {
                var o = void 0,
                    s = void 0;
                for (this.inRange(n, 128, 2047) ? (o = 1, s = 192) : this.inRange(n, 2048, 65535) ? (o = 2, s = 224) : this.inRange(n, 65536, 1114111) && (o = 3, s = 240), r.push(this.div(n, Math.pow(64, o)) + s); 0 < o;) {
                    var a = this.div(n, Math.pow(64, o - 1));
                    r.push(128 + a % 64), --o
                }
            }
        }
        return new Uint8Array(r)
    }, i.prototype.decodeUTF8 = function (t) {
        for (var e = 0, i = "", r = 0, n = 0, o = 0, s = 0; t.length > e;) {
            var a, h, l = t[e++];
            null !== (l = l == this.EOF_byte ? 0 != n ? this.decoderError(!1) : this.EOF_code_point : 0 == n ? this.inRange(l, 0, 127) ? l : (this.inRange(l, 194, 223) ? (n = 1, s = 128, r = l - 192) : this.inRange(l, 224, 239) ? (n = 2, s = 2048, r = l - 224) : this.inRange(l, 240, 244) ? (n = 3, s = 65536, r = l - 240) : this.decoderError(!1), r *= Math.pow(64, n), null) : this.inRange(l, 128, 191) ? (o += 1, r += (l - 128) * Math.pow(64, n - o), o !== n ? null : (a = r, h = s, s = o = n = r = 0, this.inRange(a, h, 1114111) && !this.inRange(a, 55296, 57343) ? a : this.decoderError(!1, l))) : (s = o = n = r = 0, e--, this.decoderError(!1, l))) && l !== this.EOF_code_point && (l <= 65535 ? 0 < l && (i += String.fromCharCode(l)) : (l -= 65536, i += String.fromCharCode(55296 + (l >> 10 & 1023)), i += String.fromCharCode(56320 + (1023 & l))))
        }
        return i
    }, i.prototype.encoderError = function (t) {
        o.$error(1026, t)
    }, i.prototype.decoderError = function (t, e) {
        return t && o.$error(1027), e || 65533
    }, i.prototype.inRange = function (t, e, i) {
        return e <= t && t <= i
    }, i.prototype.div = function (t, e) {
        return Math.floor(t / e)
    }, i.prototype.stringToCodePoints = function (t) {
        for (var e = [], i = 0, r = t.length; i < t.length;) {
            var n, o = t.charCodeAt(i);
            this.inRange(o, 55296, 57343) ? this.inRange(o, 56320, 57343) || i == r - 1 ? e.push(65533) : (n = t.charCodeAt(i + 1), this.inRange(n, 56320, 57343) ? (i += 1, e.push(65536 + ((1023 & o) << 10) + (1023 & n))) : e.push(65533)) : e.push(o), i += 1
        }
        return e
    }, i);

    function i(t, e) {
        void 0 === e && (e = 0), this.bufferExtSize = 0, this.EOF_byte = -1, this.EOF_code_point = -1, this.bufferExtSize = e = e < 0 ? 0 : e;
        var i, r, n = 0;
        t ? (i = void 0, t instanceof Uint8Array ? n = (i = t).length : (n = t.byteLength, i = new Uint8Array(t)), (r = 0 == e ? new Uint8Array(n) : new Uint8Array((1 + (n / e | 0)) * e)).set(i)) : r = new Uint8Array(e), this.write_position = n, this._position = 0, this._bytes = r, this.data = new DataView(r.buffer), this.endian = s.BIG_ENDIAN
    }
    o.ByteArray = e, __reflect(e.prototype, "egret.ByteArray")
}(egret = egret || {}),
function (t) {
    var e = (i.NORMAL = "normal", i.ADD = "add", i.ERASE = "erase", i);

    function i() {}
    t.BlendMode = e, __reflect(e.prototype, "egret.BlendMode")
}(egret = egret || {}),
function (t) {
    ! function (t) {
        for (var e = ["normal", "add", "erase"], i = {}, r = e.length, n = 0; n < r; n++) i[e[n]] = n;
        t.blendModeToNumber = function (t) {
            return void 0 === (t = i[t]) ? 0 : t
        }, t.numberToBlendMode = function (t) {
            return void 0 === (t = e[t]) ? "normal" : t
        }
    }(t.sys || (t.sys = {}))
}(egret = egret || {}),
function (i) {
    i.fontMapping = {}, i.useFontMapping = !1, i.registerFontMapping = function (t, e) {
        i.useFontMapping = !0, i.fontMapping[t] = e
    }
}(egret = egret || {}),
function (h) {
    h.registerClass = function (t, e, i) {
        t || h.$error(1003, "classDefinition"), t.prototype || h.$error(1012, "classDefinition"), void 0 === e && h.$error(1003, "className");
        var r = [(t = t.prototype).__class__ = e];
        i && (r = r.concat(i));
        var n = t.__types__;
        if (t.__types__)
            for (var o = n.length, s = 0; s < o; s++) {
                var a = n[s]; - 1 == r.indexOf(a) && r.push(a)
            }
        t.__types__ = r
    }
}(egret = egret || {}),
function (i) {
    var e, t = (e = i.DisplayObjectContainer, __extends(r, e), Object.defineProperty(r.prototype, "frameRate", {
        get: function () {
            return i.ticker.$frameRate
        },
        set: function (t) {
            i.ticker.$setFrameRate(t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "stageWidth", {
        get: function () {
            return this.$stageWidth
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "stageHeight", {
        get: function () {
            return this.$stageHeight
        },
        enumerable: !0,
        configurable: !0
    }), r.prototype.invalidate = function () {
        i.sys.$invalidateRenderFlag = !0
    }, r.prototype.registerImplementation = function (t, e) {
        i.registerImplementation(t, e)
    }, r.prototype.getImplementation = function (t) {
        return i.getImplementation(t)
    }, Object.defineProperty(r.prototype, "scaleMode", {
        get: function () {
            return this.$scaleMode
        },
        set: function (t) {
            this.$scaleMode != t && (this.$scaleMode = t, this.$screen.updateScreenSize())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "orientation", {
        get: function () {
            return this.$orientation
        },
        set: function (t) {
            this.$orientation != t && (this.$orientation = t, this.$screen.updateScreenSize())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "textureScaleFactor", {
        get: function () {
            return i.$TextureScaleFactor
        },
        set: function (t) {
            i.$TextureScaleFactor = t
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "maxTouches", {
        get: function () {
            return this.$maxTouches
        },
        set: function (t) {
            this.$maxTouches != t && (this.$maxTouches = t, this.$screen.updateMaxTouches())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r.prototype, "dirtyRegionPolicy", {
        get: function () {
            return this.$dirtyRegionPolicy
        },
        set: function (t) {
            this.$dirtyRegionPolicy != t && (this.$dirtyRegionPolicy = t, this.$displayList.setDirtyRegionPolicy(t))
        },
        enumerable: !0,
        configurable: !0
    }), r.prototype.setContentSize = function (t, e) {
        this.$screen.setContentSize(t, e)
    }, r);

    function r() {
        var t = e.call(this) || this;
        return t.$stageWidth = 0, t.$stageHeight = 0, t.$scaleMode = i.StageScaleMode.SHOW_ALL, t.$orientation = i.OrientationMode.AUTO, t.$maxTouches = 99, t.$dirtyRegionPolicy = i.DirtyRegionPolicy.ON, (t.$stage = t).$nestLevel = 1, t
    }
    i.Stage = t, __reflect(t.prototype, "egret.Stage"), i.$markCannotUse(t, "alpha", 1), i.$markCannotUse(t, "visible", !0), i.$markCannotUse(t, "x", 0), i.$markCannotUse(t, "y", 0), i.$markCannotUse(t, "scaleX", 1), i.$markCannotUse(t, "scaleY", 1), i.$markCannotUse(t, "rotation", 0), i.$markCannotUse(t, "cacheAsBitmap", !1), i.$markCannotUse(t, "scrollRect", null), i.$markCannotUse(t, "filters", null), i.$markCannotUse(t, "blendMode", null), i.$markCannotUse(t, "touchEnabled", !0), i.$markCannotUse(t, "matrix", null)
}(egret = egret || {}),
function (t) {
    var e = (Object.defineProperty(i, "logLevel", {
        set: function (t) {},
        enumerable: !0,
        configurable: !0
    }), i.ALL = "all", i.DEBUG = "debug", i.INFO = "info", i.WARN = "warn", i.ERROR = "error", i.OFF = "off", i);

    function i() {}
    t.Logger = e, __reflect(e.prototype, "egret.Logger")
}(egret = egret || {}),
function (t) {
    var e = (n.isNumber = function (t) {
        return "number" == typeof t && !isNaN(t)
    }, n.sin = function (t) {
        var e = Math.floor(t),
            i = e + 1,
            r = n.sinInt(e);
        return e == t ? r : (t - e) * n.sinInt(i) + (i - t) * r
    }, n.sinInt = function (t) {
        return (t %= 360) < 0 && (t += 360), egret_sin_map[t]
    }, n.cos = function (t) {
        var e = Math.floor(t),
            i = e + 1,
            r = n.cosInt(e);
        return e == t ? r : (t - e) * n.cosInt(i) + (i - t) * r
    }, n.cosInt = function (t) {
        return (t %= 360) < 0 && (t += 360), egret_cos_map[t]
    }, n);

    function n() {}
    t.NumberUtils = e, __reflect(e.prototype, "egret.NumberUtils")
}(egret = egret || {});
for (var egret_sin_map = {}, egret_cos_map = {}, DEG_TO_RAD = Math.PI / 180, NumberUtils_i = 0, egret, egret, egret, egret, egret; NumberUtils_i < 360; NumberUtils_i++) egret_sin_map[NumberUtils_i] = Math.sin(NumberUtils_i * DEG_TO_RAD), egret_cos_map[NumberUtils_i] = Math.cos(NumberUtils_i * DEG_TO_RAD);
egret_sin_map[90] = 1, egret_cos_map[90] = 0, egret_sin_map[180] = 0, egret_cos_map[180] = -1, egret_sin_map[270] = -1, egret_cos_map[270] = 0, Function.prototype.bind || (Function.prototype.bind = function (t) {
        "function" != typeof this && egret.$error(1029);

        function e() {}

        function i() {
            return n.apply(this instanceof e && t ? this : t, r.concat(Array.prototype.slice.call(arguments)))
        }
        var r = Array.prototype.slice.call(arguments, 1),
            n = this;
        return e.prototype = this.prototype, i.prototype = new e, i
    }),
    function (e) {
        var r, t = (r = e.EventDispatcher, __extends(i, r), Object.defineProperty(i.prototype, "delay", {
            get: function () {
                return this._delay
            },
            set: function (t) {
                this._delay != (t = t < 1 ? 1 : t) && (this._delay = t, this.lastCount = this.updateInterval = Math.round(60 * t))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "currentCount", {
            get: function () {
                return this._currentCount
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "running", {
            get: function () {
                return this._running
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.reset = function () {
            this.stop(), this._currentCount = 0
        }, i.prototype.start = function () {
            this._running || (this.lastCount = this.updateInterval, this.lastTimeStamp = e.getTimer(), e.ticker.$startTick(this.$update, this), this._running = !0)
        }, i.prototype.stop = function () {
            this._running && (e.stopTick(this.$update, this), this._running = !1)
        }, i.prototype.$update = function (t) {
            if (t - this.lastTimeStamp >= this._delay) this.lastCount = this.updateInterval;
            else {
                if (this.lastCount -= 1e3, 0 < this.lastCount) return !1;
                this.lastCount += this.updateInterval
            }
            this.lastTimeStamp = t, this._currentCount++;
            t = 0 < this.repeatCount && this._currentCount >= this.repeatCount;
            return e.TimerEvent.dispatchTimerEvent(this, e.TimerEvent.TIMER), t && (this.stop(), e.TimerEvent.dispatchTimerEvent(this, e.TimerEvent.TIMER_COMPLETE)), !1
        }, i);

        function i(t, e) {
            void 0 === e && (e = 0);
            var i = r.call(this) || this;
            return i._delay = 0, i._currentCount = 0, i._running = !1, i.updateInterval = 1e3, i.lastCount = 1e3, i.lastTimeStamp = 0, i.delay = t, i.repeatCount = 0 | +e, i
        }
        e.Timer = t, __reflect(t.prototype, "egret.Timer")
    }(egret = egret || {}), egret = egret || {},
    function (n) {
        n.$callLaterFunctionList = [], n.$callLaterThisList = [], n.$callLaterArgsList = [], n.callLater = function (t, e) {
            for (var i = [], r = 2; r < arguments.length; r++) i[r - 2] = arguments[r];
            n.$callLaterFunctionList.push(t), n.$callLaterThisList.push(e), n.$callLaterArgsList.push(i)
        }, n.$callAsyncFunctionList = [], n.$callAsyncThisList = [], n.$callAsyncArgsList = [], n.$callAsync = function (t, e) {
            for (var i = [], r = 2; r < arguments.length; r++) i[r - 2] = arguments[r];
            n.$callAsyncFunctionList.push(t), n.$callAsyncThisList.push(e), n.$callAsyncArgsList.push(i)
        }
    }(egret = egret || {}),
    function (t) {
        t.superSetter = function (t, e, i) {
            for (var r = [], n = 3; n < arguments.length; n++) r[n - 3] = arguments[n];
            var o = t.prototype;
            t.hasOwnProperty("__sets__") || Object.defineProperty(t, "__sets__", {
                value: {}
            });
            var s, a = (s = t.__sets__)[i];
            if (a) return a.apply(e, r);
            var h = Object.getPrototypeOf(o);
            if (null != h) {
                for (; !h.hasOwnProperty(i);)
                    if (null == (h = Object.getPrototypeOf(h))) return;
                a = Object.getOwnPropertyDescriptor(h, i).set, (s[i] = a).apply(e, r)
            }
        }, t.superGetter = function (t, e, i) {
            var r, n = t.prototype;
            if (t.hasOwnProperty("__gets__") || Object.defineProperty(t, "__gets__", {
                    value: {}
                }), t = (r = t.__gets__)[i]) return t.call(e);
            var o = Object.getPrototypeOf(n);
            if (null != o) {
                for (; !o.hasOwnProperty(i);)
                    if (null == (o = Object.getPrototypeOf(o))) return;
                return t = Object.getOwnPropertyDescriptor(o, i).get, (r[i] = t).call(e)
            }
        }
    }(egret = egret || {}),
    function (t) {
        var o = {};
        t.getDefinitionByName = function (t) {
            if (!t) return null;
            var e = o[t];
            if (e) return e;
            var i = t.split("."),
                r = i.length;
            e = __global;
            for (var n = 0; n < r; n++)
                if (!(e = e[i[n]])) return null;
            return o[t] = e
        }, t.cleanCache = function () {
            o = {}
        }
    }(egret = egret || {});
var __global = this.__global || this,
    egret, egret, egret, egret, egret, egret, egret, egret, egret;
egret = egret || {}, (egret || (egret = {})).getQualifiedClassName = function (t) {
        var e = typeof t;
        if (!t || "object" != e && !t.prototype) return e;
        var i = t.prototype || Object.getPrototypeOf(t);
        return i.hasOwnProperty("__class__") ? i.__class__ : (e = i.constructor.toString().trim(), t = e.indexOf("("), t = e.substring(9, t), Object.defineProperty(i, "__class__", {
            value: t,
            enumerable: !1,
            writable: !0
        }), t)
    },
    function (e) {
        e.getQualifiedSuperclassName = function (t) {
            return !t || "object" != typeof t && !t.prototype ? null : (t = t.prototype || Object.getPrototypeOf(t), (t = Object.getPrototypeOf(t)) && (t = e.getQualifiedClassName(t.constructor)) || null)
        }
    }(egret = egret || {}),
    function (t) {
        t.getTimer = function () {
            return Date.now() - t.sys.$START_TIME
        }
    }(egret = egret || {}),
    function (e) {
        e.hasDefinition = function (t) {
            return !!e.getDefinitionByName(t)
        }
    }(egret = egret || {}), (egret || (egret = {})).is = function (t, e) {
        return !(!t || "object" != typeof t) && (!!(t = (t = Object.getPrototypeOf(t)) ? t.__types__ : null) && -1 !== t.indexOf(e))
    },
    function (i) {
        i.startTick = function (t, e) {
            t || i.$error(1003, "callBack"), i.ticker.$startTick(t, e)
        }
    }(egret = egret || {}),
    function (i) {
        i.stopTick = function (t, e) {
            t || i.$error(1003, "callBack"), i.ticker.$stopTick(t, e)
        }
    }(egret = egret || {}), (egret || (egret = {})).toColorString = function (t) {
        for (var e = (t = 16777215 < (t = t < 0 ? 0 : t) ? 16777215 : t).toString(16).toUpperCase(); 6 < e.length;) e = e.slice(1, e.length);
        for (; e.length < 6;) e = "0" + e;
        return "#" + e
    };
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret;
! function (a) {
    var t, h, e;

    function i(t, e, i, r, n) {
        var o, s = h.call(this) || this;
        return s.showPanle = !0, s.fpsHeight = 0, s.WIDTH = 101, s.HEIGHT = 20, s.bgCanvasColor = "#18304b", s.fpsFrontColor = "#18fefe", s.WIDTH_COST = 33, s.cost1Color = "#18fefe", s.cost2Color = "#ffff00", s.cost3Color = "#ff0000", s.arrFps = [], s.arrCost = [], s.arrLog = [], (e || i) && ("canvas" == a.Capabilities.renderMode ? s.renderMode = "Canvas" : s.renderMode = "WebGL", s.panelX = void 0 === n.x ? 0 : parseInt(n.x), s.panelY = void 0 === n.y ? 0 : parseInt(n.y), s.fontColor = void 0 === n.textColor ? "#ffffff" : n.textColor.replace("0x", "#"), s.fontSize = void 0 === n.size ? 12 : parseInt(n.size), a.Capabilities.isMobile && (s.fontSize -= 2), (o = document.createElement("div")).style.position = "absolute", o.style.background = "rgba(0,0,0," + n.bgAlpha + ")", o.style.left = s.panelX + "px", o.style.top = s.panelY + "px", o.style.pointerEvents = "none", document.body.appendChild(o), (n = document.createElement("div")).style.color = s.fontColor, n.style.fontSize = s.fontSize + "px", n.style.lineHeight = s.fontSize + "px", n.style.margin = "4px 4px 4px 4px", s.container = n, o.appendChild(n), e && s.addFps(), i && s.addLog()), s
    }
    t = a.web || (a.web = {}), h = a.DisplayObject, __extends(i, h), i.prototype.addFps = function () {
        var t = document.createElement("div");
        t.style.display = "inline-block", this.containerFps = t, this.container.appendChild(t);
        var e = document.createElement("div");
        e.style.paddingBottom = "2px", this.fps = e, this.containerFps.appendChild(e), e.innerHTML = "0 FPS " + this.renderMode + "<br/>min0 max0 avg0";
        var i = document.createElement("canvas");
        this.containerFps.appendChild(i), i.width = this.WIDTH, i.height = this.HEIGHT;
        var r = (this.canvasFps = i).getContext("2d");
        (this.contextFps = r).fillStyle = this.bgCanvasColor, r.fillRect(0, 0, this.WIDTH, this.HEIGHT);
        var n = document.createElement("div");
        this.divDatas = n, this.containerFps.appendChild(n);
        t = document.createElement("div");
        t.style.float = "left", t.innerHTML = "Draw<br/>Dirty<br/>Cost", n.appendChild(t);
        e = document.createElement("div");
        e.style.paddingLeft = t.offsetWidth + 20 + "px", n.appendChild(e);
        n = document.createElement("div");
        (this.divDraw = n).innerHTML = "0<br/>0<br/>", e.appendChild(n);
        n = document.createElement("div");
        (this.divCost = n).innerHTML = '<font  style="color:' + this.cost1Color + '">0<font/> <font  style="color:' + this.cost2Color + '">0<font/> <font  style="color:' + this.cost3Color + '">0<font/>', e.appendChild(n), i = document.createElement("canvas"), this.canvasCost = i, this.containerFps.appendChild(i), i.width = this.WIDTH, i.height = this.HEIGHT, r = i.getContext("2d"), (this.contextCost = r).fillStyle = this.bgCanvasColor, r.fillRect(0, 0, this.WIDTH, this.HEIGHT), r.fillStyle = "#000000", r.fillRect(this.WIDTH_COST, 0, 1, this.HEIGHT), r.fillRect(2 * this.WIDTH_COST + 1, 0, 1, this.HEIGHT), this.fpsHeight = this.container.offsetHeight
    }, i.prototype.addLog = function () {
        var t = document.createElement("div");
        t.style.maxWidth = document.body.clientWidth - 8 - this.panelX + "px", t.style.wordWrap = "break-word", this.log = t, this.container.appendChild(t)
    }, i.prototype.update = function (t, e) {
        var i, r, n;
        (e = void 0 === e ? !1 : e) ? (g = this.arrFps[this.arrFps.length - 1], i = this.arrCost[this.arrCost.length - 1][0], r = this.arrCost[this.arrCost.length - 1][1], n = this.arrCost[this.arrCost.length - 1][2]) : (g = t.fps, i = t.costTicker, r = t.costDirty, n = t.costRender, this.lastNumDraw = t.draw, this.lastNumDirty = t.dirty, this.arrFps.push(g), this.arrCost.push([i, r, n]));
        var o = 0,
            s = this.arrFps.length;
        101 < s && (s = 101, this.arrFps.shift(), this.arrCost.shift());
        for (var a = this.arrFps[0], h = this.arrFps[0], l = 0; l < s; l++) {
            var u = this.arrFps[l];
            o += u, u < a ? a = u : h < u && (h = u)
        }
        var c = this.WIDTH,
            p = this.HEIGHT,
            d = this.contextFps;
        d.drawImage(this.canvasFps, 1, 0, c - 1, p, 0, 0, c - 1, p), d.fillStyle = this.bgCanvasColor, d.fillRect(c - 1, 0, 1, p);
        var f = Math.floor(g / 60 * 20);
        f < 1 && (f = 1), d.fillStyle = this.fpsFrontColor, d.fillRect(c - 1, 20 - f, 1, f);
        e = this.WIDTH_COST;
        (d = this.contextCost).drawImage(this.canvasCost, 1, 0, e - 1, p, 0, 0, e - 1, p), d.drawImage(this.canvasCost, e + 2, 0, e - 1, p, e + 1, 0, e - 1, p), d.drawImage(this.canvasCost, 2 * e + 3, 0, e - 1, p, 2 * e + 2, 0, e - 1, p);
        t = Math.floor(i / 2);
        t < 1 ? t = 1 : 20 < t && (t = 20);
        c = Math.floor(r / 2);
        c < 1 ? c = 1 : 20 < c && (c = 20);
        f = Math.floor(n / 2);
        f < 1 ? f = 1 : 20 < f && (f = 20), d.fillStyle = this.bgCanvasColor, d.fillRect(e - 1, 0, 1, p), d.fillRect(2 * e, 0, 1, p), d.fillRect(3 * e + 1, 0, 1, p), d.fillStyle = this.cost1Color, d.fillRect(e - 1, 20 - t, 1, t), d.fillStyle = this.cost2Color, d.fillRect(2 * e, 20 - c, 1, c), d.fillStyle = this.cost3Color, d.fillRect(3 * e + 1, 20 - f, 1, f);
        var f = Math.floor(o / s),
            g = g + " FPS " + this.renderMode;
        this.showPanle && (g += "<br/>min" + a + " max" + h + " avg" + f, this.divDraw.innerHTML = this.lastNumDraw + "<br/>" + this.lastNumDirty + "%<br/>", this.divCost.innerHTML = '<font  style="color:#18fefe">' + i + '<font/> <font  style="color:#ffff00">' + r + '<font/> <font  style="color:#ff0000">' + n + "<font/>"), this.fps.innerHTML = g
    }, i.prototype.updateInfo = function (t) {
        for (this.arrLog.push(t), this.log.innerHTML = this.arrLog.join("<br/>"); document.body.clientHeight < this.log.offsetHeight + this.fpsHeight + this.panelY + 2 * this.fontSize;) this.arrLog.shift(), this.log.innerHTML = this.arrLog.join("<br/>")
    }, e = i, t.WebFps = e, __reflect(e.prototype, "egret.web.WebFps", ["egret.FPSDisplay", "egret.DisplayObject"]), a.FPSDisplay = e
}(egret = egret || {}), null == window.HTMLVideoElement && (window.HTMLVideoElement = HTMLDivElement),
    function (t) {
        var e;
        t.web || (t.web = {});
        e = "egret.BitmapData", t.registerClass(HTMLImageElement, e), t.registerClass(HTMLCanvasElement, e), t.registerClass(HTMLVideoElement, e)
    }(egret = egret || {}),
    function (e) {
        e.$toBitmapData = function (t) {
            return t.hashCode = t.$hashCode = e.$hashCount++, t
        }
    }(egret = egret || {}),
    function (r) {
        ! function (t) {
            t.web || (t.web = {});
            t.getItem = function (t) {
                return window.localStorage.getItem(t)
            }, t.setItem = function (e, i) {
                try {
                    return window.localStorage.setItem(e, i), !0
                } catch (t) {
                    return r.$warn(1047, e, i), !1
                }
            }, t.removeItem = function (t) {
                window.localStorage.removeItem(t)
            }, t.clear = function () {
                window.localStorage.clear()
            }
        }(r.localStorage || (r.localStorage = {}))
    }(egret = egret || {}),
    function (a) {
        var r, e, t;

        function h() {
            var t = e.call(this) || this;
            return t.loaded = !1, t
        }
        r = a.web || (a.web = {}), e = a.EventDispatcher, __extends(h, e), Object.defineProperty(h.prototype, "length", {
            get: function () {
                if (this.originAudio) return this.originAudio.duration;
                throw new Error("sound not loaded!")
            },
            enumerable: !0,
            configurable: !0
        }), h.prototype.load = function (t) {
            var e = this;
            (this.url = t) || a.$error(3002);
            var i = new Audio(t);
            i.addEventListener("canplaythrough", n), i.addEventListener("error", o);
            var r = navigator.userAgent.toLowerCase();

            function n() {
                s(), 0 <= r.indexOf("firefox") && (i.pause(), i.muted = !1), e.loaded = !0, e.dispatchEventWith(a.Event.COMPLETE)
            }

            function o() {
                s(), e.dispatchEventWith(a.IOErrorEvent.IO_ERROR)
            }

            function s() {
                i.removeEventListener("canplaythrough", n), i.removeEventListener("error", o)
            }
            0 <= r.indexOf("firefox") && (i.autoplay = !0, i.muted = !0), i.load(), this.originAudio = i, h.clearAudios[this.url] && delete h.clearAudios[this.url], h.$recycle(this.url, i)
        }, h.prototype.play = function (t, e) {
            t = +t || 0, e = +e || 0, 0 == this.loaded && a.$error(1049);
            var i = h.$pop(this.url);
            (i = null == i ? this.originAudio.cloneNode() : i).autoplay = !0;
            i = new r.HtmlSoundChannel(i);
            return i.$url = this.url, i.$loops = e, i.$startTime = t, i.$play(), a.sys.$pushSoundChannel(i), i
        }, h.prototype.close = function () {
            0 == this.loaded && this.originAudio && (this.originAudio.src = ""), this.originAudio && (this.originAudio = null), h.$clear(this.url)
        }, h.$clear = function (t) {
            h.clearAudios[t] = !0;
            t = h.audios[t];
            t && (t.length = 0)
        }, h.$pop = function (t) {
            t = h.audios[t];
            return t && 0 < t.length ? t.pop() : null
        }, h.$recycle = function (t, e) {
            var i;
            h.clearAudios[t] || (i = h.audios[t], (i = null == h.audios[t] ? h.audios[t] = [] : i).push(e))
        }, h.MUSIC = "music", h.EFFECT = "effect", h.audios = {}, h.clearAudios = {}, t = h, r.HtmlSound = t, __reflect(t.prototype, "egret.web.HtmlSound", ["egret.Sound"])
    }(egret = egret || {}),
    function (i) {
        var r, n, t;

        function e(t) {
            var e = n.call(this) || this;
            return e.$startTime = 0, e.audio = null, e.isStopped = !1, e.canPlay = function () {
                e.audio.removeEventListener("canplay", e.canPlay);
                try {
                    e.audio.currentTime = e.$startTime
                } catch (t) {} finally {
                    e.audio.play()
                }
            }, e.onPlayEnd = function () {
                if (1 == e.$loops) return e.stop(), void e.dispatchEventWith(i.Event.SOUND_COMPLETE);
                0 < e.$loops && e.$loops--, e.$play()
            }, e._volume = 1, t.addEventListener("ended", e.onPlayEnd), e.audio = t, e
        }
        r = i.web || (i.web = {}), n = i.EventDispatcher, __extends(e, n), e.prototype.$play = function () {
            if (this.isStopped) i.$error(1036);
            else {
                try {
                    this.audio.volume = this._volume, this.audio.currentTime = this.$startTime
                } catch (t) {
                    return void this.audio.addEventListener("canplay", this.canPlay)
                }
                this.audio.play()
            }
        }, e.prototype.stop = function () {
            var t, e;
            this.audio && (this.isStopped || i.sys.$popSoundChannel(this), this.isStopped = !0, (t = this.audio).removeEventListener("ended", this.onPlayEnd), t.volume = 0, this._volume = 0, this.audio = null, e = this.$url, window.setTimeout(function () {
                t.pause(), r.HtmlSound.$recycle(e, t)
            }, 200))
        }, Object.defineProperty(e.prototype, "volume", {
            get: function () {
                return this._volume
            },
            set: function (t) {
                this.isStopped ? i.$error(1036) : (this._volume = t, this.audio && (this.audio.volume = t))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "position", {
            get: function () {
                return this.audio ? this.audio.currentTime : 0
            },
            enumerable: !0,
            configurable: !0
        }), t = e, r.HtmlSoundChannel = t, __reflect(t.prototype, "egret.web.HtmlSoundChannel", ["egret.SoundChannel", "egret.IEventDispatcher"])
    }(egret = egret || {}),
    function (s) {
        ! function (r) {
            var o = (i.decodeAudios = function () {
                var e;
                i.decodeArr.length <= 0 || i.isDecoding || (i.isDecoding = !0, e = i.decodeArr.shift(), i.ctx.decodeAudioData(e.buffer, function (t) {
                    e.self.audioBuffer = t, e.success && e.success(), i.isDecoding = !1, i.decodeAudios()
                }, function () {
                    alert("sound decode error: " + e.url + "\nsee http://edn.egret.com/cn/docs/page/156"), e.fail && e.fail(), i.isDecoding = !1, i.decodeAudios()
                }))
            }, i.decodeArr = [], i.isDecoding = !1, i);

            function i() {}
            r.WebAudioDecode = o, __reflect(o.prototype, "egret.web.WebAudioDecode");
            var e, t = (e = s.EventDispatcher, __extends(n, e), Object.defineProperty(n.prototype, "length", {
                get: function () {
                    if (this.audioBuffer) return this.audioBuffer.duration;
                    throw new Error("sound not loaded!")
                },
                enumerable: !0,
                configurable: !0
            }), n.prototype.load = function (t) {
                var e = this;
                (this.url = t) || s.$error(3002);
                var i = new XMLHttpRequest;

                function r() {
                    e.loaded = !0, e.dispatchEventWith(s.Event.COMPLETE)
                }

                function n() {
                    e.dispatchEventWith(s.IOErrorEvent.IO_ERROR)
                }
                i.open("GET", t, !0), i.responseType = "arraybuffer", i.onreadystatechange = function () {
                    4 == i.readyState && (400 <= i.status || 0 == i.status ? e.dispatchEventWith(s.IOErrorEvent.IO_ERROR) : (o.decodeArr.push({
                        buffer: i.response,
                        success: r,
                        fail: n,
                        self: e,
                        url: e.url
                    }), o.decodeAudios()))
                }, i.send()
            }, n.prototype.play = function (t, e) {
                t = +t || 0, e = +e || 0, 0 == this.loaded && s.$error(1049);
                var i = new r.WebAudioSoundChannel;
                return i.$url = this.url, i.$loops = e, i.$audioBuffer = this.audioBuffer, i.$startTime = t, i.$play(), s.sys.$pushSoundChannel(i), i
            }, n.prototype.close = function () {}, n.MUSIC = "music", n.EFFECT = "effect", n);

            function n() {
                var t = e.call(this) || this;
                return t.loaded = !1, t
            }
            r.WebAudioSound = t, __reflect(t.prototype, "egret.web.WebAudioSound", ["egret.Sound"])
        }(s.web || (s.web = {}))
    }(egret = egret || {}),
    function (r) {
        var e, i, t;

        function n() {
            var t = i.call(this) || this;
            return t.$startTime = 0, t.bufferSource = null, t.context = e.WebAudioDecode.ctx, t.isStopped = !1, t._currentTime = 0, t._volume = 1, t.onPlayEnd = function () {
                if (1 == t.$loops) return t.stop(), void t.dispatchEventWith(r.Event.SOUND_COMPLETE);
                0 < t.$loops && t.$loops--, t.$play()
            }, t._startTime = 0, t.context.createGain ? t.gain = t.context.createGain() : t.gain = t.context.createGainNode(), t
        }
        e = r.web || (r.web = {}), i = r.EventDispatcher, __extends(n, i), n.prototype.$play = function () {
            var t, e, i;
            this.isStopped ? r.$error(1036) : (this.bufferSource && (this.bufferSource.onended = null, this.bufferSource = null), t = this.context, e = this.gain, i = t.createBufferSource(), (this.bufferSource = i).buffer = this.$audioBuffer, i.connect(e), e.connect(t.destination), i.onended = this.onPlayEnd, this._startTime = Date.now(), this.gain.gain.value = this._volume, i.start(0, this.$startTime), this._currentTime = 0)
        }, n.prototype.stop = function () {
            var t;
            this.bufferSource && ((t = this.bufferSource).stop ? t.stop(0) : t.noteOff(0), t.onended = null, t.disconnect(), this.bufferSource = null, this.$audioBuffer = null), this.isStopped || r.sys.$popSoundChannel(this), this.isStopped = !0
        }, Object.defineProperty(n.prototype, "volume", {
            get: function () {
                return this._volume
            },
            set: function (t) {
                this.isStopped ? r.$error(1036) : (this._volume = t, this.gain.gain.value = t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "position", {
            get: function () {
                return this.bufferSource ? (Date.now() - this._startTime) / 1e3 + this.$startTime : 0
            },
            enumerable: !0,
            configurable: !0
        }), t = n, e.WebAudioSoundChannel = t, __reflect(t.prototype, "egret.web.WebAudioSoundChannel", ["egret.SoundChannel", "egret.IEventDispatcher"])
    }(egret = egret || {}),
    function (o) {
        var t, r, e;

        function i(t, e) {
            void 0 === e && (e = !0);
            var i = r.call(this) || this;
            return i.loaded = !1, i.closed = !1, i.heightSet = NaN, i.widthSet = NaN, i.waiting = !1, i.userPause = !1, i.userPlay = !1, i.isPlayed = !1, i.screenChanged = function (t) {
                var e = document.fullscreenEnabled || document.webkitIsFullScreen;
                e || (i.checkFullScreen(!1), o.Capabilities.isMobile || (i._fullscreen = e))
            }, i._fullscreen = !0, i.onVideoLoaded = function () {
                i.video.removeEventListener("canplay", i.onVideoLoaded);
                var t = i.video;
                i.loaded = !0, i.posterData && (i.posterData.width = i.getPlayWidth(), i.posterData.height = i.getPlayHeight()), t.width = t.videoWidth, t.height = t.videoHeight, i.$invalidateContentBounds(), window.setTimeout(function () {
                    i.dispatchEventWith(o.Event.COMPLETE)
                }, 200)
            }, i.$renderNode = new o.sys.BitmapNode, i.src = t, i.once(o.Event.ADDED_TO_STAGE, i.loadPoster, i), t && i.load(), i
        }
        t = o.web || (o.web = {}), r = o.DisplayObject, __extends(i, r), i.prototype.load = function (t, e) {
            var i, r, n = this;
            void 0 === e && (e = !0), t = t || this.src, (this.src = t) || o.$error(3002), this.video && this.video.src == t || (!this.video || o.Capabilities.isMobile ? (i = document.createElement("video"), (this.video = i).controls = null) : i = this.video, i.src = t, i.setAttribute("autoplay", "autoplay"), i.setAttribute("webkit-playsinline", "true"), i.addEventListener("canplay", this.onVideoLoaded), i.addEventListener("error", function () {
                return n.onVideoError()
            }), i.addEventListener("ended", function () {
                return n.onVideoEnded()
            }), r = !1, i.addEventListener("canplay", function () {
                n.waiting = !1, r ? n.userPause ? n.pause() : n.userPlay && n.play() : (r = !0, i.pause())
            }), i.addEventListener("waiting", function () {
                n.waiting = !0
            }), i.load(), this.videoPlay(), i.style.position = "absolute", i.style.top = "0px", i.style.zIndex = "-88888", i.style.left = "0px", i.height = 1, i.width = 1)
        }, i.prototype.play = function (e, i) {
            var r = this;
            if (void 0 === i && (i = !1), 0 == this.loaded) return this.load(this.src), void this.once(o.Event.COMPLETE, function (t) {
                return r.play(e, i)
            }, this);
            this.isPlayed = !0;
            var t = this.video;
            null != e && (t.currentTime = +e || 0), t.loop = !!i, o.Capabilities.isMobile ? t.style.zIndex = "-88888" : t.style.zIndex = "9999", t.style.position = "absolute", t.style.top = "0px", t.style.left = "0px", t.height = t.videoHeight, t.width = t.videoWidth, "Windows PC" != o.Capabilities.os && "Mac OS" != o.Capabilities.os && window.setTimeout(function () {
                t.width = 0
            }, 1e3), this.checkFullScreen(this._fullscreen)
        }, i.prototype.videoPlay = function () {
            this.userPause = !1, this.waiting ? this.userPlay = !0 : (this.userPlay = !1, this.video.play())
        }, i.prototype.checkFullScreen = function (t) {
            var e = this.video;
            if (t) null == e.parentElement && (e.removeAttribute("webkit-playsinline"), document.body.appendChild(e)), o.stopTick(this.markDirty, this), this.goFullscreen();
            else if (null != e.parentElement && e.parentElement.removeChild(e), e.setAttribute("webkit-playsinline", "true"), this.setFullScreenMonitor(!1), o.startTick(this.markDirty, this), o.Capabilities.isMobile) return this.video.currentTime = 0, void this.onVideoEnded();
            this.videoPlay()
        }, i.prototype.goFullscreen = function () {
            var t = this.video,
                e = o.web.getPrefixStyleName("requestFullscreen", t);
            return (t[e] || t[e = o.web.getPrefixStyleName("requestFullScreen", t)]) && (t.removeAttribute("webkit-playsinline"), t[e](), this.setFullScreenMonitor(!0)), !0
        }, i.prototype.setFullScreenMonitor = function (t) {
            var e = this.video;
            t ? (e.addEventListener("mozfullscreenchange", this.screenChanged), e.addEventListener("webkitfullscreenchange", this.screenChanged), e.addEventListener("mozfullscreenerror", this.screenError), e.addEventListener("webkitfullscreenerror", this.screenError)) : (e.removeEventListener("mozfullscreenchange", this.screenChanged), e.removeEventListener("webkitfullscreenchange", this.screenChanged), e.removeEventListener("mozfullscreenerror", this.screenError), e.removeEventListener("webkitfullscreenerror", this.screenError))
        }, i.prototype.screenError = function () {
            o.$error(3014)
        }, i.prototype.exitFullscreen = function () {
            document.exitFullscreen ? document.exitFullscreen() : document.msExitFullscreen ? document.msExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.oCancelFullScreen ? document.oCancelFullScreen() : document.webkitExitFullscreen && document.webkitExitFullscreen()
        }, i.prototype.onVideoEnded = function () {
            this.pause(), this.isPlayed = !1, this.$invalidateContentBounds(), this.dispatchEventWith(o.Event.ENDED)
        }, i.prototype.onVideoError = function () {
            this.dispatchEventWith(o.IOErrorEvent.IO_ERROR)
        }, i.prototype.close = function () {
            var t = this;
            this.closed = !0, this.video.removeEventListener("canplay", this.onVideoLoaded), this.video.removeEventListener("error", function () {
                return t.onVideoError()
            }), this.video.removeEventListener("ended", function () {
                return t.onVideoEnded()
            }), this.pause(), 0 == this.loaded && this.video && (this.video.src = ""), this.video && this.video.parentElement && (this.video.parentElement.removeChild(this.video), this.video = null), this.loaded = !1
        }, i.prototype.pause = function () {
            this.userPlay = !1, this.waiting ? this.userPause = !0 : (this.userPause = !1, o.stopTick(this.markDirty, this), this.$invalidate())
        }, Object.defineProperty(i.prototype, "volume", {
            get: function () {
                return this.video ? this.video.volume : 1
            },
            set: function (t) {
                this.video && (this.video.volume = t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "position", {
            get: function () {
                return this.video ? this.video.currentTime : 0
            },
            set: function (t) {
                this.video && (this.video.currentTime = t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "fullscreen", {
            get: function () {
                return this._fullscreen
            },
            set: function (t) {
                o.Capabilities.isMobile || (this._fullscreen = !!t, this.video && 0 == this.video.paused && this.checkFullScreen(this._fullscreen))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "bitmapData", {
            get: function () {
                return this.video && this.loaded ? (this._bitmapData || (this.video.width = this.video.videoWidth, this.video.height = this.video.videoHeight, this._bitmapData = new o.BitmapData(this.video), this._bitmapData.$deleteSource = !1), this._bitmapData) : null
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.loadPoster = function () {
            var e, i = this,
                t = this.poster;
            t && ((e = new o.ImageLoader).once(o.Event.COMPLETE, function (t) {
                e.data;
                i.posterData = e.data, i.posterData.width = i.getPlayWidth(), i.posterData.height = i.getPlayHeight(), i.$invalidateContentBounds()
            }, this), e.load(t))
        }, i.prototype.$measureContentBounds = function (t) {
            var e = this.bitmapData,
                i = this.posterData;
            e || i ? t.setTo(0, 0, this.getPlayWidth(), this.getPlayHeight()) : t.setEmpty()
        }, i.prototype.getPlayWidth = function () {
            return isNaN(this.widthSet) ? this.bitmapData ? this.bitmapData.width : this.posterData ? this.posterData.width : NaN : this.widthSet
        }, i.prototype.getPlayHeight = function () {
            return isNaN(this.heightSet) ? this.bitmapData ? this.bitmapData.height : this.posterData ? this.posterData.height : NaN : this.heightSet
        }, i.prototype.$render = function () {
            var t = this.$renderNode,
                e = this.bitmapData,
                i = this.posterData,
                r = this.getPlayWidth(),
                n = this.getPlayHeight();
            this.isPlayed && !o.Capabilities.isMobile || !i ? this.isPlayed && e && (t.image = e, t.imageWidth = e.width, t.imageHeight = e.height, o.WebGLUtils.deleteWebGLTexture(e.webGLTexture), e.webGLTexture = null, t.drawImage(0, 0, e.width, e.height, 0, 0, r, n)) : (t.image = i, t.imageWidth = r, t.imageHeight = n, t.drawImage(0, 0, i.width, i.height, 0, 0, r, n))
        }, i.prototype.markDirty = function () {
            return this.$invalidate(), !0
        }, i.prototype.$setHeight = function (t) {
            return this.heightSet = +t || 0, this.$invalidate(), this.$invalidateContentBounds(), r.prototype.$setHeight.call(this, t)
        }, i.prototype.$setWidth = function (t) {
            return this.widthSet = +t || 0, this.$invalidate(), this.$invalidateContentBounds(), r.prototype.$setWidth.call(this, t)
        }, Object.defineProperty(i.prototype, "paused", {
            get: function () {
                return !this.video || this.video.paused
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "length", {
            get: function () {
                if (this.video) return this.video.duration;
                throw new Error("Video not loaded!")
            },
            enumerable: !0,
            configurable: !0
        }), e = i, t.WebVideo = e, __reflect(e.prototype, "egret.web.WebVideo", ["egret.Video", "egret.DisplayObject"]), o.Video = e
    }(egret = egret || {}),
    function (n) {
        var t, e, i;

        function r() {
            var t = e.call(this) || this;
            return t._url = "", t._method = "", t
        }
        t = n.web || (n.web = {}), e = n.EventDispatcher, __extends(r, e), Object.defineProperty(r.prototype, "response", {
            get: function () {
                return this._xhr ? null != this._xhr.response ? this._xhr.response : "text" == this._responseType ? this._xhr.responseText : "arraybuffer" == this._responseType && /msie 9.0/i.test(navigator.userAgent) ? window.convertResponseBodyToText(this._xhr.responseBody) : "document" == this._responseType ? this._xhr.responseXML : null : null
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "responseType", {
            get: function () {
                return this._responseType
            },
            set: function (t) {
                this._responseType = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "withCredentials", {
            get: function () {
                return this._withCredentials
            },
            set: function (t) {
                this._withCredentials = t
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.getXHR = function () {
            return window.XMLHttpRequest ? new window.XMLHttpRequest : new ActiveXObject("MSXML2.XMLHTTP")
        }, r.prototype.open = function (t, e) {
            void 0 === e && (e = "GET"), this._url = t, this._method = e, this._xhr && (this._xhr.abort(), this._xhr = null), this._xhr = this.getXHR(), this._xhr.onreadystatechange = this.onReadyStateChange.bind(this), this._xhr.onprogress = this.updateProgress.bind(this), this._xhr.open(this._method, this._url, !0)
        }, r.prototype.send = function (t) {
            if (null != this._responseType && (this._xhr.responseType = this._responseType), null != this._withCredentials && (this._xhr.withCredentials = this._withCredentials), this.headerObj)
                for (var e in this.headerObj) this._xhr.setRequestHeader(e, this.headerObj[e]);
            this._xhr.send(t)
        }, r.prototype.abort = function () {
            this._xhr && this._xhr.abort()
        }, r.prototype.getAllResponseHeaders = function () {
            if (!this._xhr) return null;
            var t = this._xhr.getAllResponseHeaders();
            return t || ""
        }, r.prototype.setRequestHeader = function (t, e) {
            this.headerObj || (this.headerObj = {}), this.headerObj[t] = e
        }, r.prototype.getResponseHeader = function (t) {
            if (!this._xhr) return null;
            t = this._xhr.getResponseHeader(t);
            return t || ""
        }, r.prototype.onReadyStateChange = function () {
            var t, e, i, r = this._xhr;
            4 == r.readyState && (t = 400 <= r.status || 0 == r.status, e = this._url, i = this, window.setTimeout(function () {
                t ? (i.hasEventListener(n.IOErrorEvent.IO_ERROR) || n.$error(1011, e), i.dispatchEventWith(n.IOErrorEvent.IO_ERROR)) : i.dispatchEventWith(n.Event.COMPLETE)
            }, 0))
        }, r.prototype.updateProgress = function (t) {
            t.lengthComputable && n.ProgressEvent.dispatchProgressEvent(this, n.ProgressEvent.PROGRESS, t.loaded, t.total)
        }, i = r, t.WebHttpRequest = i, __reflect(i.prototype, "egret.web.WebHttpRequest", ["egret.HttpRequest"]), n.HttpRequest = i
    }(egret = egret || {}),
    function (i) {
        var r, e, n, t;

        function o() {
            var t = null !== e && e.apply(this, arguments) || this;
            return t.data = null, t._crossOrigin = null, t._hasCrossOriginSet = !1, t.currentImage = null, t.request = null, t
        }
        r = i.web || (i.web = {}), n = window.URL || window.webkitURL, e = i.EventDispatcher, __extends(o, e), Object.defineProperty(o.prototype, "crossOrigin", {
            get: function () {
                return this._crossOrigin
            },
            set: function (t) {
                this._hasCrossOriginSet = !0, this._crossOrigin = t
            },
            enumerable: !0,
            configurable: !0
        }), o.prototype.load = function (t) {
            var e;
            r.Html5Capatibility._canUseBlob && 0 != t.indexOf("wxLocalResource:") && 0 != t.indexOf("data:") && 0 != t.indexOf("http:") && 0 != t.indexOf("https:") ? ((e = this.request) || ((e = this.request = new i.web.WebHttpRequest).addEventListener(i.Event.COMPLETE, this.onBlobLoaded, this), e.addEventListener(i.IOErrorEvent.IO_ERROR, this.onBlobError, this), e.responseType = "blob"), this.currentURL = t, e.open(t), e.send()) : this.loadImage(t)
        }, o.prototype.onBlobLoaded = function (t) {
            var e = this.request.response;
            this.request = void 0, this.loadImage(n.createObjectURL(e))
        }, o.prototype.onBlobError = function (t) {
            this.dispatchIOError(this.currentURL), this.request = void 0
        }, o.prototype.loadImage = function (t) {
            var e = new Image;
            this.data = null, this.currentImage = e, this._hasCrossOriginSet ? this._crossOrigin && (e.crossOrigin = this._crossOrigin) : o.crossOrigin && (e.crossOrigin = o.crossOrigin), e.onload = this.onImageComplete.bind(this), e.onerror = this.onLoadError.bind(this), e.src = t
        }, o.prototype.onImageComplete = function (t) {
            var e, t = this.getImage(t);
            t && (this.data = new i.BitmapData(t), e = this, window.setTimeout(function () {
                e.dispatchEventWith(i.Event.COMPLETE)
            }, 0))
        }, o.prototype.onLoadError = function (t) {
            t = this.getImage(t);
            t && this.dispatchIOError(t.src)
        }, o.prototype.dispatchIOError = function (t) {
            var e = this;
            window.setTimeout(function () {
                e.hasEventListener(i.IOErrorEvent.IO_ERROR) || i.$error(1011, t), e.dispatchEventWith(i.IOErrorEvent.IO_ERROR)
            }, 0)
        }, o.prototype.getImage = function (t) {
            t = t.target;
            if (0 == t.src.indexOf("blob:")) try {
                n.revokeObjectURL(t.src)
            } catch (t) {
                i.$warn(1037)
            }
            return t.onerror = null, t.onload = null, this.currentImage !== t ? null : (this.currentImage = null, t)
        }, o.crossOrigin = null, t = o, r.WebImageLoader = t, __reflect(t.prototype, "egret.web.WebImageLoader", ["egret.ImageLoader"]), i.ImageLoader = t
    }(egret = egret || {}),
    function (h) {
        var i, e, t;

        function r() {
            var t = e.call(this) || this;
            return t._isNeedShow = !1, t.inputElement = null, t.inputDiv = null, t._gscaleX = 0, t._gscaleY = 0, t.textValue = "", t.colorValue = 16777215, t._styleInfoes = {}, t
        }
        i = h.web || (h.web = {}), e = h.EventDispatcher, __extends(r, e), r.prototype.$setTextField = function (t) {
            return this.$textfield = t, !0
        }, r.prototype.$addToStage = function () {
            this.htmlInput = h.web.$getTextAdapter(this.$textfield)
        }, r.prototype._initElement = function () {
            var t = this.$textfield.localToGlobal(0, 0),
                e = t.x,
                i = t.y,
                r = this.htmlInput.$scaleX,
                t = this.htmlInput.$scaleY;
            this.inputDiv.style.left = e * r + "px", this.inputDiv.style.top = i * t + "px", this.$textfield.multiline && this.$textfield.height > this.$textfield.size ? (this.inputDiv.style.top = i * t + "px", this.inputElement.style.top = -this.$textfield.lineSpacing / 2 * t + "px") : (this.inputDiv.style.top = i * t + "px", this.inputElement.style.top = "0px");
            for (var n = this.$textfield, o = 1, s = 1, a = 0; n.parent;) o *= n.scaleX, s *= n.scaleY, a += n.rotation, n = n.parent;
            i = h.web.getPrefixStyleName("transform");
            this.inputDiv.style[i] = "rotate(" + a + "deg)", this._gscaleX = r * o, this._gscaleY = t * s
        }, r.prototype.$show = function () {
            this.htmlInput.isCurrentStageText(this) ? this.inputElement.onblur = null : (this.inputElement = this.htmlInput.getInputElement(this), this.$textfield.multiline ? this.inputElement.type = "text" : this.inputElement.type = this.$textfield.inputType, this.inputDiv = this.htmlInput._inputDIV), this.htmlInput._needShow = !0, this._isNeedShow = !0, this._initElement()
        }, r.prototype.onBlurHandler = function () {
            this.htmlInput.clearInputElement(), window.scrollTo(0, 0)
        }, r.prototype.executeShow = function () {
            this.inputElement.value = this.$getText(), null == this.inputElement.onblur && (this.inputElement.onblur = this.onBlurHandler.bind(this)), this.$resetStageText(), 0 < this.$textfield.maxChars ? this.inputElement.setAttribute("maxlength", this.$textfield.maxChars) : this.inputElement.removeAttribute("maxlength"), this.inputElement.selectionStart = this.inputElement.value.length, this.inputElement.selectionEnd = this.inputElement.value.length, this.inputElement.focus()
        }, r.prototype.$hide = function () {
            this.htmlInput && this.htmlInput.disconnectStageText(this)
        }, r.prototype.$getText = function () {
            return this.textValue || (this.textValue = ""), this.textValue
        }, r.prototype.$setText = function (t) {
            return this.textValue = t, this.resetText(), !0
        }, r.prototype.resetText = function () {
            this.inputElement && (this.inputElement.value = this.textValue)
        }, r.prototype.$setColor = function (t) {
            return this.colorValue = t, this.resetColor(), !0
        }, r.prototype.resetColor = function () {
            this.inputElement && this.setElementStyle("color", h.toColorString(this.colorValue))
        }, r.prototype.$onBlur = function () {
            i.Html5Capatibility._System_OS == i.SystemOSType.WPHONE && h.Event.dispatchEvent(this, "updateText", !1)
        }, r.prototype._onInput = function () {
            var t, e = this;
            i.Html5Capatibility._System_OS == i.SystemOSType.WPHONE ? null == (t = this.$textfield.$TextField)[35] && null == t[36] ? (e.textValue = e.inputElement.value, h.Event.dispatchEvent(e, "updateText", !1)) : window.setTimeout(function () {
                e.inputElement && e.inputElement.selectionStart && e.inputElement.selectionEnd && e.inputElement.selectionStart == e.inputElement.selectionEnd && (e.textValue = e.inputElement.value, h.Event.dispatchEvent(e, "updateText", !1))
            }, 0) : window.setTimeout(function () {
                e.inputElement && e.inputElement.selectionStart == e.inputElement.selectionEnd && (e.textValue = e.inputElement.value, h.Event.dispatchEvent(e, "updateText", !1))
            }, 0)
        }, r.prototype.setAreaHeight = function () {
            var t, e, i = this.$textfield;
            i.multiline && (e = h.TextFieldUtils.$getTextHeight(i), i.height <= i.size ? (this.setElementStyle("height", i.size * this._gscaleY + "px"), this.setElementStyle("padding", "0px"), this.setElementStyle("lineHeight", i.size * this._gscaleY + "px")) : (i.height < e ? (this.setElementStyle("height", i.height * this._gscaleY + "px"), this.setElementStyle("padding", "0px")) : (this.setElementStyle("height", (e + i.lineSpacing) * this._gscaleY + "px"), e = (t = (i.height - e) * this._gscaleY) * h.TextFieldUtils.$getValign(i), this.setElementStyle("padding", e + "px 0px " + (t - e) + "px 0px")), this.setElementStyle("lineHeight", (i.size + i.lineSpacing) * this._gscaleY + "px")))
        }, r.prototype._onClickHandler = function (t) {
            this._isNeedShow && (t.stopImmediatePropagation(), this._isNeedShow = !1, this.executeShow(), this.dispatchEvent(new h.Event("focus")))
        }, r.prototype._onDisconnect = function () {
            this.inputElement = null, this.dispatchEvent(new h.Event("blur"))
        }, r.prototype.setElementStyle = function (t, e) {
            this.inputElement && this._styleInfoes[t] != e && (this.inputElement.style[t] = e)
        }, r.prototype.$removeFromStage = function () {
            this.inputElement && this.htmlInput.disconnectStageText(this)
        }, r.prototype.$resetStageText = function () {
            var t, e, i, r;
            this.inputElement && (t = this.$textfield, this.setElementStyle("fontFamily", t.fontFamily), this.setElementStyle("fontStyle", t.italic ? "italic" : "normal"), this.setElementStyle("fontWeight", t.bold ? "bold" : "normal"), this.setElementStyle("textAlign", t.textAlign), this.setElementStyle("fontSize", t.size * this._gscaleY + "px"), this.setElementStyle("color", h.toColorString(t.textColor)), r = void 0, r = t.stage ? (r = t.localToGlobal(0, 0).x, Math.min(t.width, t.stage.stageWidth - r)) : t.width, this.setElementStyle("width", r * this._gscaleX + "px"), this.setElementStyle("verticalAlign", t.verticalAlign), t.multiline ? this.setAreaHeight() : (this.setElementStyle("lineHeight", t.size * this._gscaleY + "px"), t.height < t.size ? (this.setElementStyle("height", t.size * this._gscaleY + "px"), i = t.size / 2 * this._gscaleY, this.setElementStyle("padding", "0px 0px " + i + "px 0px")) : (this.setElementStyle("height", t.size * this._gscaleY + "px"), (i = (e = (t.height - t.size) * this._gscaleY) - (e = e * h.TextFieldUtils.$getValign(t))) < t.size / 2 * this._gscaleY && (i = t.size / 2 * this._gscaleY), this.setElementStyle("padding", e + "px 0px " + i + "px 0px"))), this.inputDiv.style.clip = "rect(0px " + t.width * this._gscaleX + "px " + t.height * this._gscaleY + "px 0px)", this.inputDiv.style.height = t.height * this._gscaleY + "px", this.inputDiv.style.width = r * this._gscaleX + "px")
        }, t = r, i.HTML5StageText = t, __reflect(t.prototype, "egret.web.HTML5StageText", ["egret.StageText"]), h.StageText = t
    }(egret = egret || {}),
    function (n) {
        var t, e;

        function i() {
            this._needShow = !1, this.$scaleX = 1, this.$scaleY = 1
        }
        t = n.web || (n.web = {}), i.prototype.isInputOn = function () {
            return null != this._stageText
        }, i.prototype.isCurrentStageText = function (t) {
            return this._stageText == t
        }, i.prototype.initValue = function (t) {
            t.style.position = "absolute", t.style.left = "0px", t.style.top = "0px", t.style.border = "none", t.style.padding = "0"
        }, i.prototype.$updateSize = function () {
            var t;
            this.canvas && (this.$scaleX = n.sys.DisplayList.$canvasScaleX, this.$scaleY = n.sys.DisplayList.$canvasScaleY, this.StageDelegateDiv.style.left = this.canvas.style.left, this.StageDelegateDiv.style.top = this.canvas.style.top, t = n.web.getPrefixStyleName("transform"), this.StageDelegateDiv.style[t] = this.canvas.style[t], this.StageDelegateDiv.style[n.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px")
        }, i.prototype._initStageDelegateDiv = function (t, e) {
            this.canvas = e;
            var i, r = this;
            i || (i = document.createElement("div"), (this.StageDelegateDiv = i).id = "StageDelegateDiv", t.appendChild(i), r.initValue(i), r._inputDIV = document.createElement("div"), r.initValue(r._inputDIV), r._inputDIV.style.width = "0px", r._inputDIV.style.height = "0px", r._inputDIV.style.left = "0px", r._inputDIV.style.top = "-100px", r._inputDIV.style[n.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px", i.appendChild(r._inputDIV), this.canvas.addEventListener("click", function (t) {
                r._needShow ? (r._needShow = !1, r._stageText._onClickHandler(t), r.show()) : r._inputElement && (r.clearInputElement(), r._inputElement.blur(), r._inputElement = null)
            }), r.initInputElement(!0), r.initInputElement(!1))
        }, i.prototype.initInputElement = function (t) {
            var e, i = this;
            t ? ((e = document.createElement("textarea")).style.resize = "none", (i._multiElement = e).id = "egretTextarea") : (e = document.createElement("input"), (i._simpleElement = e).id = "egretInput"), e.type = "text", i._inputDIV.appendChild(e), e.setAttribute("tabindex", "-1"), e.style.width = "1px", e.style.height = "12px", i.initValue(e), e.style.outline = "thin", e.style.background = "none", e.style.overflow = "hidden", e.style.wordBreak = "break-all", e.style.opacity = 0, e.oninput = function () {
                i._stageText && i._stageText._onInput()
            }
        }, i.prototype.show = function () {
            var t = this._inputElement;
            n.$callAsync(function () {
                t.style.opacity = 1
            }, this)
        }, i.prototype.disconnectStageText = function (t) {
            null != this._stageText && this._stageText != t || (this.clearInputElement(), this._inputElement && this._inputElement.blur())
        }, i.prototype.clearInputElement = function () {
            var t = this;
            t._inputElement && (t._inputElement.value = "", t._inputElement.onblur = null, t._inputElement.style.width = "1px", t._inputElement.style.height = "12px", t._inputElement.style.left = "0px", t._inputElement.style.top = "0px", t._inputElement.style.opacity = 0, (t._simpleElement == t._inputElement ? t._multiElement : t._simpleElement).style.display = "block", t._inputDIV.style.left = "0px", t._inputDIV.style.top = "-100px", t._inputDIV.style.height = "0px", t._inputDIV.style.width = "0px"), t._stageText && (t._stageText._onDisconnect(), t._stageText = null, this.canvas.userTyping = !1)
        }, i.prototype.getInputElement = function (t) {
            var e = this;
            return e.clearInputElement(), e._stageText = t, this.canvas.userTyping = !0, e._stageText.$textfield.multiline ? e._inputElement = e._multiElement : e._inputElement = e._simpleElement, (e._simpleElement == e._inputElement ? e._multiElement : e._simpleElement).style.display = "none", e._inputElement
        }, e = i, t.HTMLInput = e, __reflect(e.prototype, "egret.web.HTMLInput")
    }(egret = egret || {}),
    function (t) {
        var n, o, s;
        t = t.web || (t.web = {}), n = {}, o = {}, s = {}, t.$getTextAdapter = function (t) {
            var e = t.stage ? t.stage.$hashCode : 0,
                i = n[e],
                r = o[e],
                t = s[e];
            return r && t && (delete o[e], delete s[e]), i
        }, t.$cacheTextAdapter = function (t, e, i, r) {
            t._initStageDelegateDiv(i, r), n[e.$hashCode] = t, o[e.$hashCode] = r, s[e.$hashCode] = i
        }
    }(egret = egret || {}),
    function (s) {
        var a;
        s.web || (s.web = {});
        a = null, s.sys.measureText = function (t, e, i, r, n) {
            a || ((a = s.sys.canvasHitTestBuffer.context).textAlign = "left", a.textBaseline = "middle");
            var o = "";
            return n && (o += "italic "), r && (o += "bold "), o += (i || 12) + "px ", a.font = o += e || "Arial", a.measureText(t).width
        }
    }(egret = egret || {}),
    function (l) {
        var t, a, e;

        function h(t, e) {
            var i = document.createElement("canvas");
            isNaN(t) || isNaN(e) || (i.width = t, i.height = e);
            var r = i.getContext("2d");
            if (void 0 === r.imageSmoothingEnabled) {
                for (var n, o = ["webkitImageSmoothingEnabled", "mozImageSmoothingEnabled", "msImageSmoothingEnabled"], s = o.length - 1; 0 <= s && void 0 === r[n = o[s]]; s--);
                try {
                    Object.defineProperty(r, "imageSmoothingEnabled", {
                        get: function () {
                            return this[n]
                        },
                        set: function (t) {
                            this[n] = t
                        }
                    })
                } catch (t) {
                    r.imageSmoothingEnabled = r[n]
                }
            }
            return i
        }

        function i(t, e, i) {
            this.surface = h(t, e), this.context = this.surface.getContext("2d")
        }
        t = l.web || (l.web = {}), Object.defineProperty(i.prototype, "width", {
            get: function () {
                return this.surface.width
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "height", {
            get: function () {
                return this.surface.height
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.resize = function (t, e, i) {
            var r = this.surface;
            i ? (i = !1, r.width < t && (r.width = t, i = !0), r.height < e && (r.height = e, i = !0), i || (this.context.globalCompositeOperation = "source-over", this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.globalAlpha = 1)) : (r.width != t && (r.width = t), r.height != e && (r.height = e)), this.clear()
        }, i.prototype.resizeTo = function (t, e, i, r) {
            a = a || h();
            this.context;
            var n = this.surface,
                o = a,
                s = o.getContext("2d");
            a = n, this.context = s, (this.surface = o).width = Math.max(t, 257), o.height = Math.max(e, 257), s.setTransform(1, 0, 0, 1, 0, 0), s.drawImage(n, i, r), n.height = 1, n.width = 1
        }, i.prototype.setDirtyRegionPolicy = function (t) {}, i.prototype.beginClip = function (t, e, i) {
            e = +e || 0, i = +i || 0;
            var r = l.sys.DisplayList.$canvasScaleX,
                n = l.sys.DisplayList.$canvasScaleY,
                o = this.context;
            o.save(), o.beginPath(), o.setTransform(r, 0, 0, n, e * r, i * n);
            for (var s = t.length, a = 0; a < s; a++) {
                var h = t[a];
                o.clearRect(h.minX, h.minY, h.width, h.height), o.rect(h.minX, h.minY, h.width, h.height)
            }
            o.clip()
        }, i.prototype.endClip = function () {
            this.context.restore()
        }, i.prototype.getPixels = function (t, e, i, r) {
            return this.context.getImageData(t, e, i = void 0 === i ? 1 : i, r = void 0 === r ? 1 : r).data
        }, i.prototype.toDataURL = function (t, e) {
            return this.surface.toDataURL(t, e)
        }, i.prototype.clear = function () {
            this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.surface.width, this.surface.height)
        }, i.prototype.destroy = function () {
            this.surface.width = this.surface.height = 0
        }, e = i, t.CanvasRenderBuffer = e, __reflect(e.prototype, "egret.web.CanvasRenderBuffer", ["egret.sys.RenderBuffer"])
    }(egret = egret || {}),
    function (o) {
        var t, r, e;

        function i(t, e) {
            var i = r.call(this) || this;
            return i.onTouchBegin = function (t) {
                var e = i.getLocation(t);
                i.touch.onTouchBegin(e.x, e.y, t.identifier)
            }, i.onTouchMove = function (t) {
                var e = i.getLocation(t);
                i.touch.onTouchMove(e.x, e.y, t.identifier)
            }, i.onTouchEnd = function (t) {
                var e = i.getLocation(t);
                i.touch.onTouchEnd(e.x, e.y, t.identifier)
            }, i.scaleX = 1, i.scaleY = 1, i.rotation = 0, i.canvas = e, i.touch = new o.sys.TouchHandler(t), i.addListeners(), i
        }
        t = o.web || (o.web = {}), r = o.HashObject, __extends(i, r), i.prototype.addListeners = function () {
            var e = this;
            window.navigator.msPointerEnabled ? (this.canvas.addEventListener("MSPointerDown", function (t) {
                t.identifier = t.pointerId, e.onTouchBegin(t), e.prevent(t)
            }, !1), this.canvas.addEventListener("MSPointerMove", function (t) {
                t.identifier = t.pointerId, e.onTouchMove(t), e.prevent(t)
            }, !1), this.canvas.addEventListener("MSPointerUp", function (t) {
                t.identifier = t.pointerId, e.onTouchEnd(t), e.prevent(t)
            }, !1)) : (o.Capabilities.$isMobile || this.addMouseListener(), this.addTouchListener())
        }, i.prototype.addMouseListener = function () {
            this.canvas.addEventListener("mousedown", this.onTouchBegin), this.canvas.addEventListener("mousemove", this.onTouchMove), this.canvas.addEventListener("mouseup", this.onTouchEnd)
        }, i.prototype.addTouchListener = function () {
            var r = this;
            this.canvas.addEventListener("touchstart", function (t) {
                for (var e = t.changedTouches.length, i = 0; i < e; i++) r.onTouchBegin(t.changedTouches[i]);
                r.prevent(t)
            }, !1), this.canvas.addEventListener("touchmove", function (t) {
                for (var e = t.changedTouches.length, i = 0; i < e; i++) r.onTouchMove(t.changedTouches[i]);
                r.prevent(t)
            }, !1), this.canvas.addEventListener("touchend", function (t) {
                for (var e = t.changedTouches.length, i = 0; i < e; i++) r.onTouchEnd(t.changedTouches[i]);
                r.prevent(t)
            }, !1), this.canvas.addEventListener("touchcancel", function (t) {
                for (var e = t.changedTouches.length, i = 0; i < e; i++) r.onTouchEnd(t.changedTouches[i]);
                r.prevent(t)
            }, !1)
        }, i.prototype.prevent = function (t) {
            t.stopPropagation(), 1 == t.isScroll || this.canvas.userTyping || t.preventDefault()
        }, i.prototype.getLocation = function (t) {
            t.identifier = +t.identifier || 0;
            var e = document.documentElement,
                i = this.canvas.getBoundingClientRect(),
                r = i.left + window.pageXOffset - e.clientLeft,
                n = i.top + window.pageYOffset - e.clientTop,
                e = t.pageX - r,
                r = e,
                t = t.pageY - n,
                n = t;
            return 90 == this.rotation ? (r = t, n = i.width - e) : -90 == this.rotation && (r = i.height - t, n = e), r /= this.scaleX, n /= this.scaleY, o.$TempPoint.setTo(Math.round(r), Math.round(n))
        }, i.prototype.updateScaleMode = function (t, e, i) {
            this.scaleX = t, this.scaleY = e, this.rotation = i
        }, i.prototype.$updateMaxTouches = function () {
            this.touch.$initMaxTouches()
        }, e = i, t.WebTouchHandler = e, __reflect(e.prototype, "egret.web.WebTouchHandler")
    }(egret = egret || {}),
    function (t) {
        (t.web || (t.web = {})).WebLifeCycleHandler = function (e) {
            var t;
            window.addEventListener("focus", e.resume, !1), window.addEventListener("blur", e.pause, !1), void 0 !== document.hidden ? (t = "hidden", n = "visibilitychange") : void 0 !== document.mozHidden ? (t = "mozHidden", n = "mozvisibilitychange") : void 0 !== document.msHidden ? (t = "msHidden", n = "msvisibilitychange") : void 0 !== document.webkitHidden ? (t = "webkitHidden", n = "webkitvisibilitychange") : void 0 !== document.oHidden && (t = "oHidden", n = "ovisibilitychange"), "onpageshow" in window && "onpagehide" in window && (window.addEventListener("pageshow", e.resume, !1), window.addEventListener("pagehide", e.pause, !1)), t && n && document.addEventListener(n, function () {
                document[t] ? e.pause() : e.resume()
            }, !1);
            var i = navigator.userAgent,
                r = /micromessenger/gi.test(i),
                n = /mqq/gi.test(i);
            (n = /mobile.*qq/gi.test(i) || r ? !1 : n) && ((n = window.browser || {}).execWebFn = n.execWebFn || {}, n.execWebFn.postX5GamePlayerMessage = function (t) {
                t = t.type;
                "app_enter_background" == t ? e.pause() : "app_enter_foreground" == t && e.resume()
            }, window.browser = n)
        }
    }(egret = egret || {}),
    function (u) {
        ! function (n) {
            var o = (t.WEB_AUDIO = 2, t.HTML5_AUDIO = 3, t);

            function t() {}
            n.AudioType = o, __reflect(o.prototype, "egret.web.AudioType");
            var s = (e.WPHONE = 1, e.IOS = 2, e.ADNROID = 3, e);

            function e() {}
            n.SystemOSType = s, __reflect(s.prototype, "egret.web.SystemOSType");
            var i, r = (i = u.HashObject, __extends(a, i), a.$init = function () {
                var t = navigator.userAgent.toLowerCase();
                a.ua = t, u.Capabilities.$isMobile = -1 != t.indexOf("mobile") || -1 != t.indexOf("android"), a._canUseBlob = !1;
                var e = window.AudioContext || window.webkitAudioContext || window.mozAudioContext;
                if (e) try {
                    n.WebAudioDecode.ctx = new(window.AudioContext || window.webkitAudioContext || window.mozAudioContext)
                } catch (t) {
                    e = !1
                }
                var i, r = a._audioType;
                r == o.WEB_AUDIO && e || r == o.HTML5_AUDIO ? (i = !1, a.setAudioType(r)) : (i = !0, a.setAudioType(o.HTML5_AUDIO)), 0 <= t.indexOf("windows phone") ? (a._System_OS = s.WPHONE, u.Capabilities.$os = "Windows Phone") : 0 <= t.indexOf("android") ? (u.Capabilities.$os = "Android", a._System_OS = s.ADNROID, i && e && a.setAudioType(o.WEB_AUDIO)) : 0 <= t.indexOf("iphone") || 0 <= t.indexOf("ipad") || 0 <= t.indexOf("ipod") ? (u.Capabilities.$os = "iOS", a._System_OS = s.IOS, 7 <= a.getIOSVersion() && (a._canUseBlob = !0, i && e && a.setAudioType(o.WEB_AUDIO))) : -1 != t.indexOf("windows nt") ? u.Capabilities.$os = "Windows PC" : -1 != t.indexOf("mac os") && (u.Capabilities.$os = "Mac OS"), window.URL || window.webkitURL || (a._canUseBlob = !1), 0 <= t.indexOf("egretnative") && (a.setAudioType(o.HTML5_AUDIO), a._canUseBlob = !0), u.Sound = a._AudioClass
            }, a.setAudioType = function (t) {
                switch (a._audioType = t) {
                    case o.WEB_AUDIO:
                        a._AudioClass = u.web.WebAudioSound;
                        break;
                    case o.HTML5_AUDIO:
                        a._AudioClass = u.web.HtmlSound
                }
            }, a.getIOSVersion = function () {
                var t = a.ua.toLowerCase().match(/cpu [^\d]*\d.*like mac os x/)[0];
                return parseInt(t.match(/\d+(_\d)*/)[0]) || 0
            }, a.checkHtml5Support = function () {
                var t = (navigator.language || navigator.browserLanguage).toLowerCase().split("-");
                1 < t.length && (t[1] = t[1].toUpperCase()), u.Capabilities.$language = t.join("-")
            }, a._canUseBlob = !1, a._audioType = 0, a._System_OS = 0, a.ua = "", a);

            function a() {
                return i.call(this) || this
            }
            n.Html5Capatibility = r, __reflect(r.prototype, "egret.web.Html5Capatibility");
            var h = null;

            function l(t, e) {
                if (t in e) return "";
                t = t.charAt(0).toUpperCase() + t.substring(1, t.length);
                for (var i = ["webkit", "ms", "Moz", "O"], r = 0; r < i.length; r++)
                    if (i[r] + t in e) return i[r];
                return ""
            }
            n.getPrefixStyleName = function (t, e) {
                var i = "";
                return "" == (i = null != e ? l(t, e) : (null == h && (e = document.createElement("div").style, h = l("transform", e)), h)) ? t : i + t.charAt(0).toUpperCase() + t.substring(1, t.length)
            }, n.getPrefix = l
        }(u.web || (u.web = {}))
    }(egret = egret || {}),
    function (f) {
        ! function (h) {
            var l, u = {
                setAutoClear: function (t) {
                    h.WebGLRenderBuffer.autoClear = t
                },
                save: function () {},
                restore: function () {
                    var t = h.WebGLRenderContext.getInstance(0, 0),
                        e = t.context;
                    e.bindBuffer(e.ARRAY_BUFFER, t.vertexBuffer), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, t.indexBuffer), e.activeTexture(e.TEXTURE0), t.currentProgram = null, t.bindIndices = !1;
                    var i = t.$bufferStack[1];
                    t.activateBuffer(i), e.enable(e.BLEND), t.setBlendMode("source-over")
                }
            };
            var c = !(f.setRendererContext = function (t) {
                t.onStart(u), l = t
            });
            window.isNaN = function (t) {
                return (t = +t) != t
            }, f.runEgret = function (t) {
                if (!c) {
                    var e, i;
                    c = !0, h.Html5Capatibility._audioType = (t = t || {}).audioType, h.Html5Capatibility.$init(), "webgl" == t.renderMode && (e = t.antialias, h.WebGLRenderContext.antialias = !!e), f.sys.CanvasRenderBuffer = h.CanvasRenderBuffer, "webgl" == t.renderMode && f.WebGLUtils.checkCanUseWebGL() ? (f.sys.RenderBuffer = h.WebGLRenderBuffer, f.sys.systemRenderer = new h.WebGLRenderer, f.sys.canvasRenderer = new f.CanvasRenderer, f.sys.customHitTestBuffer = new h.WebGLRenderBuffer(3, 3), f.sys.canvasHitTestBuffer = new h.CanvasRenderBuffer(3, 3), f.Capabilities.$renderMode = "webgl") : (f.sys.RenderBuffer = h.CanvasRenderBuffer, f.sys.systemRenderer = new f.CanvasRenderer, f.sys.canvasRenderer = f.sys.systemRenderer, f.sys.customHitTestBuffer = new h.CanvasRenderBuffer(3, 3), f.sys.canvasHitTestBuffer = f.sys.customHitTestBuffer, f.Capabilities.$renderMode = "canvas"), i = t.canvasScaleFactor || (t.calculateCanvasScaleFactor ? t.calculateCanvasScaleFactor(f.sys.canvasHitTestBuffer.context) : (i = (i = f.sys.canvasHitTestBuffer.context).backingStorePixelRatio || i.webkitBackingStorePixelRatio || i.mozBackingStorePixelRatio || i.msBackingStorePixelRatio || i.oBackingStorePixelRatio || i.backingStorePixelRatio || 1, (window.devicePixelRatio || 1) / i)), f.sys.DisplayList.$canvasScaleFactor = i,
                        function (e) {
                            var i = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;
                            i = i || function (t) {
                                return window.setTimeout(t, 1e3 / 60)
                            };
                            i(function t() {
                                l && l.onRender(u), e.update(), i(t)
                            })
                        }(f.ticker), t.screenAdapter ? f.sys.screenAdapter = t.screenAdapter : f.sys.screenAdapter || (f.sys.screenAdapter = new f.sys.DefaultScreenAdapter);
                    for (var r = document.querySelectorAll(".egret-player"), n = r.length, o = 0; o < n; o++) {
                        var s = r[o],
                            a = new h.WebPlayer(s, t);
                        s["egret-player"] = a, "webgl" == f.Capabilities.$renderMode && (a.stage.dirtyRegionPolicy = f.DirtyRegionPolicy.OFF)
                    }
                    "webgl" == f.Capabilities.$renderMode && (f.sys.DisplayList.prototype.setDirtyRegionPolicy = function () {}), window.addEventListener("resize", function () {
                        isNaN(p) && (p = window.setTimeout(d, 300))
                    })
                }
            }, f.updateAllScreens = function () {
                if (c)
                    for (var t = document.querySelectorAll(".egret-player"), e = t.length, i = 0; i < e; i++) t[i]["egret-player"].updateScreenSize()
            };
            var p = NaN;

            function d() {
                p = NaN, f.updateAllScreens(), l && l.onResize(u)
            }
        }(f.web || (f.web = {}))
    }(egret = egret || {});
var language = navigator.language || navigator.browserLanguage || "en_US",
    language = language.replace("-", "_"),
    egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret;
language in egret.$locale_strings && (egret.$language = language),
    function (i) {
        var t, e;

        function r() {}
        t = i.web || (i.web = {}), r.detect = function () {
            var t = i.Capabilities,
                e = navigator.userAgent.toLowerCase();
            t.$isMobile = -1 != e.indexOf("mobile") || -1 != e.indexOf("android"), t.$isMobile ? e.indexOf("windows") < 0 && (-1 != e.indexOf("iphone") || -1 != e.indexOf("ipad") || -1 != e.indexOf("ipod")) ? t.$os = "iOS" : -1 != e.indexOf("android") && -1 != e.indexOf("linux") ? t.$os = "Android" : -1 != e.indexOf("windows") && (t.$os = "Windows Phone") : -1 != e.indexOf("windows nt") ? t.$os = "Windows PC" : -1 != e.indexOf("mac os") && (t.$os = "Mac OS");
            e = (navigator.language || navigator.browserLanguage).toLowerCase().split("-");
            1 < e.length && (e[1] = e[1].toUpperCase()), t.$language = e.join("-"), r.injectUIntFixOnIE9()
        }, r.injectUIntFixOnIE9 = function () {
            /msie 9.0/i.test(navigator.userAgent) && !/opera/i.test(navigator.userAgent) && document.write("\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\n<script type='text/vbscript' language='VBScript'>\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = \"\"\r\n   End If\r\nEnd Function\r\n<\/script>\r\n\x3c!-- convertResponseBodyToText --\x3e\r\n<script>\r\nlet convertResponseBodyToText = function (binary) {\r\n   let byteMapping = {};\r\n   for ( let i = 0; i < 256; i++ ) {\r\n       for ( let j = 0; j < 256; j++ ) {\r\n           byteMapping[ String.fromCharCode( i + j * 256 ) ] =\r\n           String.fromCharCode(i) + String.fromCharCode(j);\r\n       }\r\n   }\r\n   let rawBytes = IEBinaryToArray_ByteStr(binary);\r\n   let lastChr = IEBinaryToArray_ByteStr_Last(binary);\r\n   return rawBytes.replace(/[\\s\\S]/g,                           function( match ) { return byteMapping[match]; }) + lastChr;\r\n};\r\n<\/script>\r\n")
        }, e = r, t.WebCapability = e, __reflect(e.prototype, "egret.web.WebCapability"), e.detect()
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {}
        e = t.web || (t.web = {}), r.call = function (t, e) {}, r.addCallback = function (t, e) {}, i = r, e.WebExternalInterface = i, __reflect(i.prototype, "egret.web.WebExternalInterface", ["egret.ExternalInterface"]), navigator.userAgent.toLowerCase().indexOf("egretnative") < 0 && (t.ExternalInterface = i)
    }(egret = egret || {}),
    function (r) {
        var t, n, e;

        function i() {}
        t = r.web || (r.web = {}), n = {}, i.call = function (t, e) {
            var i = {};
            i.functionName = t, i.value = e, egret_native.sendInfoToPlugin(JSON.stringify(i))
        }, i.addCallback = function (t, e) {
            n[t] = e
        }, e = i, t.NativeExternalInterface = e, __reflect(e.prototype, "egret.web.NativeExternalInterface", ["egret.ExternalInterface"]), 0 <= navigator.userAgent.toLowerCase().indexOf("egretnative") && (r.ExternalInterface = e, egret_native.receivedPluginInfo = function (t) {
            var e = JSON.parse(t),
                i = e.functionName;
            (t = n[i]) ? (e = e.value, t.call(null, e)) : r.$warn(1050, i)
        })
    }(egret = egret || {}),
    function (r) {
        var t, n, e;

        function i() {}
        t = r.web || (r.web = {}), n = {}, i.call = function (t, e) {
            __global.ExternalInterface.call(t, e)
        }, i.addCallback = function (t, e) {
            n[t] = e
        }, i.invokeCallback = function (t, e) {
            var i = n[t];
            i ? i.call(null, e) : r.$warn(1050, t)
        }, e = i, t.WebViewExternalInterface = e, __reflect(e.prototype, "egret.web.WebViewExternalInterface", ["egret.ExternalInterface"]), 0 <= navigator.userAgent.toLowerCase().indexOf("egretwebview") && (r.ExternalInterface = e)
    }(egret = egret || {}),
    function (t) {
        function e(t) {
            if (window.location) {
                var e = location.search;
                if ("" == e) return "";
                for (var i = (e = e.slice(1)).split("&"), r = i.length, n = 0; n < r; n++) {
                    var o = i[n].split("=");
                    if (o[0] == t) return o[1]
                }
            }
            return ""
        }(t.web || (t.web = {})).getOption = e, t.getOption = e
    }(egret = egret || {}),
    function (c) {
        var a, r, t;

        function e(t, e) {
            var i = r.call(this) || this;
            return i.init(t, e), i.initOrientation(), i
        }
        a = c.web || (c.web = {}), r = c.HashObject, __extends(e, r), e.prototype.init = function (t, e) {
            var i = this.readOption(t, e),
                r = new c.Stage;
            r.$screen = this, r.$scaleMode = i.scaleMode, r.$orientation = i.orientation, r.$maxTouches = i.maxTouches, r.frameRate = i.frameRate, r.textureScaleFactor = i.textureScaleFactor;
            var n = new c.sys.RenderBuffer(void 0, void 0, !0),
                o = n.surface;
            this.attachCanvas(t, o);
            var s = new a.WebTouchHandler(r, o),
                e = new c.sys.Player(n, r, i.entryClassName);
            c.lifecycle.stage = r, c.lifecycle.addLifecycleListener(a.WebLifeCycleHandler);
            n = new a.HTMLInput;
            e.showPaintRect(i.showPaintRect), (i.showFPS || i.showLog) && e.displayFPS(i.showFPS, i.showLog, i.logFilter, i.fpsStyles), this.playerOption = i, this.container = t, this.canvas = o, this.stage = r, this.player = e, this.webTouchHandler = s, this.webInput = n, c.web.$cacheTextAdapter(n, r, t, o), this.updateScreenSize(), this.updateMaxTouches(), e.start()
        }, e.prototype.initOrientation = function () {
            var t = this;
            window.addEventListener("orientationchange", function () {
                window.setTimeout(function () {
                    c.StageOrientationEvent.dispatchStageOrientationEvent(t.stage, c.StageOrientationEvent.ORIENTATION_CHANGE)
                }, 350)
            })
        }, e.prototype.readOption = function (t, e) {
            var i = {};
            i.entryClassName = t.getAttribute("data-entry-class"), i.scaleMode = t.getAttribute("data-scale-mode") || c.StageScaleMode.NO_SCALE, i.frameRate = +t.getAttribute("data-frame-rate") || 30, i.contentWidth = +t.getAttribute("data-content-width") || 480, i.contentHeight = +t.getAttribute("data-content-height") || 800, i.orientation = t.getAttribute("data-orientation") || c.OrientationMode.AUTO, i.maxTouches = +t.getAttribute("data-multi-fingered") || 2, i.textureScaleFactor = +t.getAttribute("texture-scale-factor") || 1, "webgl" == e.renderMode ? i.showPaintRect = !1 : i.showPaintRect = "true" == t.getAttribute("data-show-paint-rect"), i.showFPS = "true" == t.getAttribute("data-show-fps");
            for (var r = (t.getAttribute("data-show-fps-style") || "").split(","), n = {}, o = 0; o < r.length; o++) {
                var s = r[o].split(":");
                n[s[0]] = s[1]
            }
            return i.fpsStyles = n, i.showLog = "true" == t.getAttribute("data-show-log"), i.logFilter = t.getAttribute("data-log-filter"), i
        }, e.prototype.attachCanvas = function (t, e) {
            var i = e.style;
            i.cursor = "inherit", i.position = "absolute", i.top = "0", i.bottom = "0", i.left = "0", i.right = "0", t.appendChild(e), (i = t.style).overflow = "hidden", i.position = "absolute"
        }, e.prototype.updateScreenSize = function () {
            var t, e, i, r, n, o, s, a, h, l, u = this.canvas;
            u.userTyping || (l = this.playerOption, s = (i = this.container.getBoundingClientRect()).width, a = i.height, i.top < (o = 0) && (a += i.top, o = -i.top), t = !1, r = (t = (e = this.stage.$orientation) != c.OrientationMode.AUTO ? e != c.OrientationMode.PORTRAIT && s < a || e == c.OrientationMode.PORTRAIT && a < s : t) ? a : s, h = t ? s : a, c.Capabilities.$boundingClientWidth = r, c.Capabilities.$boundingClientHeight = h, i = (n = c.sys.screenAdapter.calculateStageSize(this.stage.$scaleMode, r, h, l.contentWidth, l.contentHeight)).stageWidth, r = n.stageHeight, h = n.displayWidth, l = n.displayHeight, u.style[c.web.getPrefixStyleName("transformOrigin")] = "0% 0% 0px", u.width != i && (u.width = i), u.height != r && (u.height = r), n = 0, t ? e == c.OrientationMode.LANDSCAPE ? (n = 90, u.style.top = o + (a - h) / 2 + "px", u.style.left = (s + l) / 2 + "px") : (n = -90, u.style.top = o + (a + h) / 2 + "px", u.style.left = (s - l) / 2 + "px") : (u.style.top = o + (a - l) / 2 + "px", u.style.left = (s - h) / 2 + "px"), a = (o = h / i) * c.sys.DisplayList.$canvasScaleFactor, h = (s = l / r) * c.sys.DisplayList.$canvasScaleFactor, "canvas" == c.Capabilities.$renderMode && (a = Math.ceil(a), h = Math.ceil(h)), (l = new c.Matrix).scale(o / a, s / h), l.rotate(n * Math.PI / 180), l = "matrix(" + l.a + "," + l.b + "," + l.c + "," + l.d + "," + l.tx + "," + l.ty + ")", u.style[c.web.getPrefixStyleName("transform")] = l, c.sys.DisplayList.$setCanvasScale(a, h), this.webTouchHandler.updateScaleMode(o, s, n), this.webInput.$updateSize(), this.player.updateStageSize(i, r))
        }, e.prototype.setContentSize = function (t, e) {
            var i = this.playerOption;
            i.contentWidth = t, i.contentHeight = e, this.updateScreenSize()
        }, e.prototype.updateMaxTouches = function () {
            this.webTouchHandler.$updateMaxTouches()
        }, t = e, a.WebPlayer = t, __reflect(t.prototype, "egret.web.WebPlayer", ["egret.sys.Screen"])
    }(egret = egret || {}),
    function (p) {
        var d, f;

        function n(t, e) {
            d || (d = document.createElement("canvas"), f = d.getContext("2d"));
            var i = t.$getTextureWidth(),
                r = t.$getTextureHeight();
            null == e && ((e = p.$TempRectangle).x = 0, e.y = 0, e.width = i, e.height = r), e.x = Math.min(e.x, i - 1), e.y = Math.min(e.y, r - 1), e.width = Math.min(e.width, i - e.x), e.height = Math.min(e.height, r - e.y);
            var n = e.width,
                o = e.height,
                s = d;
            if (s.style.width = n + "px", s.style.height = o + "px", d.width = n, d.height = o, "webgl" == p.Capabilities.$renderMode) {
                var a = void 0;
                t.$renderBuffer ? a = t : (a = new p.RenderTexture).drawToTexture(new p.Bitmap(t));
                for (var h = a.$renderBuffer.getPixels(e.x, e.y, n, o), l = new ImageData(n, o), u = 0; u < h.length; u++) l.data[u] = h[u];
                return f.putImageData(l, 0, 0), t.$renderBuffer || a.dispose(), s
            }
            var c = t,
                n = Math.round(c._offsetX),
                o = Math.round(c._offsetY),
                a = c._bitmapWidth,
                t = c._bitmapHeight;
            return f.drawImage(c._bitmapData.source, c._bitmapX + e.x / p.$TextureScaleFactor, c._bitmapY + e.y / p.$TextureScaleFactor, a * e.width / i, t * e.height / r, n, o, e.width, e.height), s
        }

        function o(t, e, i) {
            try {
                return n(this, e).toDataURL(t, i)
            } catch (t) {
                p.$error(1033)
            }
            return null
        }
        p.web || (p.web = {}), p.Texture.prototype.toDataURL = o, p.Texture.prototype.saveToFile = function (t, e, i, r) {
            null != (i = o.call(this, t, i, r)) && (r = i.replace(/^data:image[^;]*/, "data:image/octet-stream"), (i = document.createElement("a")).download = e, i.href = r, (r = document.createEvent("MouseEvents")).initMouseEvent("click", !0, !1, window, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), i.dispatchEvent(r))
        }, p.Texture.prototype.getPixel32 = function (t, e) {
            return p.$warn(1041, "getPixel32", "getPixels"), this.getPixels(t, e)
        }, p.Texture.prototype.getPixels = function (t, e, i, r) {
            void 0 === i && (i = 1), void 0 === r && (r = 1);
            try {
                n(this);
                return f.getImageData(t, e, i, r).data
            } catch (t) {
                p.$error(1039)
            }
        }
    }(egret = egret || {}),
    function (a) {
        ! function (t) {
            function e(t, e) {
                this.nodeType = t, this.parent = e
            }
            t.XMLNode = e, __reflect(e.prototype, "egret.web.XMLNode");
            var o, g = (__extends(i, o = e), i);

            function i(t, e, i, r, n) {
                e = o.call(this, 1, e) || this;
                return e.attributes = {}, e.children = [], e.localName = t, e.prefix = i, e.namespace = r, e.name = n, e
            }
            t.XML = g, __reflect(g.prototype, "egret.web.XML");
            var r, y = (__extends(n, r = e), n);

            function n(t, e) {
                e = r.call(this, 3, e) || this;
                return e.text = t, e
            }
            t.XMLText = y, __reflect(y.prototype, "egret.web.XMLText");
            var s = new DOMParser;
            a.XML = {
                parse: function (t) {
                    for (var e = s.parseFromString(t, "text/xml"), i = e.childNodes.length, r = 0; r < i; r++) {
                        var n = e.childNodes[r];
                        if (1 == n.nodeType) return function t(e, i) {
                            if ("parsererror" == e.localName) throw new Error(e.textContent);
                            var r = new g(e.localName, i, e.prefix, e.namespaceURI, e.nodeName);
                            var n = e.attributes;
                            var o = r.attributes;
                            var s = n.length;
                            for (var a = 0; a < s; a++) {
                                var h = n[a],
                                    l = h.name;
                                0 != l.indexOf("xmlns:") && (o[l] = h.value, r["$" + l] = h.value)
                            }
                            var u = e.childNodes;
                            s = u.length;
                            var c = r.children;
                            for (a = 0; a < s; a++) {
                                var p = u[a],
                                    d = p.nodeType,
                                    f = null;
                                1 == d ? f = t(p, r) : 3 != d || (p = p.textContent.trim()) && (f = new y(p, r)), f && c.push(f)
                            }
                            return r
                        }(n, null)
                    }
                    return null
                }
            }
        }(a.web || (a.web = {}))
    }(egret = egret || {}),
    function (r) {
        var t, e, i;

        function n() {
            var i = null !== e && e.apply(this, arguments) || this;
            return i.onChange = function (t) {
                var e = new r.OrientationEvent(r.Event.CHANGE);
                e.beta = t.beta, e.gamma = t.gamma, e.alpha = t.alpha, i.dispatchEvent(e)
            }, i
        }
        t = r.web || (r.web = {}), e = r.EventDispatcher, __extends(n, e), n.prototype.start = function () {
            window.addEventListener("deviceorientation", this.onChange)
        }, n.prototype.stop = function () {
            window.removeEventListener("deviceorientation", this.onChange)
        }, i = n, t.WebDeviceOrientation = i, __reflect(i.prototype, "egret.web.WebDeviceOrientation", ["egret.DeviceOrientation"])
    }(egret = egret || {}), egret.DeviceOrientation = egret.web.WebDeviceOrientation,
    function (n) {
        var t, e, i;

        function r(t) {
            var r = e.call(this) || this;
            return r.onUpdate = function (t) {
                var e = new n.GeolocationEvent(n.Event.CHANGE),
                    t = t.coords;
                e.altitude = t.altitude, e.heading = t.heading, e.accuracy = t.accuracy, e.latitude = t.latitude, e.longitude = t.longitude, e.speed = t.speed, e.altitudeAccuracy = t.altitudeAccuracy, r.dispatchEvent(e)
            }, r.onError = function (t) {
                var e = n.GeolocationEvent.UNAVAILABLE;
                t.code == t.PERMISSION_DENIED && (e = n.GeolocationEvent.PERMISSION_DENIED);
                var i = new n.GeolocationEvent(n.IOErrorEvent.IO_ERROR);
                i.errorType = e, i.errorMessage = t.message, r.dispatchEvent(i)
            }, r.geolocation = navigator.geolocation, r
        }
        t = n.web || (n.web = {}), e = n.EventDispatcher, __extends(r, e), r.prototype.start = function () {
            var t = this.geolocation;
            t ? this.watchId = t.watchPosition(this.onUpdate, this.onError) : this.onError({
                code: 2,
                message: n.sys.tr(3004),
                PERMISSION_DENIED: 1,
                POSITION_UNAVAILABLE: 2
            })
        }, r.prototype.stop = function () {
            this.geolocation.clearWatch(this.watchId)
        }, i = r, t.WebGeolocation = i, __reflect(i.prototype, "egret.web.WebGeolocation", ["egret.Geolocation"]), n.Geolocation = n.web.WebGeolocation
    }(egret = egret || {}),
    function (o) {
        var t, e, i;

        function r() {
            var n = null !== e && e.apply(this, arguments) || this;
            return n.onChange = function (t) {
                var e = new o.MotionEvent(o.Event.CHANGE),
                    i = {
                        x: t.acceleration.x,
                        y: t.acceleration.y,
                        z: t.acceleration.z
                    },
                    r = {
                        x: t.accelerationIncludingGravity.x,
                        y: t.accelerationIncludingGravity.y,
                        z: t.accelerationIncludingGravity.z
                    },
                    t = {
                        alpha: t.rotationRate.alpha,
                        beta: t.rotationRate.beta,
                        gamma: t.rotationRate.gamma
                    };
                e.acceleration = i, e.accelerationIncludingGravity = r, e.rotationRate = t, n.dispatchEvent(e)
            }, n
        }
        t = o.web || (o.web = {}), e = o.EventDispatcher, __extends(r, e), r.prototype.start = function () {
            window.addEventListener("devicemotion", this.onChange)
        }, r.prototype.stop = function () {
            window.removeEventListener("devicemotion", this.onChange)
        }, i = r, t.WebMotion = i, __reflect(i.prototype, "egret.web.WebMotion", ["egret.Motion"]), o.Motion = o.web.WebMotion
    }(egret = egret || {}),
    function (e) {
        var i;
        e.web || (e.web = {});
        Object.defineProperty(e.Logger, "logLevel", {
            set: function (t) {
                switch (null == i && (i = {
                    error: console.error,
                    debug: console.debug,
                    warn: console.warn,
                    info: console.info,
                    log: console.log
                }), t) {
                    case e.Logger.OFF:
                        console.error = function () {};
                    case e.Logger.ERROR:
                        console.warn = function () {};
                    case e.Logger.WARN:
                        console.info = function () {}, console.log = function () {};
                    case e.Logger.INFO:
                        console.debug = function () {}
                }
                switch (t) {
                    case e.Logger.ALL:
                    case e.Logger.DEBUG:
                        console.debug = i.debug;
                    case e.Logger.INFO:
                        console.log = i.log, console.info = i.info;
                    case e.Logger.WARN:
                        console.warn = i.warn;
                    case e.Logger.ERROR:
                        console.error = i.error
                }
            },
            enumerable: !0,
            configurable: !0
        })
    }(egret = egret || {}),
    function (t) {
        var e;

        function i() {
            this.drawData = [], this.drawDataLen = 0
        }
        e = t.web || (t.web = {}), i.prototype.pushDrawRect = function () {
            var t;
            0 != this.drawDataLen && 1 == this.drawData[this.drawDataLen - 1].type || ((t = this.drawData[this.drawDataLen] || {}).type = 1, t.count = 0, this.drawData[this.drawDataLen] = t, this.drawDataLen++), this.drawData[this.drawDataLen - 1].count += 2
        }, i.prototype.pushDrawTexture = function (t, e, i, r, n) {
            var o;
            void 0 === e && (e = 2), i ? ((o = this.drawData[this.drawDataLen] || {}).type = 0, o.texture = t, o.filter = i, o.count = e, o.textureWidth = r, o.textureHeight = n, this.drawData[this.drawDataLen] = o, this.drawDataLen++) : (0 != this.drawDataLen && 0 == this.drawData[this.drawDataLen - 1].type && t == this.drawData[this.drawDataLen - 1].texture && !this.drawData[this.drawDataLen - 1].filter || ((o = this.drawData[this.drawDataLen] || {}).type = 0, o.texture = t, o.count = 0, this.drawData[this.drawDataLen] = o, this.drawDataLen++), this.drawData[this.drawDataLen - 1].count += e)
        }, i.prototype.pushChangeSmoothing = function (t, e) {
            t.smoothing = e;
            var i = this.drawData[this.drawDataLen] || {};
            i.type = 10, i.texture = t, i.smoothing = e, this.drawData[this.drawDataLen] = i, this.drawDataLen++
        }, i.prototype.pushPushMask = function (t) {
            void 0 === t && (t = 1);
            var e = this.drawData[this.drawDataLen] || {};
            e.type = 2, e.count = 2 * t, this.drawData[this.drawDataLen] = e, this.drawDataLen++
        }, i.prototype.pushPopMask = function (t) {
            void 0 === t && (t = 1);
            var e = this.drawData[this.drawDataLen] || {};
            e.type = 3, e.count = 2 * t, this.drawData[this.drawDataLen] = e, this.drawDataLen++
        }, i.prototype.pushSetBlend = function (t) {
            for (var e = !1, i = this.drawDataLen - 1; 0 <= i; i--) {
                var r = this.drawData[i];
                if (r)
                    if ((e = 0 == r.type || 1 == r.type ? !0 : e) || 4 != r.type) {
                        if (4 == r.type) {
                            if (r.value == t) return;
                            break
                        }
                    } else this.drawData.splice(i, 1), this.drawDataLen--
            }
            var n = this.drawData[this.drawDataLen] || {};
            n.type = 4, n.value = t, this.drawData[this.drawDataLen] = n, this.drawDataLen++
        }, i.prototype.pushResize = function (t, e, i) {
            var r = this.drawData[this.drawDataLen] || {};
            r.type = 5, r.buffer = t, r.width = e, r.height = i, this.drawData[this.drawDataLen] = r, this.drawDataLen++
        }, i.prototype.pushClearColor = function () {
            var t = this.drawData[this.drawDataLen] || {};
            t.type = 6, this.drawData[this.drawDataLen] = t, this.drawDataLen++
        }, i.prototype.pushActivateBuffer = function (t) {
            for (var e = !1, i = this.drawDataLen - 1; 0 <= i; i--) {
                var r = this.drawData[i];
                r && ((e = 4 != r.type && 7 != r.type ? !0 : e) || 7 != r.type || (this.drawData.splice(i, 1), this.drawDataLen--))
            }
            var n = this.drawData[this.drawDataLen] || {};
            n.type = 7, n.buffer = t, n.width = t.rootRenderTarget.width, n.height = t.rootRenderTarget.height, this.drawData[this.drawDataLen] = n, this.drawDataLen++
        }, i.prototype.pushEnableScissor = function (t, e, i, r) {
            var n = this.drawData[this.drawDataLen] || {};
            n.type = 8, n.x = t, n.y = e, n.width = i, n.height = r, this.drawData[this.drawDataLen] = n, this.drawDataLen++
        }, i.prototype.pushDisableScissor = function () {
            var t = this.drawData[this.drawDataLen] || {};
            t.type = 9, this.drawData[this.drawDataLen] = t, this.drawDataLen++
        }, i.prototype.clear = function () {
            for (var t = 0; t < this.drawDataLen; t++) {
                var e = this.drawData[t];
                e.type = 0, e.count = 0, e.texture = null, e.filter = null, e.uv = null, e.value = "", e.buffer = null, e.width = 0, e.height = 0
            }
            this.drawDataLen = 0
        }, t = i, e.WebGLDrawCmdManager = t, __reflect(t.prototype, "egret.web.WebGLDrawCmdManager")
    }(egret = egret || {}),
    function (t) {
        var e;

        function i() {
            this.size = 2e3, this.vertexMaxSize = 4 * this.size, this.indicesMaxSize = 6 * this.size, this.vertSize = 5, this.vertices = null, this.indices = null, this.indicesForMesh = null, this.vertexIndex = 0, this.indexIndex = 0, this.hasMesh = !1;
            var t = this.vertexMaxSize * this.vertSize,
                e = this.indicesMaxSize;
            this.vertices = new Float32Array(t), this.indices = new Uint16Array(e), this.indicesForMesh = new Uint16Array(e);
            for (var i = 0, r = 0; i < e; i += 6, r += 4) this.indices[i + 0] = r + 0, this.indices[i + 1] = r + 1, this.indices[i + 2] = r + 2, this.indices[i + 3] = r + 0, this.indices[i + 4] = r + 2, this.indices[i + 5] = r + 3
        }
        e = t.web || (t.web = {}), i.prototype.reachMaxSize = function (t, e) {
            return void 0 === e && (e = 6), this.vertexIndex > this.vertexMaxSize - (t = void 0 === t ? 4 : t) || this.indexIndex > this.indicesMaxSize - e
        }, i.prototype.getVertices = function () {
            return this.vertices.subarray(0, this.vertexIndex * this.vertSize)
        }, i.prototype.getIndices = function () {
            return this.indices
        }, i.prototype.getMeshIndices = function () {
            return this.indicesForMesh
        }, i.prototype.changeToMeshIndices = function () {
            if (!this.hasMesh) {
                for (var t = 0, e = this.indexIndex; t < e; ++t) this.indicesForMesh[t] = this.indices[t];
                this.hasMesh = !0
            }
        }, i.prototype.isMesh = function () {
            return this.hasMesh
        }, i.prototype.cacheArrays = function (t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g) {
            var y = t,
                v = y.a,
                m = y.b,
                _ = y.c,
                b = y.d,
                $ = y.tx,
                t = y.ty;
            d || (0 == s && 0 == a || y.append(1, 0, 0, 1, s, a), n / h == 1 && o / l == 1 || y.append(h / n, 0, 0, l / o, 0, 0));
            var x = y.a,
                T = y.b,
                E = y.c,
                C = y.d,
                S = y.tx,
                w = y.ty;
            if (y.a = v, y.b = m, y.c = _, y.d = b, y.tx = $, y.ty = t, d) {
                for (var P, L, R, O, I, D = this.vertices, A = this.vertexIndex * this.vertSize, N = 0, N = 0, B = p.length; N < B; N += 2) O = d[N], I = d[N + 1], L = p[N], R = p[N + 1], D[(P = A + 5 * N / 2) + 0] = x * O + E * I + S, D[P + 1] = T * O + C * I + w, g ? (D[P + 2] = (i + (1 - R) * o) / u, D[P + 3] = (r + L * n) / c) : (D[P + 2] = (i + L * n) / u, D[P + 3] = (r + R * o) / c), D[P + 4] = e;
                if (this.hasMesh)
                    for (var M = 0, F = f.length; M < F; ++M) this.indicesForMesh[this.indexIndex + M] = f[M] + this.vertexIndex;
                this.vertexIndex += p.length / 2, this.indexIndex += f.length
            } else {
                _ = u, b = c, $ = n, y = o;
                i /= _, r /= b;
                D = this.vertices, A = this.vertexIndex * this.vertSize;
                g ? (t = n, n = o / _, o = t / b, D[A++] = S, D[A++] = w, D[A++] = n + i, D[A++] = r, D[A++] = e, D[A++] = x * $ + S, D[A++] = T * $ + w, D[A++] = n + i, D[A++] = o + r, D[A++] = e, D[A++] = x * $ + E * y + S, D[A++] = C * y + T * $ + w, D[A++] = i, D[A++] = o + r, D[A++] = e, D[A++] = E * y + S, D[A++] = C * y + w, D[A++] = i, D[A++] = r) : (n /= _, o /= b, D[A++] = S, D[A++] = w, D[A++] = i, D[A++] = r, D[A++] = e, D[A++] = x * $ + S, D[A++] = T * $ + w, D[A++] = n + i, D[A++] = r, D[A++] = e, D[A++] = x * $ + E * y + S, D[A++] = C * y + T * $ + w, D[A++] = n + i, D[A++] = o + r, D[A++] = e, D[A++] = E * y + S, D[A++] = C * y + w, D[A++] = i, D[A++] = o + r), D[A++] = e, this.hasMesh && ((y = this.indicesForMesh)[this.indexIndex + 0] = 0 + this.vertexIndex, y[this.indexIndex + 1] = 1 + this.vertexIndex, y[this.indexIndex + 2] = 2 + this.vertexIndex, y[this.indexIndex + 3] = 0 + this.vertexIndex, y[this.indexIndex + 4] = 2 + this.vertexIndex, y[this.indexIndex + 5] = 3 + this.vertexIndex), this.vertexIndex += 4, this.indexIndex += 6
            }
        }, i.prototype.clear = function () {
            this.hasMesh = !1, this.vertexIndex = 0, this.indexIndex = 0
        }, t = i, e.WebGLVertexArrayObject = t, __reflect(t.prototype, "egret.web.WebGLVertexArrayObject")
    }(egret = egret || {}),
    function (t) {
        var e, n;

        function i(t, e, i) {
            var r = n.call(this) || this;
            return r.clearColor = [0, 0, 0, 0], r.useFrameBuffer = !0, r.gl = t, r.width = e || 1, r.height = i || 1, r
        }
        e = t.web || (t.web = {}), n = t.HashObject, __extends(i, n), i.prototype.resize = function (t, e) {
            var i = this.gl;
            this.width = t, this.height = e, this.frameBuffer && (i.bindTexture(i.TEXTURE_2D, this.texture), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, t, e, 0, i.RGBA, i.UNSIGNED_BYTE, null)), this.stencilBuffer && (i.deleteRenderbuffer(this.stencilBuffer), this.stencilBuffer = null)
        }, i.prototype.activate = function () {
            var t = this.gl;
            t.bindFramebuffer(t.FRAMEBUFFER, this.getFrameBuffer())
        }, i.prototype.getFrameBuffer = function () {
            return this.useFrameBuffer ? this.frameBuffer : null
        }, i.prototype.initFrameBuffer = function () {
            var t;
            this.frameBuffer || (t = this.gl, this.texture = this.createTexture(), this.frameBuffer = t.createFramebuffer(), t.bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), t.framebufferTexture2D(t.FRAMEBUFFER, t.COLOR_ATTACHMENT0, t.TEXTURE_2D, this.texture, 0))
        }, i.prototype.createTexture = function () {
            var t = this.gl,
                e = t.createTexture();
            return t.bindTexture(t.TEXTURE_2D, e), t.texImage2D(t.TEXTURE_2D, 0, t.RGBA, this.width, this.height, 0, t.RGBA, t.UNSIGNED_BYTE, null), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MAG_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.LINEAR), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE), e
        }, i.prototype.clear = function (t) {
            var e = this.gl;
            t && this.activate(), e.colorMask(!0, !0, !0, !0), e.clearColor(this.clearColor[0], this.clearColor[1], this.clearColor[2], this.clearColor[3]), e.clear(e.COLOR_BUFFER_BIT)
        }, i.prototype.enabledStencil = function () {
            var t;
            this.frameBuffer && !this.stencilBuffer && ((t = this.gl).bindFramebuffer(t.FRAMEBUFFER, this.frameBuffer), this.stencilBuffer = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencilBuffer), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencilBuffer))
        }, t = i, e.WebGLRenderTarget = t, __reflect(t.prototype, "egret.web.WebGLRenderTarget")
    }(egret = egret || {}),
    function (n) {
        var l, t;

        function o(t, e) {
            var i;
            this.glID = null, this.projectionX = NaN, this.projectionY = NaN, this.contextLost = !1, this.$scissorState = !1, this.vertSize = 5, this.surface = (i = t, t = e, e = document.createElement("canvas"), isNaN(i) || isNaN(t) || (e.width = i, e.height = t), e), this.initWebGL(), this.$bufferStack = [];
            e = this.context;
            this.vertexBuffer = e.createBuffer(), this.indexBuffer = e.createBuffer(), e.bindBuffer(e.ARRAY_BUFFER, this.vertexBuffer), e.bindBuffer(e.ELEMENT_ARRAY_BUFFER, this.indexBuffer), this.drawCmdManager = new l.WebGLDrawCmdManager, this.vao = new l.WebGLVertexArrayObject, this.setGlobalCompositeOperation("source-over")
        }
        l = n.web || (n.web = {}), o.getInstance = function (t, e) {
            return this.instance || (this.instance = new o(t, e), this.instance)
        }, o.prototype.pushBuffer = function (t) {
            this.$bufferStack.push(t), t != this.currentBuffer && (this.currentBuffer, this.drawCmdManager.pushActivateBuffer(t)), this.currentBuffer = t
        }, o.prototype.popBuffer = function () {
            var t;
            this.$bufferStack.length <= 1 || (this.$bufferStack.pop() != (t = this.$bufferStack[this.$bufferStack.length - 1]) && this.drawCmdManager.pushActivateBuffer(t), this.currentBuffer = t)
        }, o.prototype.activateBuffer = function (t) {
            t.rootRenderTarget.activate(), this.bindIndices || this.uploadIndicesArray(this.vao.getIndices()), t.restoreStencil(), t.restoreScissor(), this.onResize(t.width, t.height)
        }, o.prototype.uploadVerticesArray = function (t) {
            var e = this.context;
            e.bufferData(e.ARRAY_BUFFER, t, e.STREAM_DRAW)
        }, o.prototype.uploadIndicesArray = function (t) {
            var e = this.context;
            e.bufferData(e.ELEMENT_ARRAY_BUFFER, t, e.STATIC_DRAW), this.bindIndices = !0
        }, o.prototype.destroy = function () {
            this.surface.width = this.surface.height = 0
        }, o.prototype.onResize = function (t, e) {
            t = t || this.surface.width, e = e || this.surface.height, this.projectionX = t / 2, this.projectionY = -e / 2, this.context && this.context.viewport(0, 0, t, e)
        }, o.prototype.resize = function (t, e, i) {
            var r = this.surface;
            i ? (r.width < t && (r.width = t), r.height < e && (r.height = e)) : (r.width != t && (r.width = t), r.height != e && (r.height = e)), this.onResize()
        }, o.prototype.initWebGL = function () {
            this.onResize(), this.surface.addEventListener("webglcontextlost", this.handleContextLost.bind(this), !1), this.surface.addEventListener("webglcontextrestored", this.handleContextRestored.bind(this), !1), this.getWebGLContext();
            var t = this.context;
            this.$maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE)
        }, o.prototype.handleContextLost = function () {
            this.contextLost = !0
        }, o.prototype.handleContextRestored = function () {
            this.initWebGL(), this.contextLost = !1
        }, o.prototype.getWebGLContext = function () {
            for (var t, e = {
                    antialias: o.antialias,
                    stencil: !0
                }, i = ["webgl", "experimental-webgl"], r = 0; r < i.length; r++) {
                try {
                    t = this.surface.getContext(i[r], e)
                } catch (t) {}
                if (t) break
            }
            t || n.$error(1021), this.setContext(t)
        }, o.prototype.setContext = function (t) {
            (this.context = t).id = o.glContextId++, this.glID = t.id, t.disable(t.DEPTH_TEST), t.disable(t.CULL_FACE), t.enable(t.BLEND), t.colorMask(!0, !0, !0, !0), t.activeTexture(t.TEXTURE0)
        }, o.prototype.enableStencilTest = function () {
            var t = this.context;
            t.enable(t.STENCIL_TEST)
        }, o.prototype.disableStencilTest = function () {
            var t = this.context;
            t.disable(t.STENCIL_TEST)
        }, o.prototype.enableScissorTest = function (t) {
            var e = this.context;
            e.enable(e.SCISSOR_TEST), e.scissor(t.x, t.y, t.width, t.height)
        }, o.prototype.disableScissorTest = function () {
            var t = this.context;
            t.disable(t.SCISSOR_TEST)
        }, o.prototype.getPixels = function (t, e, i, r, n) {
            var o = this.context;
            o.readPixels(t, e, i, r, o.RGBA, o.UNSIGNED_BYTE, n)
        }, o.prototype.createTexture = function (t) {
            var e = this.context,
                i = e.createTexture();
            if (i) return (i.glContext = e).bindTexture(e.TEXTURE_2D, i), e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, 1), e.texImage2D(e.TEXTURE_2D, 0, e.RGBA, e.RGBA, e.UNSIGNED_BYTE, t), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, e.LINEAR), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_S, e.CLAMP_TO_EDGE), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_WRAP_T, e.CLAMP_TO_EDGE), i;
            this.contextLost = !0
        }, o.prototype.createTextureFromCompressedData = function (t, e, i, r, n) {
            return null
        }, o.prototype.updateTexture = function (t, e) {
            var i = this.context;
            i.bindTexture(i.TEXTURE_2D, t), i.texImage2D(i.TEXTURE_2D, 0, i.RGBA, i.RGBA, i.UNSIGNED_BYTE, e)
        }, o.prototype.getWebGLTexture = function (t) {
            return t.webGLTexture || ("image" == t.format ? t.webGLTexture = this.createTexture(t.source) : "pvr" == t.format && (t.webGLTexture = this.createTextureFromCompressedData(t.source.pvrtcData, t.width, t.height, t.source.mipmapsCount, t.source.format)), t.$deleteSource && t.webGLTexture && (t.source = null), t.webGLTexture.smoothing = !0), t.webGLTexture
        }, o.prototype.clearRect = function (t, e, i, r) {
            var n, o;
            0 != t || 0 != e || i != this.surface.width || r != this.surface.height ? !(n = this.currentBuffer).$hasScissor && 0 == (o = n.globalMatrix).b && 0 == o.c ? (t = t * o.a + o.tx, e = e * o.d + o.ty, i *= o.a, r *= o.d, this.enableScissor(t, -e - r + n.height, i, r), this.clear(), this.disableScissor()) : (this.setGlobalCompositeOperation("destination-out"), this.drawRect(t, e, i, r), this.setGlobalCompositeOperation("source-over")) : this.clear()
        }, o.prototype.setGlobalCompositeOperation = function (t) {
            this.drawCmdManager.pushSetBlend(t)
        }, o.prototype.drawImage = function (t, e, i, r, n, o, s, a, h, l, u, c, p) {
            var d, f = this.currentBuffer;
            if (!this.contextLost && t && f) {
                if (t.texture || t.source && t.source.texture) d = t.texture || t.source.texture, f.saveTransform(), f.transform(1, 0, 0, -1, 0, h + 2 * s);
                else {
                    if (!t.source && !t.webGLTexture) return;
                    d = this.getWebGLTexture(t)
                }
                d && (this.drawTexture(d, e, i, r, n, o, s, a, h, l, u, void 0, void 0, void 0, void 0, c, p), t.source && t.source.texture && f.restoreTransform())
            }
        }, o.prototype.drawMesh = function (t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y) {
            var v, m = this.currentBuffer;
            if (!this.contextLost && t && m) {
                if (t.texture || t.source && t.source.texture) v = t.texture || t.source.texture, m.saveTransform(), m.transform(1, 0, 0, -1, 0, h + 2 * s);
                else {
                    if (!t.source && !t.webGLTexture) return;
                    v = this.getWebGLTexture(t)
                }
                v && (this.drawTexture(v, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y), (t.texture || t.source && t.source.texture) && m.restoreTransform())
            }
        }, o.prototype.drawTexture = function (t, e, i, r, n, o, s, a, h, l, u, c, p, d, f, g, y) {
            var v, m = this.currentBuffer;
            !this.contextLost && t && m && (p && d ? this.vao.reachMaxSize(p.length / 2, d.length) && this.$drawWebGL() : this.vao.reachMaxSize() && this.$drawWebGL(), null != y && t.smoothing != y && this.drawCmdManager.pushChangeSmoothing(t, y), c && this.vao.changeToMeshIndices(), v = m.globalMatrix, y = m.globalAlpha, m = d ? d.length / 3 : 2, this.drawCmdManager.pushDrawTexture(t, m, this.$filter), this.vao.cacheArrays(v, y, e, i, r, n, o, s, a, h, l, u, c, p, d, g))
        }, o.prototype.drawRect = function (t, e, i, r) {
            var n = this.currentBuffer;
            !this.contextLost && n && (this.vao.reachMaxSize() && this.$drawWebGL(), this.drawCmdManager.pushDrawRect(), this.vao.cacheArrays(n.globalMatrix, n.globalAlpha, 0, 0, i, r, t, e, i, r, i, r))
        }, o.prototype.pushMask = function (t) {
            var e = this.currentBuffer;
            if (!this.contextLost && e) {
                e.$stencilList.push(t), this.vao.reachMaxSize() && this.$drawWebGL();
                var i = t.length;
                if (i) {
                    this.drawCmdManager.pushPushMask(i);
                    for (var r = 0; r < i; r++) {
                        var n = t[r];
                        this.vao.cacheArrays(e.globalMatrix, e.globalAlpha, 0, 0, n.width, n.height, n.minX, n.minY, n.width, n.height, n.width, n.height)
                    }
                } else this.drawCmdManager.pushPushMask(), this.vao.cacheArrays(e.globalMatrix, e.globalAlpha, 0, 0, t.width, t.height, t.x, t.y, t.width, t.height, t.width, t.height)
            }
        }, o.prototype.popMask = function () {
            var t = this.currentBuffer;
            if (!this.contextLost && t) {
                var e = t.$stencilList.pop();
                this.vao.reachMaxSize() && this.$drawWebGL();
                var i = e.length;
                if (i) {
                    this.drawCmdManager.pushPopMask(i);
                    for (var r = 0; r < i; r++) {
                        var n = e[r];
                        this.vao.cacheArrays(t.globalMatrix, t.globalAlpha, 0, 0, n.width, n.height, n.minX, n.minY, n.width, n.height, n.width, n.height)
                    }
                } else this.drawCmdManager.pushPopMask(), this.vao.cacheArrays(t.globalMatrix, t.globalAlpha, 0, 0, e.width, e.height, e.x, e.y, e.width, e.height, e.width, e.height)
            }
        }, o.prototype.clear = function () {
            this.drawCmdManager.pushClearColor()
        }, o.prototype.enableScissor = function (t, e, i, r) {
            var n = this.currentBuffer;
            this.drawCmdManager.pushEnableScissor(t, e, i, r), n.$hasScissor = !0
        }, o.prototype.disableScissor = function () {
            var t = this.currentBuffer;
            this.drawCmdManager.pushDisableScissor(), t.$hasScissor = !1
        }, o.prototype.$drawWebGL = function () {
            if (0 != this.drawCmdManager.drawDataLen && !this.contextLost) {
                this.uploadVerticesArray(this.vao.getVertices()), this.vao.isMesh() && this.uploadIndicesArray(this.vao.getMeshIndices());
                for (var t = this.drawCmdManager.drawDataLen, e = 0, i = 0; i < t; i++) {
                    var r = this.drawCmdManager.drawData[i],
                        e = this.drawData(r, e);
                    7 == r.type && (this.activatedBuffer = r.buffer), 0 != r.type && 1 != r.type && 2 != r.type && 3 != r.type || this.activatedBuffer && this.activatedBuffer.$computeDrawCall && this.activatedBuffer.$drawCalls++
                }
                this.vao.isMesh() && this.uploadIndicesArray(this.vao.getIndices()), this.drawCmdManager.clear(), this.vao.clear()
            }
        }, o.prototype.drawData = function (t, e) {
            if (t) {
                var i, r = this.context,
                    n = t.filter;
                switch (t.type) {
                    case 0:
                        n ? "custom" === n.type ? i = l.EgretWebGLProgram.getProgram(r, n.$vertexSrc, n.$fragmentSrc, n.$shaderKey) : "colorTransform" === n.type ? i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.colorTransform_frag, "colorTransform") : "blurX" === n.type || "blurY" === n.type ? i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.blur_frag, "blur") : "glow" === n.type && (i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.glow_frag, "glow")) : i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.texture_frag, "texture"), this.activeProgram(r, i), this.syncUniforms(i, n, t.textureWidth, t.textureHeight), e += this.drawTextureElements(t, e);
                        break;
                    case 1:
                        i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(r, i), this.syncUniforms(i, n, t.textureWidth, t.textureHeight), e += this.drawRectElements(t, e);
                        break;
                    case 2:
                        i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(r, i), this.syncUniforms(i, n, t.textureWidth, t.textureHeight), e += this.drawPushMaskElements(t, e);
                        break;
                    case 3:
                        i = l.EgretWebGLProgram.getProgram(r, l.EgretShaderLib.default_vert, l.EgretShaderLib.primitive_frag, "primitive"), this.activeProgram(r, i), this.syncUniforms(i, n, t.textureWidth, t.textureHeight), e += this.drawPopMaskElements(t, e);
                        break;
                    case 4:
                        this.setBlendMode(t.value);
                        break;
                    case 5:
                        t.buffer.rootRenderTarget.resize(t.width, t.height), this.onResize(t.width, t.height);
                        break;
                    case 6:
                        this.activatedBuffer && (0 == (i = this.activatedBuffer.rootRenderTarget).width && 0 == i.height || i.clear(!0));
                        break;
                    case 7:
                        this.activateBuffer(t.buffer);
                        break;
                    case 8:
                        var o = this.activatedBuffer;
                        o && (o.rootRenderTarget && o.rootRenderTarget.enabledStencil(), o.enableScissor(t.x, t.y, t.width, t.height));
                        break;
                    case 9:
                        (o = this.activatedBuffer) && o.disableScissor();
                        break;
                    case 10:
                        r.bindTexture(r.TEXTURE_2D, t.texture), t.smoothing ? (r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.LINEAR), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.LINEAR)) : (r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MAG_FILTER, r.NEAREST), r.texParameteri(r.TEXTURE_2D, r.TEXTURE_MIN_FILTER, r.NEAREST))
                }
                return e
            }
        }, o.prototype.activeProgram = function (t, e) {
            if (e != this.currentProgram) {
                t.useProgram(e.id);
                var i, r = e.attributes;
                for (i in r) "aVertexPosition" === i ? (t.vertexAttribPointer(r.aVertexPosition.location, 2, t.FLOAT, !1, 20, 0), t.enableVertexAttribArray(r.aVertexPosition.location)) : "aTextureCoord" === i ? (t.vertexAttribPointer(r.aTextureCoord.location, 2, t.FLOAT, !1, 20, 8), t.enableVertexAttribArray(r.aTextureCoord.location)) : "aColor" === i && (t.vertexAttribPointer(r.aColor.location, 1, t.FLOAT, !1, 20, 16), t.enableVertexAttribArray(r.aColor.location));
                this.currentProgram = e
            }
        }, o.prototype.syncUniforms = function (t, e, i, r) {
            var n, o, s = t.uniforms;
            e && e.type;
            for (n in s) "projectionVector" === n ? s[n].setValue({
                x: this.projectionX,
                y: this.projectionY
            }) : "uTextureSize" === n ? s[n].setValue({
                x: i,
                y: r
            }) : "uSampler" === n || void 0 !== (o = e.$uniforms[n]) && s[n].setValue(o)
        }, o.prototype.drawTextureElements = function (t, e) {
            var i = this.context;
            i.bindTexture(i.TEXTURE_2D, t.texture);
            t = 3 * t.count;
            return i.drawElements(i.TRIANGLES, t, i.UNSIGNED_SHORT, 2 * e), t
        }, o.prototype.drawRectElements = function (t, e) {
            var i = this.context,
                t = 3 * t.count;
            return i.drawElements(i.TRIANGLES, t, i.UNSIGNED_SHORT, 2 * e), t
        }, o.prototype.drawPushMaskElements = function (t, e) {
            var i = this.context,
                r = 3 * t.count,
                n = this.activatedBuffer;
            return n && (n.rootRenderTarget && n.rootRenderTarget.enabledStencil(), 0 == n.stencilHandleCount && (n.enableStencil(), i.clear(i.STENCIL_BUFFER_BIT)), t = n.stencilHandleCount, n.stencilHandleCount++, i.colorMask(!1, !1, !1, !1), i.stencilFunc(i.EQUAL, t, 255), i.stencilOp(i.KEEP, i.KEEP, i.INCR), i.drawElements(i.TRIANGLES, r, i.UNSIGNED_SHORT, 2 * e), i.stencilFunc(i.EQUAL, t + 1, 255), i.colorMask(!0, !0, !0, !0), i.stencilOp(i.KEEP, i.KEEP, i.KEEP)), r
        }, o.prototype.drawPopMaskElements = function (t, e) {
            var i = this.context,
                r = 3 * t.count,
                t = this.activatedBuffer;
            return t && (t.stencilHandleCount--, 0 == t.stencilHandleCount ? t.disableStencil() : (t = t.stencilHandleCount, i.colorMask(!1, !1, !1, !1), i.stencilFunc(i.EQUAL, t + 1, 255), i.stencilOp(i.KEEP, i.KEEP, i.DECR), i.drawElements(i.TRIANGLES, r, i.UNSIGNED_SHORT, 2 * e), i.stencilFunc(i.EQUAL, t, 255), i.colorMask(!0, !0, !0, !0), i.stencilOp(i.KEEP, i.KEEP, i.KEEP))), r
        }, o.prototype.setBlendMode = function (t) {
            var e = this.context,
                t = o.blendModesForGL[t];
            t && e.blendFunc(t[0], t[1])
        }, o.prototype.drawTargetWidthFilters = function (t, e) {
            var i = e,
                r = t.length;
            if (1 < r)
                for (var n = 0; n < r - 1; n++) {
                    var o = t[n],
                        s = e.rootRenderTarget.width,
                        a = e.rootRenderTarget.height;
                    (a = l.WebGLRenderBuffer.create(s, a)).setTransform(1, 0, 0, 1, 0, 0), a.globalAlpha = 1, this.drawToRenderTarget(o, e, a), e != i && l.WebGLRenderBuffer.release(e), e = a
                }
            var h = t[r - 1];
            this.drawToRenderTarget(h, e, this.currentBuffer), e != i && l.WebGLRenderBuffer.release(e)
        }, o.prototype.drawToRenderTarget = function (t, e, i) {
            var r, n, o, s, a, h;
            this.contextLost || (this.vao.reachMaxSize() && this.$drawWebGL(), this.pushBuffer(i), o = (r = e).rootRenderTarget.width, s = e.rootRenderTarget.height, "blur" == t.type && (a = t.blurXFilter, h = t.blurYFilter, t = 0 != a.blurX && 0 != h.blurY ? ((n = l.WebGLRenderBuffer.create(o, s)).setTransform(1, 0, 0, 1, 0, 0), n.globalAlpha = 1, this.drawToRenderTarget(t.blurXFilter, e, n), e != r && l.WebGLRenderBuffer.release(e), e = n, h) : 0 === a.blurX ? h : a), i.saveTransform(), i.transform(1, 0, 0, -1, 0, s), this.vao.cacheArrays(i.globalMatrix, i.globalAlpha, 0, 0, o, s, 0, 0, o, s, o, s), i.restoreTransform(), this.drawCmdManager.pushDrawTexture(e.rootRenderTarget.texture, 2, t, o, s), e != r && l.WebGLRenderBuffer.release(e), this.popBuffer())
        }, o.initBlendMode = function () {
            (o.blendModesForGL = {})["source-over"] = [1, 771], o.blendModesForGL.lighter = [1, 1], o.blendModesForGL["lighter-in"] = [770, 771], o.blendModesForGL["destination-out"] = [0, 771], o.blendModesForGL["destination-in"] = [0, 770]
        }, o.glContextId = 0, o.blendModesForGL = null, t = o, l.WebGLRenderContext = t, __reflect(t.prototype, "egret.web.WebGLRenderContext"), t.initBlendMode()
    }(egret = egret || {}),
    function (h) {
        ! function (n) {
            var o, t = (o = h.HashObject, __extends(a, o), a.prototype.enableStencil = function () {
                this.stencilState || (this.context.enableStencilTest(), this.stencilState = !0)
            }, a.prototype.disableStencil = function () {
                this.stencilState && (this.context.disableStencilTest(), this.stencilState = !1)
            }, a.prototype.restoreStencil = function () {
                this.stencilState ? this.context.enableStencilTest() : this.context.disableStencilTest()
            }, a.prototype.enableScissor = function (t, e, i, r) {
                this.$scissorState || (this.$scissorState = !0, this.scissorRect.setTo(t, e, i, r), this.context.enableScissorTest(this.scissorRect))
            }, a.prototype.disableScissor = function () {
                this.$scissorState && (this.$scissorState = !1, this.scissorRect.setEmpty(), this.context.disableScissorTest())
            }, a.prototype.restoreScissor = function () {
                this.$scissorState ? this.context.enableScissorTest(this.scissorRect) : this.context.disableScissorTest()
            }, Object.defineProperty(a.prototype, "width", {
                get: function () {
                    return this.rootRenderTarget.width
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(a.prototype, "height", {
                get: function () {
                    return this.rootRenderTarget.height
                },
                enumerable: !0,
                configurable: !0
            }), a.prototype.resize = function (t, e, i) {
                this.context.pushBuffer(this), e = e || 1, (t = t || 1) == this.rootRenderTarget.width && e == this.rootRenderTarget.height || (this.context.drawCmdManager.pushResize(this, t, e), this.rootRenderTarget.width = t, this.rootRenderTarget.height = e), this.root && this.context.resize(t, e, i), this.context.clear(), this.context.popBuffer()
            }, a.prototype.resizeTo = function (t, e, i, r) {
                this.context.pushBuffer(this);
                var n = this.rootRenderTarget.width,
                    o = this.rootRenderTarget.height,
                    s = a.create(n, o);
                this.context.pushBuffer(s), this.context.drawImage(this.rootRenderTarget, 0, 0, n, o, 0, 0, n, o, n, o, !1), this.context.popBuffer(), this.resize(t, e), this.setTransform(1, 0, 0, 1, 0, 0), this.context.drawImage(s.rootRenderTarget, 0, 0, n, o, i, r, n, o, n, o, !1), a.release(s), this.context.popBuffer()
            }, a.prototype.setDirtyRegionPolicy = function (t) {
                this.dirtyRegionPolicy = "on" == t
            }, a.prototype.beginClip = function (t, e, i) {
                this.context.pushBuffer(this), this.root && (this._dirtyRegionPolicy ? (this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate()) : (this.rootRenderTarget.useFrameBuffer = !1, this.rootRenderTarget.activate(), a.autoClear && this.context.clear())), this.setTransform(1, 0, 0, 1, e = +e || 0, i = +i || 0);
                t.length;
                this.maskPushed = !1, this.rootRenderTarget.useFrameBuffer && this.context.clear(), this.context.popBuffer()
            }, a.prototype.endClip = function () {
                (this.maskPushed || this.scissorEnabled) && (this.context.pushBuffer(this), this.maskPushed && (this.setTransform(1, 0, 0, 1, this.offsetX, this.offsetY), this.context.popMask()), this.scissorEnabled && this.context.disableScissor(), this.context.popBuffer())
            }, a.prototype.getPixels = function (t, e, i, r) {
                void 0 === i && (i = 1), void 0 === r && (r = 1);
                var n = new Uint8Array(4 * i * r),
                    o = this.rootRenderTarget.useFrameBuffer;
                this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.context.getPixels(t, e, i, r, n), this.rootRenderTarget.useFrameBuffer = o, this.rootRenderTarget.activate();
                for (var s = new Uint8Array(4 * i * r), a = 0; a < r; a++)
                    for (var h = 0; h < i; h++) s[4 * (i * (r - a - 1) + h)] = n[4 * (i * a + h)], s[4 * (i * (r - a - 1) + h) + 1] = n[4 * (i * a + h) + 1], s[4 * (i * (r - a - 1) + h) + 2] = n[4 * (i * a + h) + 2], s[4 * (i * (r - a - 1) + h) + 3] = n[4 * (i * a + h) + 3];
                return s
            }, a.prototype.toDataURL = function (t, e) {
                return this.context.surface.toDataURL(t, e)
            }, a.prototype.destroy = function () {
                this.context.destroy()
            }, a.prototype.onRenderFinish = function () {
                this.$drawCalls = 0, this.root && (!this._dirtyRegionPolicy && this.dirtyRegionPolicy && this.drawSurfaceToFrameBuffer(0, 0, this.rootRenderTarget.width, this.rootRenderTarget.height, 0, 0, this.rootRenderTarget.width, this.rootRenderTarget.height, !0), this._dirtyRegionPolicy && this.drawFrameBufferToSurface(0, 0, this.rootRenderTarget.width, this.rootRenderTarget.height, 0, 0, this.rootRenderTarget.width, this.rootRenderTarget.height), this._dirtyRegionPolicy = this.dirtyRegionPolicy)
            }, a.prototype.drawFrameBufferToSurface = function (t, e, i, r, n, o, s, a, h) {
                void 0 === h && (h = !1), this.rootRenderTarget.useFrameBuffer = !1, this.rootRenderTarget.activate(), this.context.disableStencilTest(), this.context.disableScissorTest(), this.setTransform(1, 0, 0, 1, 0, 0), this.globalAlpha = 1, this.context.setGlobalCompositeOperation("source-over"), h && this.context.clear(), this.context.drawImage(this.rootRenderTarget, t, e, i, r, n, o, s, a, i, r, !1), this.context.$drawWebGL(), this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.restoreStencil(), this.restoreScissor()
            }, a.prototype.drawSurfaceToFrameBuffer = function (t, e, i, r, n, o, s, a, h) {
                void 0 === h && (h = !1), this.rootRenderTarget.useFrameBuffer = !0, this.rootRenderTarget.activate(), this.context.disableStencilTest(), this.context.disableScissorTest(), this.setTransform(1, 0, 0, 1, 0, 0), this.globalAlpha = 1, this.context.setGlobalCompositeOperation("source-over"), h && this.context.clear(), this.context.drawImage(this.context.surface, t, e, i, r, n, o, s, a, i, r, !1), this.context.$drawWebGL(), this.rootRenderTarget.useFrameBuffer = !1, this.rootRenderTarget.activate(), this.restoreStencil(), this.restoreScissor()
            }, a.prototype.clear = function () {
                this.context.clear()
            }, a.prototype.setTransform = function (t, e, i, r, n, o) {
                var s = this.globalMatrix;
                s.a = t, s.b = e, s.c = i, s.d = r, s.tx = n, s.ty = o
            }, a.prototype.transform = function (t, e, i, r, n, o) {
                var s = this.globalMatrix,
                    a = s.a,
                    h = s.b,
                    l = s.c,
                    u = s.d;
                1 == t && 0 == e && 0 == i && 1 == r || (s.a = t * a + e * l, s.b = t * h + e * u, s.c = i * a + r * l, s.d = i * h + r * u), s.tx = n * a + o * l + s.tx, s.ty = n * h + o * u + s.ty
            }, a.prototype.translate = function (t, e) {
                var i = this.globalMatrix;
                i.tx += t, i.ty += e
            }, a.prototype.saveTransform = function () {
                var t = this.globalMatrix,
                    e = this.savedGlobalMatrix;
                e.a = t.a, e.b = t.b, e.c = t.c, e.d = t.d, e.tx = t.tx, e.ty = t.ty
            }, a.prototype.restoreTransform = function () {
                var t = this.globalMatrix,
                    e = this.savedGlobalMatrix;
                t.a = e.a, t.b = e.b, t.c = e.c, t.d = e.d, t.tx = e.tx, t.ty = e.ty
            }, a.create = function (t, e) {
                var i, r = s.pop();
                return r ? (r.resize(t, e), (i = r.globalMatrix).a = 1, i.b = 0, i.c = 0, i.d = 1, i.tx = 0, i.ty = 0) : (r = new a(t, e)).$computeDrawCall = !1, r
            }, a.release = function (t) {
                s.push(t)
            }, a.autoClear = !0, a);

            function a(t, e, i) {
                var r = o.call(this) || this;
                return r.globalAlpha = 1, r.stencilState = !1, r.$stencilList = [], r.stencilHandleCount = 0, r.$scissorState = !1, r.scissorRect = new h.Rectangle, r.$hasScissor = !1, r.dirtyRegionPolicy = !0, r._dirtyRegionPolicy = !0, r.$drawCalls = 0, r.$computeDrawCall = !1, r.globalMatrix = new h.Matrix, r.savedGlobalMatrix = new h.Matrix, r.context = n.WebGLRenderContext.getInstance(t, e), r.rootRenderTarget = new n.WebGLRenderTarget(r.context.context, 3, 3), t && e && r.resize(t, e), r.root = i, r.root ? (r.context.pushBuffer(r), r.surface = r.context.surface) : ((i = r.context.activatedBuffer) && i.rootRenderTarget.activate(), r.rootRenderTarget.initFrameBuffer(), r.surface = r.rootRenderTarget), r
            }
            n.WebGLRenderBuffer = t, __reflect(t.prototype, "egret.web.WebGLRenderBuffer", ["egret.sys.RenderBuffer"]);
            var s = []
        }(h.web || (h.web = {}))
    }(egret = egret || {}),
    function (P) {
        var u, x, T, E, t;

        function e() {
            this.nestLevel = 0
        }
        u = P.web || (P.web = {}), x = ["source-over", "lighter", "destination-out"], T = "source-over", E = [], e.prototype.render = function (t, e, i, r, n) {
            this.nestLevel++;
            var o = e,
                e = o.context,
                n = n ? t : null;
            e.pushBuffer(o), this.drawDisplayObject(t, o, r, i, null, null, n), e.$drawWebGL();
            n = o.$drawCalls;
            if (o.onRenderFinish(), e.popBuffer(), this.nestLevel--, 0 === this.nestLevel) {
                6 < E.length && (E.length = 6);
                for (var s = E.length, a = 0; a < s; a++) E[a].resize(0, 0)
            }
            return n
        }, e.prototype.drawDisplayObject = function (t, e, i, r, n, o, s) {
            var a, h, l, u, c, p, d, f, g = 0,
                y = n && !s ? (!n.isDirty && n.$canvasScaleX == P.sys.DisplayList.$canvasScaleX && n.$canvasScaleY == P.sys.DisplayList.$canvasScaleY || (g += n.drawToSurface()), n.$renderNode) : t.$getRenderNode();
            if (y) {
                if (i) {
                    var v = y.renderRegion;
                    if (o && !o.intersects(v)) y.needRedraw = !1;
                    else if (!y.needRedraw)
                        for (var m = i.length, _ = 0; _ < m; _++)
                            if (v.intersects(i[_])) {
                                y.needRedraw = !0;
                                break
                            }
                } else y.needRedraw = !0;
                y.needRedraw && (g++, h = a = void 0, s ? (a = t.$getConcatenatedAlphaAt(s, t.$getConcatenatedAlpha()), h = P.Matrix.create().copyFrom(t.$getConcatenatedMatrix()), t.$getConcatenatedMatrixAt(s, h)) : (a = y.renderAlpha, h = P.Matrix.create().copyFrom(y.renderMatrix)), l = h.a * r.a, p = h.d * r.d, d = h.tx * r.a + r.tx * r.a, f = h.ty * r.d + r.ty * r.d, (c = u = 0) === h.b && 0 === h.c && 0 === r.b && 0 === r.c || (l += h.b * r.c, p += h.c * r.b, u += h.a * r.b + h.b * r.d, c += h.c * r.a + h.d * r.c, d += h.ty * r.c, f += h.tx * r.b), h.a = l, h.b = u, h.c = c, h.d = p, h.tx = d, h.ty = f, e.setTransform(h.a, h.b, h.c, h.d, h.tx, h.ty), P.Matrix.release(h), e.globalAlpha = a, this.renderNode(y, e), y.needRedraw = !1)
            }
            if (n && !s) return g;
            var b = t.$children;
            if (b)
                for (var $ = b.length, x = 0; x < $; x++) {
                    var T, E = b[x];
                    !E.$visible || E.$alpha <= 0 || E.$maskedObject || ((T = E.$getFilters()) && 0 < T.length ? g += this.drawWithFilter(E, e, i, r, o, s) : 0 !== E.$blendMode || E.$mask && (E.$mask.$parentDisplayList || s) ? g += this.drawWithClip(E, e, i, r, o, s) : E.$scrollRect || E.$maskRect ? g += this.drawWithScrollRect(E, e, i, r, o, s) : E.isFPS ? (e.context.$drawWebGL(), e.$computeDrawCall = !1, this.drawDisplayObject(E, e, i, r, E.$displayList, o, s), e.context.$drawWebGL(), e.$computeDrawCall = !0) : g += this.drawDisplayObject(E, e, i, r, E.$displayList, o, s))
                }
            return g
        }, e.prototype.drawWithFilter = function (t, e, i, r, n, o) {
            var s = 0;
            if (!t.$children || 0 != t.$children.length || t.$renderNode && 0 != t.$renderNode.$getRenderCount()) {
                var a, h = t.$getFilters(),
                    l = 0 !== t.$blendMode;
                l && (a = (a = x[t.$blendMode]) || T);
                var u = t.$getOriginalBounds();
                if (u.width <= 0 || u.height <= 0) return s;
                if (!t.mask && 1 == h.length && ("colorTransform" == h[0].type || "custom" === h[0].type && 0 === h[0].padding)) {
                    var c = this.getRenderCount(t);
                    if (!t.$children || 1 == c) return l && e.context.setGlobalCompositeOperation(a), e.context.$filter = h[0], t.$scrollRect || t.$maskRect ? s += this.drawWithScrollRect(t, e, i, r, n, o) : s += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), e.context.$filter = null, l && e.context.setGlobalCompositeOperation(T), s
                }
                var p = P.Matrix.create();
                p.copyFrom(t.$getConcatenatedMatrix()), o && t.$getConcatenatedMatrixAt(o, p), (c = P.sys.Region.create()).updateRegion(u, p);
                n = this.createRenderBuffer(c.width * r.a, c.height * r.d);
                n.context.pushBuffer(n), n.setTransform(r.a, 0, 0, r.d, -c.minX, -c.minY);
                u = P.Matrix.create().setTo(r.a, 0, 0, r.d, -c.minX, -c.minY);
                return t.$mask && (t.$mask.$parentDisplayList || o) ? s += this.drawWithClip(t, n, i, u, c, o) : t.$scrollRect || t.$maskRect ? s += this.drawWithScrollRect(t, n, i, u, c, o) : s += this.drawDisplayObject(t, n, i, u, t.$displayList, c, o), P.Matrix.release(u), n.context.popBuffer(), 0 < s && (l && e.context.setGlobalCompositeOperation(a), s++, e.globalAlpha = 1, e.setTransform(1, 0, 0, 1, (c.minX + r.tx) * r.a, (c.minY + r.ty) * r.d), e.context.drawTargetWidthFilters(h, n), l && e.context.setGlobalCompositeOperation(T)), E.push(n), P.sys.Region.release(c), P.Matrix.release(p), s
            }
        }, e.prototype.getRenderCount = function (t) {
            var e = 0;
            if (t.$children)
                for (var i = 0, r = t.$children; i < r.length; i++) {
                    var n = r[i],
                        o = n.$getRenderNode();
                    o && (e += o.$getRenderCount()), n.$children && (e += this.getRenderCount(n))
                }
            return e
        }, e.prototype.drawWithClip = function (t, e, i, r, n, o) {
            var s, a = 0,
                h = 0 !== t.$blendMode;
            h && (s = (s = x[t.$blendMode]) || T);
            var l = t.$scrollRect || t.$maskRect,
                u = t.$mask;
            if (u) {
                var c = u.$getRenderNode();
                if (c) {
                    var p = c.renderMatrix;
                    if (0 == p.a && 0 == p.b || 0 == p.c && 0 == p.d) return a
                }
            }
            var d, p = P.Matrix.create();
            if (p.copyFrom(t.$getConcatenatedMatrix()), o ? t.$getConcatenatedMatrixAt(o, p) : !t.$parentDisplayList || (v = t.$parentDisplayList.root) !== t.$stage && t.$getConcatenatedMatrixAt(v, p), u && (m = u.$getOriginalBounds(), $ = P.sys.Region.create(), (_ = P.Matrix.create()).copyFrom(u.$getConcatenatedMatrix()), o && u.$getConcatenatedMatrixAt(o, _), $.updateRegion(m, _), P.Matrix.release(_)), l && (d = P.sys.Region.create()).updateRegion(l, p), d && $ ? (d.intersect($), P.sys.Region.release($)) : !d && $ && (d = $), d) {
                if (d.isEmpty() || n && !n.intersects(d)) return P.sys.Region.release(d), P.Matrix.release(p), a
            } else d = P.sys.Region.create(), m = t.$getOriginalBounds(), d.updateRegion(m, p);
            if (d.width <= 0 || d.height <= 0) return a;
            var f = !1;
            if (i) {
                for (var g = i.length, y = 0; y < g; y++)
                    if (d.intersects(i[y])) {
                        f = !0;
                        break
                    }
            } else f = !0;
            if (!f) return P.sys.Region.release(d), P.Matrix.release(p), a;
            if (u || t.$children && 0 != t.$children.length) {
                var v = this.createRenderBuffer(d.width * r.a, d.height * r.d);
                v.context.pushBuffer(v), v.setTransform(r.a, 0, 0, r.d, -d.minX, -d.minY);
                var m, _, b, $ = P.Matrix.create().setTo(r.a, 0, 0, r.d, -d.minX, -d.minY);
                return a += this.drawDisplayObject(t, v, i, $, t.$displayList, d, o), u && ((b = this.createRenderBuffer(d.width * r.a, d.height * r.d)).context.pushBuffer(b), b.setTransform(r.a, 0, 0, r.d, -d.minX, -d.minY), $ = P.Matrix.create().setTo(r.a, 0, 0, r.d, -d.minX, -d.minY), a += this.drawDisplayObject(u, b, i, $, u.$displayList, d, o), b.context.popBuffer(), v.context.setGlobalCompositeOperation("destination-in"), v.setTransform(1, 0, 0, -1, 0, b.height), v.globalAlpha = 1, m = b.rootRenderTarget.width, u = b.rootRenderTarget.height, v.context.drawTexture(b.rootRenderTarget.texture, 0, 0, m, u, 0, 0, m, u, m, u), v.context.setGlobalCompositeOperation("source-over"), E.push(b)), P.Matrix.release($), v.context.setGlobalCompositeOperation(T), v.context.popBuffer(), 0 < a && (a++, h && e.context.setGlobalCompositeOperation(s), l && (r.$preMultiplyInto(_ = p, _), v.setTransform(_.a, _.b, _.c, _.d, _.tx, _.ty), v.context.pushMask(l)), e.globalAlpha = 1, e.setTransform(1, 0, 0, -1, (d.minX + r.tx) * r.a, (d.minY + r.ty) * r.d + v.height), b = v.rootRenderTarget.width, $ = v.rootRenderTarget.height, e.context.drawTexture(v.rootRenderTarget.texture, 0, 0, b, $, 0, 0, b, $, b, $), l && v.context.popMask(), h && e.context.setGlobalCompositeOperation(T)), E.push(v), P.sys.Region.release(d), P.Matrix.release(p), a
            }
            return l && (e.setTransform((_ = p).a, _.b, _.c, _.d, _.tx, _.ty), e.context.pushMask(l)), h && e.context.setGlobalCompositeOperation(s), a += this.drawDisplayObject(t, e, i, r, t.$displayList, n, o), h && e.context.setGlobalCompositeOperation(T), l && e.context.popMask(), P.sys.Region.release(d), P.Matrix.release(p), a
        }, e.prototype.drawWithScrollRect = function (t, e, i, r, n, o) {
            var s = 0,
                a = t.$scrollRect || t.$maskRect;
            if (a.isEmpty()) return s;
            var h = P.Matrix.create();
            h.copyFrom(t.$getConcatenatedMatrix()), o ? t.$getConcatenatedMatrixAt(o, h) : !t.$parentDisplayList || (E = t.$parentDisplayList.root) !== t.$stage && t.$getConcatenatedMatrixAt(E, h);
            var l = P.sys.Region.create();
            if (l.updateRegion(a, h), l.isEmpty() || n && !n.intersects(l)) return P.sys.Region.release(l), P.Matrix.release(h), s;
            var u = !1;
            if (i) {
                for (var c = i.length, p = 0; p < c; p++)
                    if (l.intersects(i[p])) {
                        u = !0;
                        break
                    }
            } else u = !0;
            if (!u) return P.sys.Region.release(l), P.Matrix.release(h), s;
            r.$preMultiplyInto(h, h), e.setTransform(h.a, h.b, h.c, h.d, h.tx, h.ty);
            var d, f, g, y, v, m, _, b, $, x, T, E, C, S = e.context,
                w = !1;
            return e.$hasScissor || 0 != h.b || 0 != h.c ? S.pushMask(a) : (d = h.a, f = h.d, b = h.tx, T = h.ty, x = a.x, _ = a.y, g = x + a.width, $ = _ + a.height, C = m = v = y = void 0, C = 1 == d && 1 == f ? (y = x + b, v = _ + T, m = g + b, $ + T) : (E = 0, (n = d * g + b) < (a = d * x + b) && (E = a, a = n, n = E), (x = d * x + b) < (b = d * g + b) && (E = b, b = x, x = E), y = a < b ? a : b, m = x < n ? n : x, (_ = x = f * _ + T) < x && (E = x, x = _, _ = E), (T = $ = f * $ + T) < $ && (E = $, $ = T, T = E), v = x < $ ? x : $, T < _ ? _ : T), S.enableScissor(y, -C + e.height, m - y, C - v), w = !0), s += this.drawDisplayObject(t, e, i, r, t.$displayList, l, o), e.setTransform(h.a, h.b, h.c, h.d, h.tx + r.tx, h.ty + r.ty), w ? S.disableScissor() : S.popMask(), P.sys.Region.release(l), P.Matrix.release(h), s
        }, e.prototype.drawNodeToBuffer = function (t, e, i, r) {
            var n = e;
            n.context.pushBuffer(n), n.setTransform(i.a, i.b, i.c, i.d, i.tx, i.ty), this.renderNode(t, e, r), n.context.$drawWebGL(), n.onRenderFinish(), n.context.popBuffer()
        }, e.prototype.renderNode = function (t, e, i) {
            switch (t.type) {
                case 1:
                    this.renderBitmap(t, e);
                    break;
                case 2:
                    this.renderText(t, e);
                    break;
                case 3:
                    this.renderGraphics(t, e, i);
                    break;
                case 4:
                    this.renderGroup(t, e);
                    break;
                case 6:
                    e.globalAlpha = t.drawData[0];
                    break;
                case 7:
                    this.renderMesh(t, e)
            }
        }, e.prototype.renderBitmap = function (t, e) {
            var i = t.image;
            if (i) {
                var r, n = t.drawData,
                    o = n.length,
                    s = 0,
                    a = t.matrix,
                    h = t.blendMode,
                    l = t.alpha;
                if (a && (e.saveTransform(), e.transform(a.a, a.b, a.c, a.d, a.tx, a.ty)), h && e.context.setGlobalCompositeOperation(x[h]), l == l && (r = e.globalAlpha, e.globalAlpha *= l), t.filter) {
                    for (e.context.$filter = t.filter; s < o;) e.context.drawImage(i, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.rotated, t.smoothing);
                    e.context.$filter = null
                } else
                    for (; s < o;) e.context.drawImage(i, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.rotated, t.smoothing);
                h && e.context.setGlobalCompositeOperation(T), l == l && (e.globalAlpha = r), a && e.restoreTransform()
            }
        }, e.prototype.renderMesh = function (t, e) {
            var i, r = t.image,
                n = t.drawData,
                o = n.length,
                s = 0,
                a = t.matrix,
                h = t.blendMode,
                l = t.alpha;
            if (a && (e.saveTransform(), e.transform(a.a, a.b, a.c, a.d, a.tx, a.ty)), h && e.context.setGlobalCompositeOperation(x[h]), l == l && (i = e.globalAlpha, e.globalAlpha *= l), t.filter) {
                for (e.context.$filter = t.filter; s < o;) e.context.drawMesh(r, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.uvs, t.vertices, t.indices, t.bounds, t.rotated, t.smoothing);
                e.context.$filter = null
            } else
                for (; s < o;) e.context.drawMesh(r, n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], n[s++], t.imageWidth, t.imageHeight, t.uvs, t.vertices, t.indices, t.bounds, t.rotated, t.smoothing);
            h && e.context.setGlobalCompositeOperation(T), l == l && (e.globalAlpha = i), a && e.restoreTransform()
        }, e.prototype.renderText = function (t, e) {
            var i = t.width - t.x,
                r = t.height - t.y,
                n = P.sys.DisplayList.$canvasScaleX,
                o = P.sys.DisplayList.$canvasScaleY,
                s = e.context.$maxTextureSize;
            s < i * n && (n *= s / (i * n)), s < r * o && (o *= s / (r * o)), i *= n, r *= o;
            var a, h, l = t.x * n,
                s = t.y * o;
            0 != t.drawData.length && (t.$canvasScaleX == n && t.$canvasScaleY == o || (t.$canvasScaleX = n, t.$canvasScaleY = o, t.dirtyRender = !0), this.canvasRenderBuffer && this.canvasRenderBuffer.context ? t.dirtyRender && this.canvasRenderBuffer.resize(i, r) : (this.canvasRenderer = new P.CanvasRenderer, this.canvasRenderBuffer = new u.CanvasRenderBuffer(i, r)), this.canvasRenderBuffer.context && (l || s ? (t.dirtyRender && this.canvasRenderBuffer.context.setTransform(n, 0, 0, o, -l, -s), e.transform(1, 0, 0, 1, l / n, s / o)) : 1 == n && 1 == o || this.canvasRenderBuffer.context.setTransform(n, 0, 0, o, 0, 0), t.dirtyRender && (h = this.canvasRenderBuffer.surface, this.canvasRenderer.renderText(t, this.canvasRenderBuffer.context), (a = t.$texture) ? e.context.updateTexture(a, h) : (a = e.context.createTexture(h), t.$texture = a), t.$textureWidth = h.width, t.$textureHeight = h.height), a = t.$textureWidth, h = t.$textureHeight, e.context.drawTexture(t.$texture, 0, 0, a, h, 0, 0, a / n, h / o, a, h), (l || s) && (t.dirtyRender && this.canvasRenderBuffer.context.setTransform(n, 0, 0, o, 0, 0), e.transform(1, 0, 0, 1, -l / n, -s / o)), t.dirtyRender = !1))
        }, e.prototype.renderGraphics = function (t, e, i) {
            var r, n, o, s, a = t.width,
                h = t.height;
            a <= 0 || h <= 0 || !a || !h || 0 == t.drawData.length || (r = P.sys.DisplayList.$canvasScaleX, n = P.sys.DisplayList.$canvasScaleY, (a * r < 1 || h * n < 1) && (r = n = 1), t.$canvasScaleX == r && t.$canvasScaleY == n || (t.$canvasScaleX = r, t.$canvasScaleY = n, t.dirtyRender = !0), a *= r, h *= n, this.canvasRenderBuffer && this.canvasRenderBuffer.context ? (t.dirtyRender || i) && this.canvasRenderBuffer.resize(a, h) : (this.canvasRenderer = new P.CanvasRenderer, this.canvasRenderBuffer = new u.CanvasRenderBuffer(a, h)), this.canvasRenderBuffer.context && (1 == r && 1 == n || this.canvasRenderBuffer.context.setTransform(r, 0, 0, n, 0, 0), (t.x || t.y) && ((t.dirtyRender || i) && this.canvasRenderBuffer.context.translate(-t.x, -t.y), e.transform(1, 0, 0, 1, t.x, t.y)), s = this.canvasRenderBuffer.surface, i ? (this.canvasRenderer.renderGraphics(t, this.canvasRenderBuffer.context, !0), P.WebGLUtils.deleteWebGLTexture(s), o = e.context.getWebGLTexture(s), e.context.drawTexture(o, 0, 0, a, h, 0, 0, a, h, s.width, s.height)) : (t.dirtyRender && (this.canvasRenderer.renderGraphics(t, this.canvasRenderBuffer.context), (o = t.$texture) ? e.context.updateTexture(o, s) : (o = e.context.createTexture(s), t.$texture = o), t.$textureWidth = s.width, t.$textureHeight = s.height), o = t.$textureWidth, s = t.$textureHeight, e.context.drawTexture(t.$texture, 0, 0, o, s, 0, 0, o / r, s / n, o, s)), (t.x || t.y) && ((t.dirtyRender || i) && this.canvasRenderBuffer.context.translate(t.x, t.y), e.transform(1, 0, 0, 1, -t.x, -t.y)), i || (t.dirtyRender = !1)))
        }, e.prototype.renderGroup = function (t, e) {
            var i = t.matrix;
            i && (e.saveTransform(), e.transform(i.a, i.b, i.c, i.d, i.tx, i.ty));
            for (var r = t.drawData, n = r.length, o = 0; o < n; o++) {
                var s = r[o];
                this.renderNode(s, e)
            }
            i && e.restoreTransform()
        }, e.prototype.createRenderBuffer = function (t, e) {
            var i = E.pop();
            return i ? i.resize(t, e) : (i = new u.WebGLRenderBuffer(t, e)).$computeDrawCall = !1, i
        }, t = e, u.WebGLRenderer = t, __reflect(t.prototype, "egret.web.WebGLRenderer", ["egret.sys.SystemRenderer"])
    }(egret = egret || {}),
    function (t) {
        ! function (t) {
            var e;
            (i = e = t.WEBGL_ATTRIBUTE_TYPE || (t.WEBGL_ATTRIBUTE_TYPE = {}))[i.FLOAT_VEC2 = 35664] = "FLOAT_VEC2", i[i.FLOAT_VEC3 = 35665] = "FLOAT_VEC3", i[i.FLOAT_VEC4 = 35666] = "FLOAT_VEC4", i[i.FLOAT = 5126] = "FLOAT", i[i.BYTE = 65535] = "BYTE", i[i.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", i[i.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT";
            var i = (r.prototype.initCount = function (t) {
                switch (this.type) {
                    case e.FLOAT:
                    case e.BYTE:
                    case e.UNSIGNED_BYTE:
                    case e.UNSIGNED_SHORT:
                        this.count = 1;
                        break;
                    case e.FLOAT_VEC2:
                        this.count = 2;
                        break;
                    case e.FLOAT_VEC3:
                        this.count = 3;
                        break;
                    case e.FLOAT_VEC4:
                        this.count = 4
                }
            }, r.prototype.initFormat = function (t) {
                switch (this.type) {
                    case e.FLOAT:
                    case e.FLOAT_VEC2:
                    case e.FLOAT_VEC3:
                    case e.FLOAT_VEC4:
                        this.format = t.FLOAT;
                        break;
                    case e.UNSIGNED_BYTE:
                        this.format = t.UNSIGNED_BYTE;
                        break;
                    case e.UNSIGNED_SHORT:
                        this.format = t.UNSIGNED_SHORT;
                        break;
                    case e.BYTE:
                        this.format = t.BYTE
                }
            }, r);

            function r(t, e, i) {
                this.gl = t, this.name = i.name, this.type = i.type, this.size = i.size, this.location = t.getAttribLocation(e, this.name), this.count = 0, this.initCount(t), this.format = t.FLOAT, this.initFormat(t)
            }
            t.EgretWebGLAttribute = i, __reflect(i.prototype, "egret.web.EgretWebGLAttribute")
        }(t.web || (t.web = {}))
    }(egret = egret || {}),
    function (t) {
        var a;

        function o(t, e, i) {
            e = t.createShader(e);
            return t.shaderSource(e, i), t.compileShader(e), t.getShaderParameter(e, t.COMPILE_STATUS) || (console.log("shader not compiled!"), console.log(t.getShaderInfoLog(e))), e
        }

        function n(t, e, i) {
            var r, n;
            this.vshaderSource = e, this.fshaderSource = i, this.vertexShader = o(t, t.VERTEX_SHADER, this.vshaderSource), this.fragmentShader = o(t, t.FRAGMENT_SHADER, this.fshaderSource), this.id = (r = t, n = this.vertexShader, e = this.fragmentShader, i = r.createProgram(), r.attachShader(i, n), r.attachShader(i, e), r.linkProgram(i), i), this.uniforms = function (t, e) {
                for (var i = {}, r = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), n = 0; n < r; n++) {
                    var o = t.getActiveUniform(e, n),
                        s = o.name,
                        o = new a.EgretWebGLUniform(t, e, o);
                    i[s] = o
                }
                return i
            }(t, this.id), this.attributes = function (t, e) {
                for (var i = {}, r = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), n = 0; n < r; n++) {
                    var o = t.getActiveAttrib(e, n),
                        s = o.name,
                        o = new a.EgretWebGLAttribute(t, e, o);
                    i[s] = o
                }
                return i
            }(t, this.id)
        }
        a = t.web || (t.web = {}), n.getProgram = function (t, e, i, r) {
            return this.programCache[r] || (this.programCache[r] = new n(t, e, i)), this.programCache[r]
        }, n.deleteProgram = function (t, e, i, r) {}, n.programCache = {}, t = n, a.EgretWebGLProgram = t, __reflect(t.prototype, "egret.web.EgretWebGLProgram")
    }(egret = egret || {}),
    function (t) {
        ! function (t) {
            var r;
            (e = r = t.WEBGL_UNIFORM_TYPE || (t.WEBGL_UNIFORM_TYPE = {}))[e.FLOAT_VEC2 = 35664] = "FLOAT_VEC2", e[e.FLOAT_VEC3 = 35665] = "FLOAT_VEC3", e[e.FLOAT_VEC4 = 35666] = "FLOAT_VEC4", e[e.INT_VEC2 = 35667] = "INT_VEC2", e[e.INT_VEC3 = 35668] = "INT_VEC3", e[e.INT_VEC4 = 35669] = "INT_VEC4", e[e.BOOL = 35670] = "BOOL", e[e.BOOL_VEC2 = 35671] = "BOOL_VEC2", e[e.BOOL_VEC3 = 35672] = "BOOL_VEC3", e[e.BOOL_VEC4 = 35673] = "BOOL_VEC4", e[e.FLOAT_MAT2 = 35674] = "FLOAT_MAT2", e[e.FLOAT_MAT3 = 35675] = "FLOAT_MAT3", e[e.FLOAT_MAT4 = 35676] = "FLOAT_MAT4", e[e.SAMPLER_2D = 35678] = "SAMPLER_2D", e[e.SAMPLER_CUBE = 35680] = "SAMPLER_CUBE", e[e.BYTE = 65535] = "BYTE", e[e.UNSIGNED_BYTE = 5121] = "UNSIGNED_BYTE", e[e.SHORT = 5122] = "SHORT", e[e.UNSIGNED_SHORT = 5123] = "UNSIGNED_SHORT", e[e.INT = 5124] = "INT", e[e.UNSIGNED_INT = 5125] = "UNSIGNED_INT", e[e.FLOAT = 5126] = "FLOAT";
            var e = (i.prototype.setDefaultValue = function () {
                switch (this.type) {
                    case r.FLOAT:
                    case r.SAMPLER_2D:
                    case r.SAMPLER_CUBE:
                    case r.BOOL:
                    case r.INT:
                        this.value = 0;
                        break;
                    case r.FLOAT_VEC2:
                    case r.BOOL_VEC2:
                    case r.INT_VEC2:
                        this.value = [0, 0];
                        break;
                    case r.FLOAT_VEC3:
                    case r.BOOL_VEC3:
                    case r.INT_VEC3:
                        this.value = [0, 0, 0];
                        break;
                    case r.FLOAT_VEC4:
                    case r.BOOL_VEC4:
                    case r.INT_VEC4:
                        this.value = [0, 0, 0, 0];
                        break;
                    case r.FLOAT_MAT2:
                        this.value = new Float32Array([1, 0, 0, 1]);
                        break;
                    case r.FLOAT_MAT3:
                        this.value = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                        break;
                    case r.FLOAT_MAT4:
                        this.value = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1])
                }
            }, i.prototype.generateSetValue = function () {
                switch (this.type) {
                    case r.FLOAT:
                    case r.SAMPLER_2D:
                    case r.SAMPLER_CUBE:
                    case r.BOOL:
                    case r.INT:
                        this.setValue = function (t) {
                            var e = this.value !== t;
                            this.value = t, e && this.upload()
                        };
                        break;
                    case r.FLOAT_VEC2:
                    case r.BOOL_VEC2:
                    case r.INT_VEC2:
                        this.setValue = function (t) {
                            var e = this.value[0] !== t.x || this.value[1] !== t.y;
                            this.value[0] = t.x, this.value[1] = t.y, e && this.upload()
                        };
                        break;
                    case r.FLOAT_VEC3:
                    case r.BOOL_VEC3:
                    case r.INT_VEC3:
                        this.setValue = function (t) {
                            this.value[0] = t.x, this.value[1] = t.y, this.value[2] = t.z, this.upload()
                        };
                        break;
                    case r.FLOAT_VEC4:
                    case r.BOOL_VEC4:
                    case r.INT_VEC4:
                        this.setValue = function (t) {
                            this.value[0] = t.x, this.value[1] = t.y, this.value[2] = t.z, this.value[3] = t.w, this.upload()
                        };
                        break;
                    case r.FLOAT_MAT2:
                    case r.FLOAT_MAT3:
                    case r.FLOAT_MAT4:
                        this.setValue = function (t) {
                            this.value.set(t), this.upload()
                        }
                }
            }, i.prototype.generateUpload = function () {
                var e = this.gl,
                    t = this.type,
                    i = this.location;
                switch (t) {
                    case r.FLOAT:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform1f(i, t)
                        };
                        break;
                    case r.FLOAT_VEC2:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform2f(i, t[0], t[1])
                        };
                        break;
                    case r.FLOAT_VEC3:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform3f(i, t[0], t[1], t[2])
                        };
                        break;
                    case r.FLOAT_VEC4:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform4f(i, t[0], t[1], t[2], t[3])
                        };
                        break;
                    case r.SAMPLER_2D:
                    case r.SAMPLER_CUBE:
                    case r.BOOL:
                    case r.INT:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform1i(i, t)
                        };
                        break;
                    case r.BOOL_VEC2:
                    case r.INT_VEC2:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform2i(i, t[0], t[1])
                        };
                        break;
                    case r.BOOL_VEC3:
                    case r.INT_VEC3:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform3i(i, t[0], t[1], t[2])
                        };
                        break;
                    case r.BOOL_VEC4:
                    case r.INT_VEC4:
                        this.upload = function () {
                            var t = this.value;
                            e.uniform4i(i, t[0], t[1], t[2], t[3])
                        };
                        break;
                    case r.FLOAT_MAT2:
                        this.upload = function () {
                            var t = this.value;
                            e.uniformMatrix2fv(i, !1, t)
                        };
                        break;
                    case r.FLOAT_MAT3:
                        this.upload = function () {
                            var t = this.value;
                            e.uniformMatrix3fv(i, !1, t)
                        };
                        break;
                    case r.FLOAT_MAT4:
                        this.upload = function () {
                            var t = this.value;
                            e.uniformMatrix4fv(i, !1, t)
                        }
                }
            }, i);

            function i(t, e, i) {
                this.gl = t, this.name = i.name, this.type = i.type, this.size = i.size, this.location = t.getUniformLocation(e, this.name), this.setDefaultValue(), this.generateSetValue(), this.generateUpload()
            }
            t.EgretWebGLUniform = e, __reflect(e.prototype, "egret.web.EgretWebGLUniform")
        }(t.web || (t.web = {}))
    }(egret = egret || {}),
    function (t) {
        var e;

        function i() {}
        e = t.web || (t.web = {}), i.blur_frag = "precision mediump float;\nuniform vec2 blur;\nuniform sampler2D uSampler;\nvarying vec2 vTextureCoord;\nuniform vec2 uTextureSize;\nvoid main()\n{\n    const int sampleRadius = 5;\n    const int samples = sampleRadius * 2 + 1;\n    vec2 blurUv = blur / uTextureSize;\n    vec4 color = vec4(0, 0, 0, 0);\n    vec2 uv = vec2(0.0, 0.0);\n    blurUv /= float(sampleRadius);\n    for (int i = -sampleRadius; i <= sampleRadius; i++) {\n        uv.x = vTextureCoord.x + float(i) * blurUv.x;\n        uv.y = vTextureCoord.y + float(i) * blurUv.y;\n        color += texture2D(uSampler, uv);\n    }\n    color /= float(samples);\n    gl_FragColor = color;\n}", i.colorTransform_frag = "precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform mat4 matrix;\nuniform vec4 colorAdd;\nuniform sampler2D uSampler;\nvoid main(void) {\n    vec4 texColor = texture2D(uSampler, vTextureCoord);\n    if(texColor.a > 0.) {\n        texColor = vec4(texColor.rgb / texColor.a, texColor.a);\n    }\n    vec4 locColor = clamp(texColor * matrix + colorAdd, 0., 1.);\n    gl_FragColor = vColor * vec4(locColor.rgb * locColor.a, locColor.a);\n}", i.default_vert = "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec2 aColor;\nuniform vec2 projectionVector;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nconst vec2 center = vec2(-1.0, 1.0);\nvoid main(void) {\n   gl_Position = vec4( (aVertexPosition / projectionVector) + center , 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.x, aColor.x, aColor.x, aColor.x);\n}", i.glow_frag = "precision mediump float;\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float dist;\nuniform float angle;\nuniform vec4 color;\nuniform float alpha;\nuniform float blurX;\nuniform float blurY;\nuniform float strength;\nuniform float inner;\nuniform float knockout;\nuniform float hideObject;\nuniform vec2 uTextureSize;\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\nvoid main(void) {\n    vec2 px = vec2(1.0 / uTextureSize.x, 1.0 / uTextureSize.y);\n    const float linearSamplingTimes = 7.0;\n    const float circleSamplingTimes = 12.0;\n    vec4 ownColor = texture2D(uSampler, vTextureCoord);\n    vec4 curColor;\n    float totalAlpha = 0.0;\n    float maxTotalAlpha = 0.0;\n    float curDistanceX = 0.0;\n    float curDistanceY = 0.0;\n    float offsetX = dist * cos(angle) * px.x;\n    float offsetY = dist * sin(angle) * px.y;\n    const float PI = 3.14159265358979323846264;\n    float cosAngle;\n    float sinAngle;\n    float offset = PI * 2.0 / circleSamplingTimes * random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    float stepX = blurX * px.x / linearSamplingTimes;\n    float stepY = blurY * px.y / linearSamplingTimes;\n    for (float a = 0.0; a <= PI * 2.0; a += PI * 2.0 / circleSamplingTimes) {\n        cosAngle = cos(a + offset);\n        sinAngle = sin(a + offset);\n        for (float i = 1.0; i <= linearSamplingTimes; i++) {\n            curDistanceX = i * stepX * cosAngle;\n            curDistanceY = i * stepY * sinAngle;\n            \n            curColor = texture2D(uSampler, vec2(vTextureCoord.x + curDistanceX - offsetX, vTextureCoord.y + curDistanceY + offsetY));\n            totalAlpha += (linearSamplingTimes - i) * curColor.a;\n            maxTotalAlpha += (linearSamplingTimes - i);\n        }\n    }\n    ownColor.a = max(ownColor.a, 0.0001);\n    ownColor.rgb = ownColor.rgb / ownColor.a;\n    float outerGlowAlpha = (totalAlpha / maxTotalAlpha) * strength * alpha * (1. - inner) * max(min(hideObject, knockout), 1. - ownColor.a);\n    float innerGlowAlpha = ((maxTotalAlpha - totalAlpha) / maxTotalAlpha) * strength * alpha * inner * ownColor.a;\n    ownColor.a = max(ownColor.a * knockout * (1. - hideObject), 0.0001);\n    vec3 mix1 = mix(ownColor.rgb, color.rgb, innerGlowAlpha / (innerGlowAlpha + ownColor.a));\n    vec3 mix2 = mix(mix1, color.rgb, outerGlowAlpha / (innerGlowAlpha + ownColor.a + outerGlowAlpha));\n    float resultAlpha = min(ownColor.a + outerGlowAlpha + innerGlowAlpha, 1.);\n    gl_FragColor = vec4(mix2 * resultAlpha, resultAlpha);\n}", i.primitive_frag = "precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void) {\n    gl_FragColor = vColor;\n}", i.texture_frag = "precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void) {\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor;\n}", t = i, e.EgretShaderLib = t, __reflect(t.prototype, "egret.web.EgretShaderLib")
    }(egret = egret || {});
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, EXML, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui, eui;
! function (t) {
    ! function (t) {
        var e, i = (e = egret.EventDispatcher, __extends(r, e), r.prototype.invalidateProperties = function (t) {
            this.invalidatePropertiesFlag || (this.invalidatePropertiesFlag = !0, this.listenersAttached || this.attachListeners()), this.targetLevel <= t.$nestLevel && (this.invalidateClientPropertiesFlag = !0), this.invalidatePropertiesQueue.insert(t)
        }, r.prototype.validateProperties = function () {
            for (var t = this.invalidatePropertiesQueue, e = t.shift(); e;) e.$stage && e.validateProperties(), e = t.shift();
            t.isEmpty() && (this.invalidatePropertiesFlag = !1)
        }, r.prototype.invalidateSize = function (t) {
            this.invalidateSizeFlag || (this.invalidateSizeFlag = !0, this.listenersAttached || this.attachListeners()), this.targetLevel <= t.$nestLevel && (this.invalidateClientSizeFlag = !0), this.invalidateSizeQueue.insert(t)
        }, r.prototype.validateSize = function () {
            for (var t = this.invalidateSizeQueue, e = t.pop(); e;) e.$stage && e.validateSize(), e = t.pop();
            t.isEmpty() && (this.invalidateSizeFlag = !1)
        }, r.prototype.invalidateDisplayList = function (t) {
            this.invalidateDisplayListFlag || (this.invalidateDisplayListFlag = !0, this.listenersAttached || this.attachListeners()), this.invalidateDisplayListQueue.insert(t)
        }, r.prototype.validateDisplayList = function () {
            for (var t = this.invalidateDisplayListQueue, e = t.shift(); e;) e.$stage && e.validateDisplayList(), e = t.shift();
            t.isEmpty() && (this.invalidateDisplayListFlag = !1)
        }, r.prototype.attachListeners = function () {
            this.eventDisplay.addEventListener(egret.Event.ENTER_FRAME, this.doPhasedInstantiationCallBack, this), this.eventDisplay.addEventListener(egret.Event.RENDER, this.doPhasedInstantiationCallBack, this), egret.sys.$invalidateRenderFlag = !0, this.listenersAttached = !0
        }, r.prototype.doPhasedInstantiationCallBack = function (t) {
            this.eventDisplay.removeEventListener(egret.Event.ENTER_FRAME, this.doPhasedInstantiationCallBack, this), this.eventDisplay.removeEventListener(egret.Event.RENDER, this.doPhasedInstantiationCallBack, this), this.doPhasedInstantiation()
        }, r.prototype.doPhasedInstantiation = function () {
            this.invalidatePropertiesFlag && this.validateProperties(), this.invalidateSizeFlag && this.validateSize(), this.invalidateDisplayListFlag && this.validateDisplayList(), this.invalidatePropertiesFlag || this.invalidateSizeFlag || this.invalidateDisplayListFlag ? this.attachListeners() : this.listenersAttached = !1
        }, r.prototype.validateClient = function (t) {
            var e, i = !1,
                r = this.targetLevel;
            this.targetLevel === Number.POSITIVE_INFINITY && (this.targetLevel = t.$nestLevel);
            for (var n = this.invalidatePropertiesQueue, o = this.invalidateSizeQueue, s = this.invalidateDisplayListQueue; !i;) {
                for (i = !0, e = n.removeSmallestChild(t); e;) e.$stage && e.validateProperties(), e = n.removeSmallestChild(t);
                for (n.isEmpty() && (this.invalidatePropertiesFlag = !1), this.invalidateClientPropertiesFlag = !1, e = o.removeLargestChild(t); e;) {
                    if (e.$stage && e.validateSize(), this.invalidateClientPropertiesFlag && (e = n.removeSmallestChild(t))) {
                        n.insert(e), i = !1;
                        break
                    }
                    e = o.removeLargestChild(t)
                }
                for (o.isEmpty() && (this.invalidateSizeFlag = !1), this.invalidateClientPropertiesFlag = !1, this.invalidateClientSizeFlag = !1, e = s.removeSmallestChild(t); e;) {
                    if (e.$stage && e.validateDisplayList(), this.invalidateClientPropertiesFlag && (e = n.removeSmallestChild(t))) {
                        n.insert(e), i = !1;
                        break
                    }
                    if (this.invalidateClientSizeFlag && (e = o.removeLargestChild(t))) {
                        o.insert(e), i = !1;
                        break
                    }
                    e = s.removeSmallestChild(t)
                }
                s.isEmpty() && (this.invalidateDisplayListFlag = !1)
            }
            r === Number.POSITIVE_INFINITY && (this.targetLevel = Number.POSITIVE_INFINITY)
        }, r);

        function r() {
            var t = e.call(this) || this;
            return t.targetLevel = Number.POSITIVE_INFINITY, t.invalidatePropertiesFlag = !1, t.invalidateClientPropertiesFlag = !1, t.invalidatePropertiesQueue = new n, t.invalidateSizeFlag = !1, t.invalidateClientSizeFlag = !1, t.invalidateSizeQueue = new n, t.invalidateDisplayListFlag = !1, t.invalidateDisplayListQueue = new n, t.eventDisplay = new egret.Bitmap, t.listenersAttached = !1, t
        }
        t.Validator = i, __reflect(i.prototype, "eui.sys.Validator");
        var n = (o.prototype.insert = function (t) {
            var e = t.$nestLevel;
            this.maxDepth < this.minDepth ? this.minDepth = this.maxDepth = e : (e < this.minDepth && (this.minDepth = e), e > this.maxDepth && (this.maxDepth = e)), (this.depthBins[e] || (this.depthBins[e] = new s)).insert(t)
        }, o.prototype.pop = function () {
            var t, e = this.minDepth;
            if (e <= this.maxDepth) {
                for (var i = this.depthBins[this.maxDepth]; !i || 0 === i.length;) {
                    if (this.maxDepth--, this.maxDepth < e) return null;
                    i = this.depthBins[this.maxDepth]
                }
                for (t = i.pop(); !(i && 0 != i.length || (this.maxDepth--, this.maxDepth < e));) i = this.depthBins[this.maxDepth]
            }
            return t
        }, o.prototype.shift = function () {
            var t, e = this.maxDepth;
            if (this.minDepth <= e) {
                for (var i = this.depthBins[this.minDepth]; !i || 0 === i.length;) {
                    if (this.minDepth++, this.minDepth > e) return null;
                    i = this.depthBins[this.minDepth]
                }
                for (t = i.pop(); !(i && 0 != i.length || (this.minDepth++, this.minDepth > e));) i = this.depthBins[this.minDepth]
            }
            return t
        }, o.prototype.removeLargestChild = function (t) {
            for (var e = t.$hashCode, i = t.$nestLevel, r = this.maxDepth, n = i; n <= r;) {
                var o = this.depthBins[r];
                if (o && 0 < o.length) {
                    if (r === i) {
                        if (o.map[e]) return o.remove(t), t
                    } else {
                        if (!egret.is(t, "egret.DisplayObjectContainer")) break;
                        for (var s = o.items, a = o.length, h = 0; h < a; h++) {
                            var l = s[h];
                            if (t.contains(l)) return o.remove(l), l
                        }
                    }
                    r--
                } else if (r == this.maxDepth && this.maxDepth--, --r < n) break
            }
            return null
        }, o.prototype.removeSmallestChild = function (t) {
            for (var e = t.$nestLevel, i = e, r = this.maxDepth, n = t.$hashCode; i <= r;) {
                var o = this.depthBins[i];
                if (o && 0 < o.length) {
                    if (i === e) {
                        if (o.map[n]) return o.remove(t), t
                    } else {
                        if (!egret.is(t, "egret.DisplayObjectContainer")) break;
                        for (var s = o.items, a = o.length, h = 0; h < a; h++) {
                            var l = s[h];
                            if (t.contains(l)) return o.remove(l), l
                        }
                    }
                    i++
                } else if (i == this.minDepth && this.minDepth++, r < ++i) break
            }
            return null
        }, o.prototype.isEmpty = function () {
            return this.minDepth > this.maxDepth
        }, o);

        function o() {
            this.depthBins = {}, this.minDepth = 0, this.maxDepth = -1
        }
        __reflect(n.prototype, "DepthQueue");
        var s = (a.prototype.insert = function (t) {
            var e = t.$hashCode;
            this.map[e] || (this.map[e] = !0, this.length++, this.items.push(t))
        }, a.prototype.pop = function () {
            var t = this.items.pop();
            return t && (this.length--, 0 === this.length ? this.map = {} : this.map[t.$hashCode] = !1), t
        }, a.prototype.remove = function (t) {
            var e = this.items.indexOf(t);
            0 <= e && (this.items.splice(e, 1), this.length--, 0 === this.length ? this.map = {} : this.map[t.$hashCode] = !1)
        }, a);

        function a() {
            this.map = {}, this.items = [], this.length = 0
        }
        __reflect(s.prototype, "DepthBin")
    }(t.sys || (t.sys = {}))
}(eui = eui || {}), (eui || (eui = {})).registerProperty = function (t, e, i, r) {
        t || egret.$error(1003, "classDefinition"), t.prototype || egret.$error(1012, "classDefinition"), e || egret.$error(1003, "property"), i || egret.$error(1003, "type"), (t = t.prototype).__meta__ = t.__meta__ || {}, t.__meta__[e] = i, r && (t.__defaultProperty__ = e)
    },
    function (s) {
        var r, t = (r = egret.HashObject, __extends(e, r), e.prototype.initialize = function (t, e) {
            for (var i = this.overrides, r = i.length, n = 0; n < r; n++) {
                var o = i[n];
                o instanceof s.AddItems && ((o = t[o.target]) && o instanceof s.Image && !o.$parent && (e.addChild(o), e.removeChild(o)))
            }
        }, e);

        function e(t, e) {
            void 0 === e && (e = []);
            var i = r.call(this) || this;
            return i.name = t, i.overrides = e, i
        }
        s.State = t, __reflect(t.prototype, "eui.State")
    }(eui = eui || {}),
    function (t) {
        ! function (t) {
            var e = (Object.defineProperty(i.prototype, "states", {
                get: function () {
                    return this.$stateValues.states
                },
                set: function (t) {
                    for (var e = this.$stateValues, i = {}, r = (e.states = t = t || []).length, n = 0; n < r; n++) {
                        var o = t[n];
                        i[o.name] = o
                    }
                    e.statesMap = i, e.parent && this.commitCurrentState()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(i.prototype, "currentState", {
                get: function () {
                    return this.$stateValues.currentState
                },
                set: function (t) {
                    var e = this.$stateValues;
                    e.explicitState = t, e.currentState = t, this.commitCurrentState()
                },
                enumerable: !0,
                configurable: !0
            }), i.prototype.commitCurrentState = function () {
                var t = this.$stateValues;
                if (t.parent) {
                    if (!t.statesMap[t.currentState]) {
                        if (!(0 < t.states.length)) return;
                        t.currentState = t.states[0].name
                    }
                    if (t.oldState != t.currentState) {
                        var e = t.parent,
                            i = t.statesMap[t.oldState];
                        if (i)
                            for (var r = (o = i.overrides).length, n = 0; n < r; n++) o[n].remove(this, e);
                        if (t.oldState = t.currentState, i = t.statesMap[t.currentState])
                            for (var o, s = (o = i.overrides).length, n = 0; n < s; n++) o[n].apply(this, e)
                    }
                }
            }, i.prototype.hasState = function (t) {
                return !!this.$stateValues.statesMap[t]
            }, i.prototype.initializeStates = function (t) {
                this.$stateValues.intialized = !0;
                for (var e = this.states, i = e.length, r = 0; r < i; r++) e[r].initialize(this, t)
            }, i);

            function i() {}
            t.StateClient = e, __reflect(e.prototype, "eui.sys.StateClient");
            e = function () {
                this.intialized = !1, this.statesMap = {}, this.states = [], this.oldState = null, this.explicitState = null, this.currentState = null, this.parent = null, this.stateIsDirty = !1
            };
            t.StateValues = e, __reflect(e.prototype, "eui.sys.StateValues")
        }(t.sys || (t.sys = {}))
    }(eui = eui || {}),
    function (i) {
        i.getAssets = function (t, e) {
            (egret.getImplementation("eui.IAssetAdapter") || new i.DefaultAssetAdapter).getAsset(t, function (t) {
                e(t)
            }, this)
        }, i.getTheme = function (t, e) {
            (egret.getImplementation("eui.IThemeAdapter") || new i.DefaultThemeAdapter).getTheme(t, function (t) {
                e(t)
            }, function (t) {
                console.log(t)
            }, this)
        }
    }(eui = eui || {}),
    function (n) {
        var u, o, e, i, s;

        function c(t) {
            return 1 === t.a && 0 === t.b && 0 === t.c && 1 === t.d
        }

        function t() {
            var t = e.call(this) || this;
            return t.initializeUIValues(), t
        }

        function a(t, e) {
            for (var i in e) "prototype" != i && e.hasOwnProperty(i) && (t[i] = e[i]);
            for (var r = t.prototype, n = e.prototype, o = Object.keys(n), s = o.length, a = 0; a < s; a++) {
                var h, l = o[a];
                "__meta__" != l && (r.hasOwnProperty(l) && ! function (t, e) {
                    if ("function" == typeof t[e]) {
                        var i = t[e].toString(),
                            t = i.indexOf("{"),
                            e = i.lastIndexOf("}");
                        return "" == (i = i.substring(t + 1, e)).trim()
                    }
                }(r, l) || (h = Object.getOwnPropertyDescriptor(n, l), Object.defineProperty(r, l, h)))
            }
        }
        u = n.sys || (n.sys = {}), o = "eui.UIComponent", i = new u.Validator, e = egret.DisplayObject, __extends(t, e), t.prototype.initializeUIValues = function () {
            this.$UIComponent = {
                0: NaN,
                1: NaN,
                2: NaN,
                3: NaN,
                4: NaN,
                5: NaN,
                6: NaN,
                7: NaN,
                8: NaN,
                9: NaN,
                10: 0,
                11: 0,
                12: 0,
                13: 1e5,
                14: 0,
                15: 1e5,
                16: 0,
                17: 0,
                18: NaN,
                19: NaN,
                20: 0,
                21: 0,
                22: 0,
                23: 0,
                24: !0,
                25: !0,
                26: !0,
                27: !1,
                28: !1,
                29: !1
            }, this.$includeInLayout = !0, this.$touchEnabled = !0
        }, t.prototype.createChildren = function () {}, t.prototype.childrenCreated = function () {}, t.prototype.commitProperties = function () {
            var t = this.$UIComponent;
            t[22] == t[10] && t[23] == t[11] || (this.dispatchEventWith(egret.Event.RESIZE), t[22] = t[10], t[23] = t[11]), t[20] == this.$getX() && t[21] == this.$getY() || (n.UIEvent.dispatchUIEvent(this, n.UIEvent.MOVE), t[20] = this.$getX(), t[21] = this.$getY())
        }, t.prototype.measure = function () {}, t.prototype.updateDisplayList = function (t, e) {}, Object.defineProperty(t.prototype, "includeInLayout", {
            get: function () {
                return this.$includeInLayout
            },
            set: function (t) {
                this.$includeInLayout !== (t = !!t) && (this.$includeInLayout = !0, this.invalidateParentLayout(), this.$includeInLayout = t)
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.$onAddToStage = function (t, e) {
            this.$super.$onAddToStage.call(this, t, e), this.checkInvalidateFlag();
            e = this.$UIComponent;
            e[29] || (e[29] = !0, this.createChildren(), this.childrenCreated(), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CREATION_COMPLETE))
        }, t.prototype.checkInvalidateFlag = function (t) {
            var e = this.$UIComponent;
            e[24] && i.invalidateProperties(this), e[25] && i.invalidateSize(this), e[26] && i.invalidateDisplayList(this)
        }, Object.defineProperty(t.prototype, "left", {
            get: function () {
                return this.$UIComponent[0]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[0] !== t && (e[0] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "right", {
            get: function () {
                return this.$UIComponent[1]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[1] !== t && (e[1] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "top", {
            get: function () {
                return this.$UIComponent[2]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[2] !== t && (e[2] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "bottom", {
            get: function () {
                return this.$UIComponent[3]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[3] != t && (e[3] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "horizontalCenter", {
            get: function () {
                return this.$UIComponent[4]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[4] !== t && (e[4] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "verticalCenter", {
            get: function () {
                return this.$UIComponent[5]
            },
            set: function (t) {
                t = t && "number" != typeof t ? t.toString().trim() : +t;
                var e = this.$UIComponent;
                e[5] !== t && (e[5] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "percentWidth", {
            get: function () {
                return this.$UIComponent[6]
            },
            set: function (t) {
                var e = this.$UIComponent;
                e[6] !== (t = +t) && (e[6] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "percentHeight", {
            get: function () {
                return this.$UIComponent[7]
            },
            set: function (t) {
                var e = this.$UIComponent;
                e[7] !== (t = +t) && (e[7] = t, this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "explicitWidth", {
            get: function () {
                return this.$UIComponent[8]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "explicitHeight", {
            get: function () {
                return this.$UIComponent[9]
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.$getWidth = function () {
            return this.validateSizeNow(), this.$UIComponent[10]
        }, t.prototype.$setWidth = function (t) {
            var e = this.$UIComponent;
            return !((t = +t) < 0 || e[10] === t && e[8] === t) && (e[8] = t, isNaN(t) && this.invalidateSize(), this.invalidateProperties(), this.invalidateDisplayList(), this.invalidateParentLayout(), !0)
        }, t.prototype.validateSizeNow = function () {
            this.validateSize(!0), this.updateFinalSize()
        }, t.prototype.$getHeight = function () {
            return this.validateSizeNow(), this.$UIComponent[11]
        }, t.prototype.$setHeight = function (t) {
            var e = this.$UIComponent;
            return !((t = +t) < 0 || e[11] === t && e[9] === t) && (e[9] = t, isNaN(t) && this.invalidateSize(), this.invalidateProperties(), this.invalidateDisplayList(), this.invalidateParentLayout(), !0)
        }, Object.defineProperty(t.prototype, "minWidth", {
            get: function () {
                return this.$UIComponent[12]
            },
            set: function (t) {
                var e = this.$UIComponent;
                (t = +t || 0) < 0 || e[12] === t || (e[12] = t, this.invalidateSize(), this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "maxWidth", {
            get: function () {
                return this.$UIComponent[13]
            },
            set: function (t) {
                var e = this.$UIComponent;
                (t = +t || 0) < 0 || e[13] === t || (e[13] = t, this.invalidateSize(), this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "minHeight", {
            get: function () {
                return this.$UIComponent[14]
            },
            set: function (t) {
                var e = this.$UIComponent;
                (t = +t || 0) < 0 || e[14] === t || (e[14] = t, this.invalidateSize(), this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(t.prototype, "maxHeight", {
            get: function () {
                return this.$UIComponent[15]
            },
            set: function (t) {
                var e = this.$UIComponent;
                (t = +t || 0) < 0 || e[15] === t || (e[15] = t, this.invalidateSize(), this.invalidateParentLayout())
            },
            enumerable: !0,
            configurable: !0
        }), t.prototype.setMeasuredSize = function (t, e) {
            var i = this.$UIComponent;
            i[16] = Math.ceil(+t || 0), i[17] = Math.ceil(+e || 0)
        }, t.prototype.setActualSize = function (t, e) {
            var i = !1,
                r = this.$UIComponent;
            r[10] !== t && (r[10] = t, i = !0), r[11] !== e && (r[11] = e, i = !0), i && (this.invalidateDisplayList(), this.dispatchEventWith(egret.Event.RESIZE))
        }, t.prototype.$invalidateMatrix = function () {
            this.$super.$invalidateMatrix.call(this), this.invalidateParentLayout()
        }, t.prototype.$setMatrix = function (t, e) {
            return this.$super.$setMatrix.call(this, t, e = void 0 === e ? !0 : e), this.invalidateParentLayout(), !0
        }, t.prototype.$setAnchorOffsetX = function (t) {
            return this.$super.$setAnchorOffsetX.call(this, t), this.invalidateParentLayout(), !0
        }, t.prototype.$setAnchorOffsetY = function (t) {
            return this.$super.$setAnchorOffsetY.call(this, t), this.invalidateParentLayout(), !0
        }, t.prototype.$setX = function (t) {
            t = this.$super.$setX.call(this, t);
            return t && (this.invalidateParentLayout(), this.invalidateProperties()), t
        }, t.prototype.$setY = function (t) {
            t = this.$super.$setY.call(this, t);
            return t && (this.invalidateParentLayout(), this.invalidateProperties()), t
        }, t.prototype.invalidateProperties = function () {
            var t = this.$UIComponent;
            t[24] || (t[24] = !0, this.$stage && i.invalidateProperties(this))
        }, t.prototype.validateProperties = function () {
            var t = this.$UIComponent;
            t[24] && (this.commitProperties(), t[24] = !1)
        }, t.prototype.invalidateSize = function () {
            var t = this.$UIComponent;
            t[25] || (t[25] = !0, this.$stage && i.invalidateSize(this))
        }, t.prototype.validateSize = function (t) {
            if (t) {
                var e = this.$children;
                if (e)
                    for (var i = e.length, r = 0; r < i; r++) {
                        var n = e[r];
                        egret.is(n, o) && n.validateSize(!0)
                    }
            }
            t = this.$UIComponent;
            t[25] && (this.measureSizes() && (this.invalidateDisplayList(), this.invalidateParentLayout()), t[25] = !1)
        }, t.prototype.measureSizes = function () {
            var t = !1,
                e = this.$UIComponent;
            if (!e[25]) return t;
            (isNaN(e[8]) || isNaN(e[9])) && (this.measure(), e[16] < e[12] && (e[16] = e[12]), e[16] > e[13] && (e[16] = e[13]), e[17] < e[14] && (e[17] = e[14]), e[17] > e[15] && (e[17] = e[15]));
            var i = this.getPreferredUWidth(),
                r = this.getPreferredUHeight();
            return i === e[18] && r === e[19] || (e[18] = i, e[19] = r, t = !0), t
        }, t.prototype.invalidateDisplayList = function () {
            var t = this.$UIComponent;
            t[26] || (t[26] = !0, this.$stage && i.invalidateDisplayList(this))
        }, t.prototype.validateDisplayList = function () {
            var t = this.$UIComponent;
            t[26] && (this.updateFinalSize(), this.updateDisplayList(t[10], t[11]), t[26] = !1)
        }, t.prototype.updateFinalSize = function () {
            var t = 0,
                e = 0,
                i = this.$UIComponent,
                t = i[27] ? i[10] : isNaN(i[8]) ? i[16] : i[8],
                e = i[28] ? i[11] : isNaN(i[9]) ? i[17] : i[9];
            this.setActualSize(t, e)
        }, t.prototype.validateNow = function () {
            this.$stage && i.validateClient(this)
        }, t.prototype.invalidateParentLayout = function () {
            var t = this.$parent;
            t && this.$includeInLayout && egret.is(t, o) && (t.invalidateSize(), t.invalidateDisplayList())
        }, t.prototype.setLayoutBoundsSize = function (t, e) {
            var i, r, n, o, s, a, h, l;
            t = +t, (e = +e) < 0 || t < 0 || (r = (i = this.$UIComponent)[13], l = i[15], n = Math.min(i[12], r), o = Math.min(i[14], l), s = isNaN(t) ? (i[27] = !1, this.getPreferredUWidth()) : (i[27] = !0, Math.max(n, Math.min(r, t))), a = isNaN(e) ? (i[28] = !1, this.getPreferredUHeight()) : (i[28] = !0, Math.max(o, Math.min(l, e))), c(h = this.getAnchorMatrix()) ? this.setActualSize(s, a) : (l = (l = u.MatrixUtil.fitBounds(t, e, h, i[8], i[9], this.getPreferredUWidth(), this.getPreferredUHeight(), n, o, r, l)) || egret.Point.create(n, o), this.setActualSize(l.x, l.y), egret.Point.release(l)))
        }, t.prototype.setLayoutBoundsPosition = function (t, e) {
            var i;
            c(this.$getMatrix()) && 0 == this.anchorOffsetX && 0 == this.anchorOffsetY || (i = egret.$TempRectangle, this.getLayoutBounds(i), t += this.$getX() - i.x, e += this.$getY() - i.y);
            t = this.$super.$setX.call(this, t);
            (this.$super.$setY.call(this, e) || t) && n.UIEvent.dispatchUIEvent(this, n.UIEvent.MOVE)
        }, t.prototype.getLayoutBounds = function (t) {
            var e = this.$UIComponent,
                i = e[27] ? e[10] : isNaN(e[8]) ? e[16] : e[8],
                e = e[28] ? e[11] : isNaN(e[9]) ? e[17] : e[9];
            this.applyMatrix(t, i, e)
        }, t.prototype.getPreferredUWidth = function () {
            var t = this.$UIComponent;
            return isNaN(t[8]) ? t[16] : t[8]
        }, t.prototype.getPreferredUHeight = function () {
            var t = this.$UIComponent;
            return isNaN(t[9]) ? t[17] : t[9]
        }, t.prototype.getPreferredBounds = function (t) {
            var e = this.getPreferredUWidth(),
                i = this.getPreferredUHeight();
            this.applyMatrix(t, e, i)
        }, t.prototype.applyMatrix = function (t, e, i) {
            t.setTo(0, 0, e, i);
            i = this.getAnchorMatrix();
            c(i) ? (t.x += i.tx, t.y += i.ty) : i.$transformBounds(t)
        }, t.prototype.getAnchorMatrix = function () {
            var t = this.$getMatrix(),
                e = this.anchorOffsetX,
                i = this.anchorOffsetY;
            if (0 == e && 0 == i) return t;
            var r = egret.$TempMatrix;
            return t.$preMultiplyInto(r.setTo(1, 0, 0, 1, -e, -i), r), r
        }, s = t, u.UIComponentImpl = s, __reflect(s.prototype, "eui.sys.UIComponentImpl", ["eui.UIComponent", "egret.DisplayObject"]), u.mixin = a, u.implementUIComponent = function (t, e, i) {
            a(t, s);
            var r = t.prototype;
            r.$super = e.prototype, n.registerProperty(t, "left", "Percentage"), n.registerProperty(t, "right", "Percentage"), n.registerProperty(t, "top", "Percentage"), n.registerProperty(t, "bottom", "Percentage"), n.registerProperty(t, "horizontalCenter", "Percentage"), n.registerProperty(t, "verticalCenter", "Percentage"), i && (r.$childAdded = function (t, e) {
                this.invalidateSize(), this.invalidateDisplayList()
            }, r.$childRemoved = function (t, e) {
                this.invalidateSize(), this.invalidateDisplayList()
            }), Object.defineProperty(r, "preferredWidth", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getPreferredBounds(t), t.width
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "preferredHeight", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getPreferredBounds(t), t.height
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "preferredX", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getPreferredBounds(t), t.x
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "preferredY", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getPreferredBounds(t), t.y
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutBoundsX", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getLayoutBounds(t), t.x
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutBoundsY", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getLayoutBounds(t), t.y
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutBoundsWidth", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getLayoutBounds(t), t.width
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutBoundsHeight", {
                get: function () {
                    var t = egret.$TempRectangle;
                    return this.getLayoutBounds(t), t.height
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "measuredWidth", {
                get: function () {
                    return this.$UIComponent[16]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "measuredHeight", {
                get: function () {
                    return this.$UIComponent[17]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutWidthExplicitlySet", {
                get: function () {
                    return this.$UIComponent[27]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "layoutHeightExplicitlySet", {
                get: function () {
                    return this.$UIComponent[28]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "invalidatePropertiesFlag", {
                get: function () {
                    return this.$UIComponent[24]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "invalidateSizeFlag", {
                get: function () {
                    return this.$UIComponent[25]
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(r, "invalidateDisplayListFlag", {
                get: function () {
                    return this.$UIComponent[26]
                },
                enumerable: !0,
                configurable: !0
            })
        }
    }(eui = eui || {}),
    function (o) {
        var r, t = (r = egret.DisplayObjectContainer, __extends(e, r), Object.defineProperty(e.prototype, "elementsContent", {
            set: function (t) {
                if (t)
                    for (var e = t.length, i = 0; i < e; i++) this.addChild(t[i])
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "layout", {
            get: function () {
                return this.$layout
            },
            set: function (t) {
                this.$setLayout(t)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setLayout = function (t) {
            return this.$layout != t && (this.$layout && (this.$layout.target = null), (this.$layout = t) && (t.target = this), this.invalidateSize(), this.invalidateDisplayList(), !0)
        }, Object.defineProperty(e.prototype, "contentWidth", {
            get: function () {
                return this.$Group[0]
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "contentHeight", {
            get: function () {
                return this.$Group[1]
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setContentSize = function (t, e) {
            t = Math.ceil(+t || 0), e = Math.ceil(+e || 0);
            var i = this.$Group,
                r = i[0] !== t,
                n = i[1] !== e;
            (r || n) && (i[0] = t, i[1] = e, r && o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "contentWidth"), n && o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "contentHeight"))
        }, Object.defineProperty(e.prototype, "scrollEnabled", {
            get: function () {
                return this.$Group[4]
            },
            set: function (t) {
                var e = this.$Group;
                (t = !!t) !== e[4] && (e[4] = t, this.updateScrollRect())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "scrollH", {
            get: function () {
                return this.$Group[2]
            },
            set: function (t) {
                var e = this.$Group;
                (t = +t || 0) !== e[2] && (e[2] = t, this.updateScrollRect() && this.$layout && this.$layout.scrollPositionChanged(), o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "scrollH"))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "scrollV", {
            get: function () {
                return this.$Group[3]
            },
            set: function (t) {
                var e = this.$Group;
                (t = +t || 0) != e[3] && (e[3] = t, this.updateScrollRect() && this.$layout && this.$layout.scrollPositionChanged(), o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "scrollV"))
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.updateScrollRect = function () {
            var t, e = this.$Group,
                i = e[4];
            return i ? (t = this.$UIComponent, this.scrollRect = egret.$TempRectangle.setTo(e[2], e[3], t[10], t[11])) : this.$scrollRect && (this.scrollRect = null), i
        }, Object.defineProperty(e.prototype, "numElements", {
            get: function () {
                return this.$children.length
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.getElementAt = function (t) {
            return this.$children[t]
        }, e.prototype.getVirtualElementAt = function (t) {
            return this.getElementAt(t)
        }, e.prototype.setVirtualElementIndicesInView = function (t, e) {}, Object.defineProperty(e.prototype, "touchThrough", {
            get: function () {
                return this.$Group[5]
            },
            set: function (t) {
                this.$Group[5] = !!t
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$hitTest = function (t, e) {
            var i = r.prototype.$hitTest.call(this, t, e);
            if (i || this.$Group[5]) return i;
            if (!this.$visible || !this.touchEnabled) return null;
            i = this.globalToLocal(t, e, egret.$TempPoint), t = this.$UIComponent, e = egret.$TempRectangle.setTo(0, 0, t[10], t[11]), t = this.$scrollRect;
            return t && (e.x = t.x, e.y = t.y), e.contains(i.x, i.y) ? this : null
        }, e.prototype.invalidateState = function () {
            var t = this.$stateValues;
            t.stateIsDirty || (t.stateIsDirty = !0, this.invalidateProperties())
        }, e.prototype.getCurrentState = function () {
            return ""
        }, e.prototype.createChildren = function () {
            this.$layout || this.$setLayout(new o.BasicLayout), this.initializeStates(this.$stage)
        }, e.prototype.childrenCreated = function () {}, e.prototype.commitProperties = function () {
            o.sys.UIComponentImpl.prototype.commitProperties.call(this);
            var t = this.$stateValues;
            t.stateIsDirty && (t.stateIsDirty = !1, t.explicitState || (t.currentState = this.getCurrentState(), this.commitCurrentState()))
        }, e.prototype.measure = function () {
            this.$layout ? this.$layout.measure() : this.setMeasuredSize(0, 0)
        }, e.prototype.updateDisplayList = function (t, e) {
            this.$layout && this.$layout.updateDisplayList(t, e), this.updateScrollRect()
        }, e.prototype.invalidateParentLayout = function () {}, e.prototype.setMeasuredSize = function (t, e) {}, e.prototype.invalidateProperties = function () {}, e.prototype.validateProperties = function () {}, e.prototype.invalidateSize = function () {}, e.prototype.validateSize = function (t) {}, e.prototype.invalidateDisplayList = function () {}, e.prototype.validateDisplayList = function () {}, e.prototype.validateNow = function () {}, e.prototype.setLayoutBoundsSize = function (t, e) {}, e.prototype.setLayoutBoundsPosition = function (t, e) {}, e.prototype.getLayoutBounds = function (t) {}, e.prototype.getPreferredBounds = function (t) {}, e);

        function e() {
            var t = r.call(this) || this;
            return t.$layout = null, t.$stateValues = new o.sys.StateValues, t.initializeUIValues(), t.$Group = {
                0: 0,
                1: 0,
                2: 0,
                3: 0,
                4: !1,
                5: !1
            }, t.$stateValues.parent = t
        }
        o.Group = t, __reflect(t.prototype, "eui.Group", ["eui.IViewport", "eui.UIComponent", "egret.DisplayObject"]), o.sys.implementUIComponent(t, egret.DisplayObjectContainer, !0), o.sys.mixin(t, o.sys.StateClient), o.registerProperty(t, "elementsContent", "Array", !0), o.registerProperty(t, "states", "State[]")
    }(eui = eui || {}),
    function (t) {
        var i = "__bindables__";
        t.registerBindable = function (t, e) {
            t || egret.$error(1003, "instance"), e || egret.$error(1003, "property"), t.hasOwnProperty(i) ? t[i].push(e) : (e = [e], t[i] && (e = t[i].concat(e)), t[i] = e)
        }
    }(eui = eui || {}),
    function (c) {
        var i, t = (i = egret.DisplayObjectContainer, __extends(e, i), Object.defineProperty(e.prototype, "hostComponentKey", {
            get: function () {
                return this.$Component[0]
            },
            set: function (t) {
                this.$Component[0] = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "skinName", {
            get: function () {
                return this.$Component[1]
            },
            set: function (t) {
                var e = this.$Component;
                e[5] = !0, e[1] != t && (t ? e[1] = t : !(t = egret.getImplementation("eui.Theme")) || (t = t.getSkinName(this)) && (e[1] = t), this.$parseSkinName())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$parseSkinName = function () {
            var t, e = this.skinName;
            if (e)
                if (e.prototype) t = new e;
                else if ("string" == typeof e) {
                var i = void 0,
                    r = e.trim();
                if ("<" == r.charAt(0)) i = EXML.parse(r);
                else if (!(i = egret.getDefinitionByName(e)) && -1 != r.toLowerCase().indexOf(".exml")) return void EXML.load(e, this.onExmlLoaded, this, !0);
                i && (t = new i)
            } else t = e;
            this.setSkin(t)
        }, e.prototype.onExmlLoaded = function (t, e) {
            this.skinName == e && (t = new t, this.setSkin(t))
        }, Object.defineProperty(e.prototype, "skin", {
            get: function () {
                return this.$Component[8]
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setSkin = function (t) {
            !t || t instanceof c.Skin || (t = null, egret.$error(2202));
            var e = this.$Component,
                i = e[8];
            if (i) {
                for (var r = (s = i.skinParts).length, n = 0; n < r; n++) this[l = s[n]] && this.setSkinPart(l, null);
                if (a = i.$elementsContent)
                    for (r = a.length, n = 0; n < r; n++) {
                        var o = a[n];
                        o.$parent == this && this.removeChild(o)
                    }
                i.hostComponent = null
            }
            if (e[8] = t) {
                for (var s, a, h = (s = t.skinParts).length, n = 0; n < h; n++) {
                    var l, u = t[l = s[n]];
                    u && this.setSkinPart(l, u)
                }
                if (a = t.$elementsContent)
                    for (n = a.length - 1; 0 <= n; n--) this.addChildAt(a[n], 0);
                t.hostComponent = this
            }
            this.invalidateSize(), this.invalidateDisplayList(), this.dispatchEventWith(egret.Event.COMPLETE)
        }, e.prototype.setSkinPart = function (t, e) {
            var i = this[t];
            i && this.partRemoved(t, i), (this[t] = e) && this.partAdded(t, e)
        }, e.prototype.partAdded = function (t, e) {}, e.prototype.partRemoved = function (t, e) {}, e.prototype.$setTouchChildren = function (t) {
            var e = this.$Component;
            return e[6] = t = !!t, !e[3] || (e[6] = t, i.prototype.$setTouchChildren.call(this, t))
        }, e.prototype.$setTouchEnabled = function (t) {
            var e = this.$Component;
            return e[7] = t = !!t, !e[3] || i.prototype.$setTouchEnabled.call(this, t)
        }, Object.defineProperty(e.prototype, "enabled", {
            get: function () {
                return this.$Component[3]
            },
            set: function (t) {
                this.$setEnabled(t = !!t)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setEnabled = function (t) {
            var e = this.$Component;
            return t !== e[3] && ((e[3] = t) ? (this.$touchEnabled = e[7], this.$touchChildren = e[6]) : (this.$touchEnabled = !1, this.$touchChildren = !1), this.invalidateState(), !0)
        }, Object.defineProperty(e.prototype, "currentState", {
            get: function () {
                var t = this.$Component;
                return t[2] || this.getCurrentState()
            },
            set: function (t) {
                var e = this.$Component;
                t != e[2] && (e[2] = t, this.invalidateState())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.invalidateState = function () {
            var t = this.$Component;
            t[4] || (t[4] = !0, this.invalidateProperties())
        }, e.prototype.getCurrentState = function () {
            return ""
        }, e.prototype.createChildren = function () {
            var t, e = this.$Component;
            e[1] || (!(t = egret.getImplementation("eui.Theme")) || (t = t.getSkinName(this)) && (e[1] = t, this.$parseSkinName()))
        }, e.prototype.childrenCreated = function () {}, e.prototype.commitProperties = function () {
            c.sys.UIComponentImpl.prototype.commitProperties.call(this);
            var t = this.$Component;
            t[4] && (t[4] = !1, t[8] && (t[8].currentState = this.currentState))
        }, e.prototype.measure = function () {
            c.sys.measure(this);
            var t, e = this.$Component[8];
            e && (t = this.$UIComponent, isNaN(e.width) ? (t[16] < e.minWidth && (t[16] = e.minWidth), t[16] > e.maxWidth && (t[16] = e.maxWidth)) : t[16] = e.width, isNaN(e.height) ? (t[17] < e.minHeight && (t[17] = e.minHeight), t[17] > e.maxHeight && (t[17] = e.maxHeight)) : t[17] = e.height)
        }, e.prototype.updateDisplayList = function (t, e) {
            c.sys.updateDisplayList(this, t, e)
        }, e.prototype.invalidateParentLayout = function () {}, e.prototype.setMeasuredSize = function (t, e) {}, e.prototype.invalidateProperties = function () {}, e.prototype.validateProperties = function () {}, e.prototype.invalidateSize = function () {}, e.prototype.validateSize = function (t) {}, e.prototype.invalidateDisplayList = function () {}, e.prototype.validateDisplayList = function () {}, e.prototype.validateNow = function () {}, e.prototype.setLayoutBoundsSize = function (t, e) {}, e.prototype.setLayoutBoundsPosition = function (t, e) {}, e.prototype.getLayoutBounds = function (t) {}, e.prototype.getPreferredBounds = function (t) {}, e);

        function e() {
            var t = i.call(this) || this;
            return t.initializeUIValues(), t.$Component = {
                0: null,
                1: null,
                2: "",
                3: !0,
                4: !1,
                5: !1,
                6: !0,
                7: !0,
                8: null
            }, t.$touchEnabled = !0, t
        }
        c.Component = t, __reflect(t.prototype, "eui.Component", ["eui.UIComponent", "egret.DisplayObject"]), c.registerProperty(t, "skinName", "Class"), c.sys.implementUIComponent(t, egret.DisplayObjectContainer, !0)
    }(eui = eui || {}),
    function (c) {
        var p, t = (p = c.Group, __extends(e, p), Object.defineProperty(e.prototype, "useVirtualLayout", {
            get: function () {
                return this.$layout ? this.$layout.$useVirtualLayout : this.$DataGroup[0]
            },
            set: function (t) {
                var e = this.$DataGroup;
                (t = !!t) !== e[0] && (e[0] = t, this.$layout && (this.$layout.useVirtualLayout = t))
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setLayout = function (t) {
            if (t == this.$layout) return !1;
            this.$layout && (this.$layout.setTypicalSize(0, 0), this.$layout.removeEventListener("useVirtualLayoutChanged", this.onUseVirtualLayoutChanged, this)), this.$layout && t && this.$layout.$useVirtualLayout != t.$useVirtualLayout && this.onUseVirtualLayoutChanged();
            var e, i = p.prototype.$setLayout.call(this, t);
            return t && ((e = this.$DataGroup[9]) && t.setTypicalSize(e.width, e.height), t.useVirtualLayout = this.$DataGroup[0], t.addEventListener("useVirtualLayoutChanged", this.onUseVirtualLayoutChanged, this)), i
        }, e.prototype.onUseVirtualLayoutChanged = function (t) {
            var e = this.$DataGroup;
            e[1] = !0, e[10] = !0, this.removeDataProviderListener(), this.invalidateProperties()
        }, e.prototype.setVirtualElementIndicesInView = function (t, e) {
            if (this.$layout && this.$layout.$useVirtualLayout)
                for (var i = this.$indexToRenderer, r = Object.keys(i), n = r.length, o = 0; o < n; o++) {
                    var s = +r[o];
                    (s < t || e < s) && this.freeRendererByIndex(s)
                }
        }, e.prototype.getElementAt = function (t) {
            return this.$indexToRenderer[t]
        }, e.prototype.getVirtualElementAt = function (t) {
            if ((t = 0 | +t) < 0 || t >= this.$dataProvider.length) return null;
            var e, i, r = this.$indexToRenderer[t];
            return r || (e = this.$dataProvider.getItemAt(t), r = this.createVirtualRenderer(e), this.$indexToRenderer[t] = r, this.updateRenderer(r, t, e), (i = this.$DataGroup)[4] && (r.validateNow(), i[4] = !1, this.rendererAdded(r, t, e))), r
        }, e.prototype.freeRendererByIndex = function (t) {
            var e = this.$indexToRenderer[t];
            e && (delete this.$indexToRenderer[t], this.doFreeRenderer(e))
        }, e.prototype.doFreeRenderer = function (t) {
            var e = this.$DataGroup,
                i = e[2][t.$hashCode].$hashCode;
            e[3][i] || (e[3][i] = []), e[3][i].push(t), t.visible = !1
        }, e.prototype.invalidateSize = function () {
            this.$DataGroup[4] || p.prototype.invalidateSize.call(this)
        }, e.prototype.createVirtualRenderer = function (t) {
            var e = this.itemToRendererClass(t),
                i = e.$hashCode,
                r = this.$DataGroup,
                t = r[3];
            return t[i] && 0 < t[i].length ? ((i = t[i].pop()).visible = !0, this.invalidateDisplayList(), i) : (r[4] = !0, this.createOneRenderer(e))
        }, e.prototype.createOneRenderer = function (t) {
            var e = new t,
                i = this.$DataGroup;
            return i[2][e.$hashCode] = t, egret.is(e, "eui.IItemRenderer") ? (i[13] && this.setItemRenderSkinName(e, i[13]), this.addChild(e), e) : null
        }, e.prototype.setItemRenderSkinName = function (t, e) {
            t && t instanceof c.Component && ((t = t).$Component[5] || (t.skinName = e, t.$Component[5] = !1))
        }, Object.defineProperty(e.prototype, "dataProvider", {
            get: function () {
                return this.$dataProvider
            },
            set: function (t) {
                this.$setDataProvider(t)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setDataProvider = function (t) {
            return !(this.$dataProvider == t || t && !t.getItemAt) && (this.removeDataProviderListener(), this.$dataProvider = t, this.$dataProviderChanged = !0, this.$DataGroup[10] = !0, this.invalidateProperties(), this.invalidateSize(), this.invalidateDisplayList(), !0)
        }, e.prototype.removeDataProviderListener = function () {
            this.$dataProvider && this.$dataProvider.removeEventListener(c.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this)
        }, e.prototype.onCollectionChange = function (t) {
            switch (t.kind) {
                case c.CollectionEventKind.ADD:
                    this.itemAddedHandler(t.items, t.location);
                    break;
                case c.CollectionEventKind.REMOVE:
                    this.itemRemovedHandler(t.items, t.location);
                    break;
                case c.CollectionEventKind.UPDATE:
                case c.CollectionEventKind.REPLACE:
                    this.itemUpdatedHandler(t.items[0], t.location);
                    break;
                case c.CollectionEventKind.RESET:
                case c.CollectionEventKind.REFRESH:
                    if (this.$layout && this.$layout.$useVirtualLayout)
                        for (var e = this.$indexToRenderer, i = Object.keys(e), r = i.length - 1; 0 <= r; r--) {
                            var n = +i[r];
                            this.freeRendererByIndex(n)
                        }
                    this.$dataProviderChanged = !0, this.invalidateProperties()
            }
            this.invalidateSize(), this.invalidateDisplayList()
        }, e.prototype.itemAddedHandler = function (t, e) {
            for (var i = t.length, r = 0; r < i; r++) this.itemAdded(t[r], e + r);
            this.resetRenderersIndices()
        }, e.prototype.itemRemovedHandler = function (t, e) {
            for (var i = t.length - 1; 0 <= i; i--) this.itemRemoved(t[i], e + i);
            this.resetRenderersIndices()
        }, e.prototype.itemAdded = function (t, e) {
            var i, r;
            this.$layout && this.$layout.elementAdded(e), this.$layout && this.$layout.$useVirtualLayout ? this.$indexToRenderer.splice(e, 0, null) : (i = this.createVirtualRenderer(t), this.$indexToRenderer.splice(e, 0, i), i && (this.updateRenderer(i, e, t), (r = this.$DataGroup)[4] && (r[4] = !1, this.rendererAdded(i, e, t))))
        }, e.prototype.itemRemoved = function (t, e) {
            this.$layout && this.$layout.elementRemoved(e);
            var i = this.$indexToRenderer[e];
            this.$indexToRenderer.length > e && this.$indexToRenderer.splice(e, 1), i && (this.$layout && this.$layout.$useVirtualLayout ? this.doFreeRenderer(i) : (this.rendererRemoved(i, e, t), this.removeChild(i)))
        }, e.prototype.resetRenderersIndices = function () {
            var t = this.$indexToRenderer;
            if (0 != t.length)
                if (this.$layout && this.$layout.$useVirtualLayout)
                    for (var e = Object.keys(t), i = e.length, r = 0; r < i; r++) {
                        var n = +e[r];
                        this.resetRendererItemIndex(n)
                    } else
                        for (var o = t.length, n = 0; n < o; n++) this.resetRendererItemIndex(n)
        }, e.prototype.itemUpdatedHandler = function (t, e) {
            var i;
            this.$DataGroup[11] || (i = this.$indexToRenderer[e]) && this.updateRenderer(i, e, t)
        }, e.prototype.resetRendererItemIndex = function (t) {
            var e = this.$indexToRenderer[t];
            e && (e.itemIndex = t)
        }, Object.defineProperty(e.prototype, "itemRenderer", {
            get: function () {
                return this.$DataGroup[6]
            },
            set: function (t) {
                var e = this.$DataGroup;
                e[6] != t && (e[6] = t, e[5] = !0, e[8] = !0, e[10] = !0, this.removeDataProviderListener(), this.invalidateProperties())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "itemRendererSkinName", {
            get: function () {
                return this.$DataGroup[13]
            },
            set: function (t) {
                var e = this.$DataGroup;
                e[13] != t && (e[13] = t, this.$UIComponent[29] && (e[14] = !0, this.invalidateProperties()))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "itemRendererFunction", {
            get: function () {
                return this.$DataGroup[7]
            },
            set: function (t) {
                var e = this.$DataGroup;
                e[7] != t && (e[7] = t, e[5] = !0, e[8] = !0, this.removeDataProviderListener(), this.invalidateProperties())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.itemToRendererClass = function (t) {
            var e, i = this.$DataGroup;
            return (e = (e = (e = i[7] ? i[7](t) : e) || i[6]) || c.ItemRenderer).$hashCode || (e.$hashCode = egret.$hashCount++), e
        }, e.prototype.createChildren = function () {
            var t;
            this.$layout || ((t = new c.VerticalLayout).gap = 0, t.horizontalAlign = c.JustifyAlign.CONTENT_JUSTIFY, this.$setLayout(t)), p.prototype.createChildren.call(this)
        }, e.prototype.commitProperties = function () {
            var t = this.$DataGroup;
            if ((t[5] || this.$dataProviderChanged || t[1]) && (this.removeAllRenderers(), this.$layout && this.$layout.clearVirtualLayoutCache(), this.setTypicalLayoutRect(null), t[1] = !1, t[5] = !1, this.$dataProvider && this.$dataProvider.addEventListener(c.CollectionEvent.COLLECTION_CHANGE, this.onCollectionChange, this), this.$layout && this.$layout.$useVirtualLayout ? (this.invalidateSize(), this.invalidateDisplayList()) : this.createRenderers(), this.$dataProviderChanged && (this.$dataProviderChanged = !1, this.scrollV = this.scrollH = 0)), p.prototype.commitProperties.call(this), t[8] && (t[8] = !1, this.$dataProvider && 0 < this.$dataProvider.length && (t[12] = this.$dataProvider.getItemAt(0), this.measureRendererSize())), t[14]) {
                t[14] = !1;
                for (var e = t[13], i = this.$indexToRenderer, r = Object.keys(i), n = r.length, o = 0; o < n; o++) {
                    var s = r[o];
                    this.setItemRenderSkinName(i[s], e)
                }
                for (var a = t[3], n = (r = Object.keys(a)).length, o = 0; o < n; o++)
                    for (var h = a[r[o]], l = h.length, u = 0; u < l; u++) this.setItemRenderSkinName(h[u], e)
            }
        }, e.prototype.measure = function () {
            this.$layout && this.$layout.$useVirtualLayout && this.ensureTypicalLayoutElement(), p.prototype.measure.call(this)
        }, e.prototype.updateDisplayList = function (t, e) {
            var i = this.$layout && this.$layout.$useVirtualLayout;
            i && this.ensureTypicalLayoutElement(), p.prototype.updateDisplayList.call(this, t, e);
            var r = this.$DataGroup;
            i && (!(t = r[9]) || (e = this.$indexToRenderer[0]) && (i = egret.$TempRectangle, e.getPreferredBounds(i), i.width == t.width && i.height == t.height || (r[9] = null)))
        }, e.prototype.ensureTypicalLayoutElement = function () {
            this.$DataGroup[9] || this.$dataProvider && 0 < this.$dataProvider.length && (this.$DataGroup[12] = this.$dataProvider.getItemAt(0), this.measureRendererSize())
        }, e.prototype.measureRendererSize = function () {
            var t, e, i = this.$DataGroup;
            i[12] && (t = this.createVirtualRenderer(i[12])) ? (this.updateRenderer(t, 0, i[12]), t.validateNow(), e = egret.$TempRectangle, t.getPreferredBounds(e), e = new egret.Rectangle(0, 0, e.width, e.height), this.$layout && this.$layout.$useVirtualLayout ? (i[4] && this.rendererAdded(t, 0, i[12]), this.doFreeRenderer(t)) : this.removeChild(t), this.setTypicalLayoutRect(e), i[4] = !1) : this.setTypicalLayoutRect(null)
        }, e.prototype.setTypicalLayoutRect = function (t) {
            this.$DataGroup[9] = t, this.$layout && (t ? this.$layout.setTypicalSize(t.width, t.height) : this.$layout.setTypicalSize(0, 0))
        }, e.prototype.removeAllRenderers = function () {
            for (var t = this.$indexToRenderer, e = Object.keys(t), i = e.length, r = 0; r < i; r++)(c = t[e[r]]) && (this.rendererRemoved(c, c.itemIndex, c.data), this.removeChild(c));
            this.$indexToRenderer = [];
            var n = this.$DataGroup;
            if (n[10]) {
                for (var o = n[3], s = Object.keys(o), a = s.length, r = 0; r < a; r++)
                    for (var h = o[s[r]], l = h.length, u = 0; u < l; u++) {
                        var c = h[u];
                        this.rendererRemoved(c, c.itemIndex, c.data), this.removeChild(c)
                    }
                n[3] = {}, n[2] = {}, n[10] = !1
            }
        }, e.prototype.createRenderers = function () {
            if (this.$dataProvider)
                for (var t = 0, e = this.$dataProvider.length, i = 0; i < e; i++) {
                    var r = this.$dataProvider.getItemAt(i),
                        n = this.itemToRendererClass(r),
                        n = this.createOneRenderer(n);
                    n && (this.$indexToRenderer[t] = n, this.updateRenderer(n, t, r), this.rendererAdded(n, t, r), t++)
                }
        }, e.prototype.updateRenderer = function (t, e, i) {
            var r = this.$DataGroup;
            return r[11] = !0, t.itemIndex = e, t.parent == this && this.setChildIndex(t, e), t.data = i, r[11] = !1, t
        }, Object.defineProperty(e.prototype, "numElements", {
            get: function () {
                return this.$dataProvider ? this.$dataProvider.length : 0
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.rendererAdded = function (t, e, i) {}, e.prototype.rendererRemoved = function (t, e, i) {}, e);

        function e() {
            var t = p.call(this) || this;
            return t.$dataProviderChanged = !1, t.$dataProvider = null, t.$indexToRenderer = [], t.$DataGroup = {
                0: !0,
                1: !1,
                2: {},
                3: {},
                4: !1,
                5: !1,
                6: null,
                7: null,
                8: !1,
                9: null,
                10: !1,
                11: !1,
                12: null,
                13: null,
                14: !1
            }, t
        }
        c.DataGroup = t, __reflect(t.prototype, "eui.DataGroup"), c.registerProperty(t, "itemRenderer", "Class"), c.registerProperty(t, "itemRendererSkinName", "Class"), c.registerProperty(t, "dataProvider", "eui.ICollection", !0)
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.Component, __extends(r, e), Object.defineProperty(r.prototype, "label", {
            get: function () {
                return this._label
            },
            set: function (t) {
                this._label = t, this.labelDisplay && (this.labelDisplay.text = t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "icon", {
            get: function () {
                return this._icon
            },
            set: function (t) {
                this._icon = t, this.iconDisplay && (this.iconDisplay.source = t)
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.onTouchCancle = function (t) {
            t = t.$currentTarget;
            t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !1, this.invalidateState()
        }, r.prototype.onTouchBegin = function (t) {
            this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !0, this.invalidateState(), t.updateAfterEvent()
        }, r.prototype.onStageTouchEnd = function (t) {
            var e = t.$currentTarget;
            e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), e.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.contains(t.target) && this.buttonReleased(), this.touchCaptured = !1, this.invalidateState()
        }, r.prototype.getCurrentState = function () {
            return this.enabled ? this.touchCaptured ? "down" : "up" : "disabled"
        }, r.prototype.partAdded = function (t, e) {
            e === this.labelDisplay ? this.labelDisplay.text = this._label : e == this.iconDisplay && (this.iconDisplay.source = this._icon)
        }, r.prototype.buttonReleased = function () {}, r);

        function r() {
            var t = e.call(this) || this;
            return t.labelDisplay = null, t._label = "", t.iconDisplay = null, t._icon = null, t.touchCaptured = !1, t.touchChildren = !1, t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, t.onTouchBegin, t), t
        }
        t.Button = i, __reflect(i.prototype, "eui.Button")
    }(eui = eui || {}),
    function (i) {
        var r, t = (r = i.Component, __extends(e, r), Object.defineProperty(e.prototype, "maximum", {
            get: function () {
                return this.$Range[0]
            },
            set: function (t) {
                var e = this.$Range;
                (t = +t || 0) !== e[0] && (e[0] = t, e[1] = !0, this.invalidateProperties(), this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "minimum", {
            get: function () {
                return this.$Range[2]
            },
            set: function (t) {
                var e = this.$Range;
                (t = +t || 0) !== e[2] && (e[2] = t, e[3] = !0, this.invalidateProperties(), this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "value", {
            get: function () {
                var t = this.$Range;
                return t[6] ? t[5] : t[4]
            },
            set: function (t) {
                this.$setValue(t = +t || 0)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setValue = function (t) {
            if (t === this.value) return !1;
            var e = this.$Range;
            return e[5] = t, e[6] = !0, this.invalidateProperties(), !0
        }, Object.defineProperty(e.prototype, "snapInterval", {
            get: function () {
                return this.$Range[7]
            },
            set: function (t) {
                var e = this.$Range;
                e[9] = !0, (t = +t || 0) !== e[7] && (isNaN(t) ? (e[7] = 1, e[9] = !1) : e[7] = t, e[8] = !0, this.invalidateProperties())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.commitProperties = function () {
            r.prototype.commitProperties.call(this);
            var t, e = this.$Range;
            e[2] > e[0] && (e[1] ? e[0] = e[2] : e[2] = e[0]), (e[6] || e[1] || e[3] || e[8]) && (t = e[6] ? e[5] : e[4], e[6] = !1, e[1] = !1, e[3] = !1, e[8] = !1, this.setValue(this.nearestValidValue(t, e[7])))
        }, e.prototype.nearestValidSize = function (t) {
            var e = this.snapInterval;
            if (0 == e) return t;
            t = Math.round(t / e) * e;
            return Math.abs(t) < e ? e : t
        }, e.prototype.nearestValidValue = function (t, e) {
            var i = this.$Range;
            if (0 == e) return Math.max(i[2], Math.min(i[0], t));
            var r = i[0] - i[2],
                n = 1;
            t -= i[2], e != Math.round(e) && (o = (1 + e).toString().split("."), r *= n = Math.pow(10, o[1].length), t = Math.round(t * n), e = Math.round(e * n));
            var o = Math.max(0, Math.floor(t / e) * e),
                e = Math.min(r, Math.floor((t + e) / e) * e);
            return ((e - o) / 2 <= t - o ? e : o) / n + i[2]
        }, e.prototype.setValue = function (t) {
            var e = this.$Range;
            e[4] !== t && (e[0] > e[2] ? e[4] = Math.min(e[0], Math.max(e[2], t)) : e[4] = t, e[6] = !1, this.invalidateDisplayList(), i.PropertyEvent.dispatchPropertyEvent(this, i.PropertyEvent.PROPERTY_CHANGE, "value"))
        }, e.prototype.updateDisplayList = function (t, e) {
            r.prototype.updateDisplayList.call(this, t, e), this.updateSkinDisplayList()
        }, e.prototype.updateSkinDisplayList = function () {}, e);

        function e() {
            var t = r.call(this) || this;
            return t.$Range = {
                0: 100,
                1: !1,
                2: 0,
                3: !1,
                4: 0,
                5: 0,
                6: !1,
                7: 1,
                8: !1,
                9: !1
            }, t
        }
        i.Range = t, __reflect(t.prototype, "eui.Range"), i.registerBindable(t.prototype, "value")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = egret.EventDispatcher, __extends(r, e), Object.defineProperty(r.prototype, "target", {
            get: function () {
                return this.$target
            },
            set: function (t) {
                this.$target !== t && (this.$target = t, this.clearVirtualLayoutCache())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "useVirtualLayout", {
            get: function () {
                return this.$useVirtualLayout
            },
            set: function (t) {
                this.$useVirtualLayout != (t = !!t) && (this.$useVirtualLayout = t, this.dispatchEventWith("useVirtualLayoutChanged"), this.$useVirtualLayout && !t && this.clearVirtualLayoutCache(), this.target && this.target.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.setTypicalSize = function (t, e) {
            e = +e || 22, (t = +t || 71) === this.$typicalWidth && e === this.$typicalHeight || (this.$typicalWidth = t, this.$typicalHeight = e, this.$target && this.$target.invalidateSize())
        }, r.prototype.scrollPositionChanged = function () {}, r.prototype.clearVirtualLayoutCache = function () {}, r.prototype.elementAdded = function (t) {}, r.prototype.elementRemoved = function (t) {}, r.prototype.getElementIndicesInView = function () {
            return null
        }, r.prototype.measure = function () {}, r.prototype.updateDisplayList = function (t, e) {}, r);

        function r() {
            var t = e.call(this) || this;
            return t.$target = null, t.$useVirtualLayout = !1, t.$typicalWidth = 71, t.$typicalHeight = 22, t
        }
        t.LayoutBase = i, __reflect(i.prototype, "eui.LayoutBase")
    }(eui = eui || {}),
    function (s) {
        var n, t = (n = s.DataGroup, __extends(a, n), Object.defineProperty(a.prototype, "requireSelection", {
            get: function () {
                return this.$ListBase[0]
            },
            set: function (t) {
                var e = this.$ListBase;
                (t = !!t) !== e[0] && (e[0] = t) && (e[1] = !0, this.invalidateProperties())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(a.prototype, "selectedIndex", {
            get: function () {
                return this.$getSelectedIndex()
            },
            set: function (t) {
                this.setSelectedIndex(t = 0 | +t, !1)
            },
            enumerable: !0,
            configurable: !0
        }), a.prototype.$getSelectedIndex = function () {
            var t = this.$ListBase;
            return t[2] != a.NO_PROPOSED_SELECTION ? t[2] : t[3]
        }, a.prototype.setSelectedIndex = function (t, e) {
            var i;
            t != this.selectedIndex && (i = this.$ListBase, e && (i[4] = i[4] || e), i[2] = t, this.invalidateProperties())
        }, Object.defineProperty(a.prototype, "selectedItem", {
            get: function () {
                var t = this.$ListBase;
                if (void 0 !== t[5]) return t[5];
                t = this.$getSelectedIndex();
                return t != a.NO_SELECTION && null != this.$dataProvider && this.$dataProvider.length > t ? this.$dataProvider.getItemAt(t) : void 0
            },
            set: function (t) {
                this.setSelectedItem(t, !1)
            },
            enumerable: !0,
            configurable: !0
        }), a.prototype.setSelectedItem = function (t, e) {
            var i;
            void 0 === e && (e = !1), this.selectedItem !== t && (i = this.$ListBase, e && (i[4] = i[4] || e), i[5] = t, this.invalidateProperties())
        }, a.prototype.commitProperties = function () {
            var t = this.$dataProviderChanged;
            n.prototype.commitProperties.call(this);
            var e = this.$ListBase,
                i = this.$getSelectedIndex(),
                r = this.$dataProvider;
            t && (0 <= i && r && i < r.length ? this.itemSelected(i, !0) : this.requireSelection ? e[2] = 0 : this.setSelectedIndex(-1, !1)), e[1] && (e[1] = !1, e[0] && i == a.NO_SELECTION && r && 0 < r.length && (e[2] = 0)), void 0 !== e[5] && (e[2] = r ? r.getItemIndex(e[5]) : a.NO_SELECTION, e[5] = void 0);
            r = !1;
            e[2] != a.NO_PROPOSED_SELECTION && (r = this.commitSelection()), e[6] && (e[6] = !1, r || s.PropertyEvent.dispatchPropertyEvent(this, s.PropertyEvent.PROPERTY_CHANGE, "selectedIndex"))
        }, a.prototype.updateRenderer = function (t, e, i) {
            return this.itemSelected(e, this.$isItemIndexSelected(e)), n.prototype.updateRenderer.call(this, t, e, i)
        }, a.prototype.itemSelected = function (t, e) {
            t = this.$indexToRenderer[t];
            t && (t.selected = e)
        }, a.prototype.$isItemIndexSelected = function (t) {
            return t == this.selectedIndex
        }, a.prototype.commitSelection = function (t) {
            void 0 === t && (t = !0);
            var e = this.$dataProvider,
                i = this.$ListBase,
                r = e ? e.length - 1 : -1,
                n = i[3],
                o = i[2];
            if (r < (o = o < a.NO_SELECTION ? a.NO_SELECTION : o) && (o = r), i[0] && o == a.NO_SELECTION && e && 0 < e.length) return i[2] = a.NO_PROPOSED_SELECTION, i[4] = !1;
            if (i[4] && !this.dispatchEventWith(egret.Event.CHANGING, !1, !0, !0)) return this.itemSelected(i[2], !1), i[2] = a.NO_PROPOSED_SELECTION, i[4] = !1;
            return i[3] = o, i[2] = a.NO_PROPOSED_SELECTION, n != a.NO_SELECTION && this.itemSelected(n, !1), i[3] != a.NO_SELECTION && this.itemSelected(i[3], !0), t && (i[4] && (this.dispatchEventWith(egret.Event.CHANGE), i[4] = !1), s.PropertyEvent.dispatchPropertyEvent(this, s.PropertyEvent.PROPERTY_CHANGE, "selectedIndex"), s.PropertyEvent.dispatchPropertyEvent(this, s.PropertyEvent.PROPERTY_CHANGE, "selectedItem")), !0
        }, a.prototype.adjustSelection = function (t, e) {
            void 0 === e && (e = !1);
            e = this.$ListBase;
            e[2] != a.NO_PROPOSED_SELECTION ? e[2] = t : e[3] = t, e[6] = !0, this.invalidateProperties()
        }, a.prototype.itemAdded = function (t, e) {
            n.prototype.itemAdded.call(this, t, e);
            t = this.$getSelectedIndex();
            t == a.NO_SELECTION ? this.$ListBase[0] && this.adjustSelection(e, !0) : e <= t && this.adjustSelection(t + 1, !0)
        }, a.prototype.itemRemoved = function (t, e) {
            n.prototype.itemRemoved.call(this, t, e), this.selectedIndex != a.NO_SELECTION && (e == (t = this.$getSelectedIndex()) ? this.requireSelection && this.$dataProvider && 0 < this.$dataProvider.length ? 0 == e ? (this.$ListBase[2] = 0, this.invalidateProperties()) : this.setSelectedIndex(0, !1) : this.adjustSelection(-1, !1) : e < t && this.adjustSelection(t - 1, !1))
        }, a.prototype.onCollectionChange = function (t) {
            n.prototype.onCollectionChange.call(this, t), t.kind == s.CollectionEventKind.RESET ? 0 == this.$dataProvider.length && this.setSelectedIndex(a.NO_SELECTION, !1) : t.kind == s.CollectionEventKind.REFRESH && this.dataProviderRefreshed()
        }, a.prototype.dataProviderRefreshed = function () {
            this.setSelectedIndex(a.NO_SELECTION, !1)
        }, a.prototype.rendererAdded = function (t, e, i) {
            t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onRendererTouchBegin, this), t.addEventListener(egret.TouchEvent.TOUCH_END, this.onRendererTouchEnd, this), t.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onRendererTouchCancle, this)
        }, a.prototype.rendererRemoved = function (t, e, i) {
            t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onRendererTouchBegin, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onRendererTouchEnd, this), t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onRendererTouchCancle, this)
        }, a.prototype.onRendererTouchBegin = function (t) {
            var e = this.$ListBase;
            t.$isDefaultPrevented || (e[8] = !1, e[7] = t.$currentTarget, this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.stage_touchEndHandler, this))
        }, a.prototype.onRendererTouchCancle = function (t) {
            var e = this.$ListBase;
            e[7] = null, e[8] = !0, this.$stage && this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END, this.stage_touchEndHandler, this)
        }, a.prototype.onRendererTouchEnd = function (t) {
            var e = this.$ListBase,
                t = t.$currentTarget;
            t == e[7] && (e[8] || (this.setSelectedIndex(t.itemIndex, !0), s.ItemTapEvent.dispatchItemTapEvent(this, s.ItemTapEvent.ITEM_TAP, t)), e[8] = !1)
        }, a.prototype.stage_touchEndHandler = function (t) {
            t.$currentTarget.removeEventListener(egret.TouchEvent.TOUCH_END, this.stage_touchEndHandler, this), this.$ListBase[7] = null
        }, a.NO_SELECTION = -1, a.NO_PROPOSED_SELECTION = -2, a);

        function a() {
            var t = n.call(this) || this;
            return t.$ListBase = {
                0: !1,
                1: !1,
                2: -2,
                3: -1,
                4: !1,
                5: void 0,
                6: !1,
                7: null,
                8: !1
            }, t
        }
        s.ListBase = t, __reflect(t.prototype, "eui.ListBase"), s.registerBindable(t.prototype, "selectedIndex"), s.registerBindable(t.prototype, "selectedItem")
    }(eui = eui || {}),
    function (i) {
        var e, t = (e = i.Component, __extends(r, e), Object.defineProperty(r.prototype, "viewport", {
            get: function () {
                return this.$viewport
            },
            set: function (t) {
                var e;
                t != this.$viewport && ((e = this.$viewport) && (e.removeEventListener(i.PropertyEvent.PROPERTY_CHANGE, this.onPropertyChanged, this), e.removeEventListener(egret.Event.RESIZE, this.onViewportResize, this)), (this.$viewport = t) && (t.addEventListener(i.PropertyEvent.PROPERTY_CHANGE, this.onPropertyChanged, this), t.addEventListener(egret.Event.RESIZE, this.onViewportResize, this)), this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.onViewportResize = function (t) {
            this.invalidateDisplayList()
        }, r.prototype.onPropertyChanged = function (t) {}, r);

        function r() {
            var t = e.call(this) || this;
            return t.thumb = null, t.$viewport = null, t.autoVisibility = !0, t
        }
        i.ScrollBarBase = t, __reflect(t.prototype, "eui.ScrollBarBase")
    }(eui = eui || {}),
    function (n) {
        var i, t = (i = n.Range, __extends(e, i), Object.defineProperty(e.prototype, "slideDuration", {
            get: function () {
                return this.$SliderBase[6]
            },
            set: function (t) {
                this.$SliderBase[6] = +t || 0
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.pointToValue = function (t, e) {
            return this.minimum
        }, Object.defineProperty(e.prototype, "liveDragging", {
            get: function () {
                return this.$SliderBase[9]
            },
            set: function (t) {
                this.$SliderBase[9] = !!t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "pendingValue", {
            get: function () {
                return this.$SliderBase[7]
            },
            set: function (t) {
                var e = this.$SliderBase;
                (t = +t || 0) !== e[7] && (e[7] = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setValue = function (t) {
            this.$SliderBase[7] = t, i.prototype.setValue.call(this, t)
        }, e.prototype.partAdded = function (t, e) {
            i.prototype.partAdded.call(this, t, e), e == this.thumb ? (this.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onThumbTouchBegin, this), this.thumb.addEventListener(egret.Event.RESIZE, this.onTrackOrThumbResize, this)) : e == this.track ? (this.track.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTrackTouchBegin, this), this.track.addEventListener(egret.Event.RESIZE, this.onTrackOrThumbResize, this)) : e === this.trackHighlight && (this.trackHighlight.touchEnabled = !1, egret.is(this.trackHighlight, "egret.DisplayObjectContainer") && (this.trackHighlight.touchChildren = !1))
        }, e.prototype.partRemoved = function (t, e) {
            i.prototype.partRemoved.call(this, t, e), e == this.thumb ? (this.thumb.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onThumbTouchBegin, this), this.thumb.removeEventListener(egret.Event.RESIZE, this.onTrackOrThumbResize, this)) : e == this.track && (this.track.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTrackTouchBegin, this), this.track.removeEventListener(egret.Event.RESIZE, this.onTrackOrThumbResize, this))
        }, e.prototype.onTrackOrThumbResize = function (t) {
            this.updateSkinDisplayList()
        }, e.prototype.onThumbTouchBegin = function (t) {
            var e = this.$SliderBase;
            e[5] && e[5].isPlaying && this.stopAnimation();
            var i = this.$stage;
            i.addEventListener(egret.TouchEvent.TOUCH_MOVE, this.onStageTouchMove, this), i.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this);
            t = this.thumb.globalToLocal(t.stageX, t.stageY, egret.$TempPoint);
            e[0] = t.x, e[1] = t.y, n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_START)
        }, e.prototype.onStageTouchMove = function (t) {
            var e = this.$SliderBase;
            e[2] = t.$stageX, e[3] = t.$stageY;
            var i = this.track;
            i && (i = i.globalToLocal(e[2], e[3], egret.$TempPoint), e = this.pointToValue(i.x - e[0], i.y - e[1]), e = this.nearestValidValue(e, this.snapInterval), this.updateWhenTouchMove(e), t.updateAfterEvent())
        }, e.prototype.updateWhenTouchMove = function (t) {
            t != this.$SliderBase[7] && (this.liveDragging ? (this.setValue(t), this.dispatchEventWith(egret.Event.CHANGE)) : this.pendingValue = t)
        }, e.prototype.onStageTouchEnd = function (t) {
            t = t.$currentTarget;
            t.removeEventListener(egret.TouchEvent.TOUCH_MOVE, this.onStageTouchMove, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_END);
            t = this.$SliderBase;
            this.liveDragging || this.value == t[7] || (this.setValue(t[7]), this.dispatchEventWith(egret.Event.CHANGE))
        }, e.prototype.onTouchBegin = function (t) {
            this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.stageTouchEndHandler, this), this.$SliderBase[4] = t.$target
        }, e.prototype.stageTouchEndHandler = function (t) {
            var e = t.$target,
                i = this.$SliderBase;
            t.$currentTarget.removeEventListener(egret.TouchEvent.TOUCH_END, this.stageTouchEndHandler, this), i[4] != e && this.contains(e) && egret.TouchEvent.dispatchTouchEvent(this, egret.TouchEvent.TOUCH_TAP, !0, !0, t.$stageX, t.$stageY, t.touchPointID), i[4] = null
        }, e.prototype.$animationUpdateHandler = function (t) {
            this.pendingValue = t.currentValue
        }, e.prototype.animationEndHandler = function (t) {
            this.setValue(this.$SliderBase[8]), this.dispatchEventWith(egret.Event.CHANGE), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_END)
        }, e.prototype.stopAnimation = function () {
            this.$SliderBase[5].stop(), this.setValue(this.nearestValidValue(this.pendingValue, this.snapInterval)), this.dispatchEventWith(egret.Event.CHANGE), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_END)
        }, e.prototype.onTrackTouchBegin = function (t) {
            var e = this.thumb ? this.thumb.width : 0,
                i = this.thumb ? this.thumb.height : 0,
                r = t.$stageX - e / 2,
                e = t.$stageY - i / 2,
                t = this.track.globalToLocal(r, e, egret.$TempPoint),
                i = this.$Range,
                r = this.pointToValue(t.x, t.y),
                r = this.nearestValidValue(r, i[7]),
                e = this.$SliderBase;
            r != e[7] && (0 != e[6] ? (e[5] || (e[5] = new n.sys.Animation(this.$animationUpdateHandler, this), e[5].endFunction = this.animationEndHandler), (t = e[5]).isPlaying && this.stopAnimation(), e[8] = r, t.duration = e[6] * (Math.abs(e[7] - e[8]) / (i[0] - i[2])), t.from = e[7], t.to = e[8], n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_START), t.play()) : (this.setValue(r), this.dispatchEventWith(egret.Event.CHANGE)))
        }, e);

        function e() {
            var t = i.call(this) || this;
            return t.trackHighlight = null, t.thumb = null, t.track = null, t.$SliderBase = {
                0: 0,
                1: 0,
                2: 0,
                3: 0,
                4: null,
                5: null,
                6: 300,
                7: 0,
                8: 0,
                9: !0
            }, t.maximum = 10, t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, t.onTouchBegin, t), t
        }
        n.SliderBase = t, __reflect(t.prototype, "eui.SliderBase")
    }(eui = eui || {}),
    function (t) {
        ! function (I) {
            var r = [],
                c = {},
                p = 1,
                l = "hostComponent",
                a = "egret.Rectangle",
                O = "Array",
                g = "skinName",
                e = [O, "boolean", "string", "number"],
                i = ["id", "locked", "includeIn", "excludeFrom"],
                o = [
                    ["<", "&lt;"],
                    [">", "&gt;"],
                    ["&", "&amp;"],
                    ['"', "&quot;"],
                    ["'", "&apos;"]
                ],
                u = ["null", "NaN", "undefined", "true", "false"],
                t = (n.prototype.$parseCode = function (t, e) {
                    var i = e || "$exmlClass" + p++,
                        e = (0, eval)(t);
                    if (e) {
                        egret.registerClass(e, i);
                        for (var r = i.split("."), n = r.length, o = __global, s = 0; s < n - 1; s++) var a = r[s],
                            o = o[a] || (o[a] = {});
                        o[r[n - 1]] ? c[i] || egret.$warn(2101, i, t) : (c[i] = !0, o[r[n - 1]] = e)
                    }
                    return e
                }, n.prototype.parse = function (e) {
                    e || egret.$error(1003, "text");
                    var t = null;
                    try {
                        t = egret.XML.parse(e)
                    } catch (t) {
                        egret.$error(2002, e + "\n" + t.message)
                    }
                    var i = !1,
                        r = "";
                    t.attributes.class ? (r = t.attributes.class, delete t.attributes.class, i = !!r) : r = "$exmlClass" + p++;
                    var n = this.parseClass(t, r).toCode(),
                        o = null,
                        e = eval;
                    try {
                        o = e(n)
                    } catch (t) {
                        return egret.log(n), null
                    }
                    if (i && o) {
                        egret.registerClass(o, r);
                        for (var s = r.split("."), a = s.length, h = __global, l = 0; l < a - 1; l++) var u = s[l],
                            h = h[u] || (h[u] = {});
                        h[s[a - 1]] ? c[r] || egret.$warn(2101, r, d(t)) : (c[r] = !0, h[s[a - 1]] = o)
                    }
                    return o
                }, n.prototype.parseClass = function (t, e) {
                    I.exmlConfig || (I.exmlConfig = new I.EXMLConfig), this.currentXML = t, this.currentClassName = e, this.delayAssignmentDic = {}, this.idDic = {}, this.stateCode = [], this.stateNames = [], this.skinParts = [], this.bindings = [], this.declarations = null, this.currentClass = new I.EXClass, this.stateIds = [];
                    t = e.lastIndexOf(".");
                    this.currentClass.className = -1 != t ? e.substring(t + 1) : e, this.startCompile();
                    e = this.currentClass;
                    return this.currentClass = null, e
                }, n.prototype.startCompile = function () {
                    var t = this.getRepeatedIds(this.currentXML);
                    0 < t.length && egret.$error(2004, this.currentClassName, t.join("\n"));
                    t = this.getClassNameOfNode(this.currentXML);
                    this.isSkinClass = "eui.Skin" == t, this.currentClass.superClass = t, this.getStateNames();
                    var e = this.currentXML.children;
                    if (e)
                        for (var i = e.length, r = 0; r < i; r++) {
                            var n = e[r];
                            if (1 === n.nodeType && n.namespace == I.NS_W && "Declarations" == n.localName) {
                                this.declarations = n;
                                break
                            }
                        }
                    t = [];
                    this.checkDeclarations(this.declarations, t), 0 < t.length && egret.$error(2020, this.currentClassName, t.join("\n")), this.currentXML.namespace ? (this.addIds(this.currentXML.children), this.createConstructFunc()) : egret.$error(2017, this.currentClassName, d(this.currentXML))
                }, n.prototype.addIds = function (t) {
                    if (t)
                        for (var e = t.length, i = 0; i < e; i++) {
                            var r, n, o, s = t[i];
                            1 == s.nodeType && (s.namespace ? this.isInnerClass(s) || (this.addIds(s.children), s.namespace != I.NS_W && s.localName && (this.isProperty(s) ? (r = s.localName.indexOf("."), n = s.children, -1 != r && n && 0 != n.length && (o = n[0], this.stateIds.push(o.attributes.id))) : 1 === s.nodeType && ((n = s.attributes.id) ? (o = new RegExp("^[a-zA-Z_$]{1}[a-z0-9A-Z_$]*"), null == n.match(o) && egret.$warn(2022, n), null != n.match(new RegExp(/ /g)) && egret.$warn(2022, n), -1 == this.skinParts.indexOf(n) && this.skinParts.push(n), this.createVarForNode(s), this.isStateNode(s) && this.stateIds.push(n)) : (this.createIdForNode(s), this.isStateNode(s) && this.stateIds.push(s.attributes.id))))) : egret.$error(2017, this.currentClassName, d(s)))
                        }
                }, n.prototype.isInnerClass = function (t) {
                    if (t.hasOwnProperty("isInnerClass")) return t.isInnerClass;
                    var e, i, r, n = "Skin" == t.localName && t.namespace == I.NS_S;
                    return n = n || !this.isProperty(t) && (i = void 0, r = t.parent, this.isProperty(r) ? (-1 != (e = (i = r.localName).indexOf(".")) && (i.substring(e + 1), i = i.substring(0, e)), r = r.parent) : i = I.exmlConfig.getDefaultPropById(r.localName, r.namespace), r = I.exmlConfig.getClassNameById(r.localName, r.namespace), "Class" == I.exmlConfig.getPropertyType(i, r)), t.isInnerClass = n
                }, n.prototype.containsState = function (t) {
                    t = t.attributes;
                    if (t.includeIn || t.excludeFrom) return !0;
                    for (var e = Object.keys(t), i = e.length, r = 0; r < i; r++)
                        if (-1 != e[r].indexOf(".")) return !0;
                    return !1
                }, n.prototype.createIdForNode = function (t) {
                    var e = this.getNodeId(t);
                    this.idDic[e] ? this.idDic[e]++ : this.idDic[e] = 1, e += this.idDic[e], t.attributes.id = e
                }, n.prototype.getNodeId = function (t) {
                    return t.attributes.id || "_" + t.localName
                }, n.prototype.createVarForNode = function (t) {
                    "" != this.getClassNameOfNode(t) && (this.currentClass.getVariableByName(t.attributes.id) || this.currentClass.addVariable(new I.EXVariable(t.attributes.id)))
                }, n.prototype.createFuncForNode = function (t) {
                    var e = t.localName;
                    if (this.isBasicTypeData(e)) return this.createBasicTypeForNode(t);
                    var i = this.getClassNameOfNode(t),
                        r = new I.EXFunction,
                        n = t.attributes.id;
                    r.name = n + "_i", this.currentClass.addFunction(r);
                    var o = new I.EXCodeBlock;
                    r.codeBlock = o;
                    "Object" == e ? o.addVar("t", "{}") : o.addVar("t", "new " + i + "()"), this.currentClass.getVariableByName(n) && o.addAssignment("this." + n, "t"), this.addAttributesToCodeBlock(o, "t", t), this.initlizeChildNode(t, o, "t");
                    var s = this.delayAssignmentDic[n];
                    if (s)
                        for (var a = s.length, h = 0; h < a; h++) {
                            var l = s[h];
                            o.concat(l)
                        }
                    return o.addReturn("t"), "this." + r.name + "()"
                }, n.prototype.isBasicTypeData = function (t) {
                    return -1 != e.indexOf(t)
                }, n.prototype.createBasicTypeForNode = function (t) {
                    var e = t.localName,
                        i = "",
                        r = this.currentClass.getVariableByName(t.attributes.id),
                        n = t.children,
                        o = "";
                    switch (n && 0 < n.length && (3 == (t = n[0]).nodeType && (o = t.text.trim())), e) {
                        case O:
                            var s = [];
                            if (n)
                                for (var a = n.length, h = 0; h < a; h++) {
                                    var l = n[h];
                                    1 == l.nodeType && s.push(this.createFuncForNode(l))
                                }
                            i = "[" + s.join(",") + "]";
                            break;
                        case "boolean":
                            i = "false" != o && o ? "true" : "false";
                            break;
                        case "number":
                            -1 != (i = o).indexOf("%") && (i = i.substring(0, i.length - 1));
                            break;
                        case "string":
                            i = this.formatString(o)
                    }
                    return r && (r.defaultValue = i), i
                }, n.prototype.addAttributesToCodeBlock = function (t, e, i) {
                    var r = i.attributes,
                        n = Object.keys(r);
                    n.sort();
                    for (var o, s, a, h, l, u = n.length, c = 0; c < u; c++) l = n[c], this.isNormalKey(l) && (h = r[l], l = this.formatKey(l, h), (h = this.formatValue(l, h, i)) && (this.currentClass.getVariableByName(h) && (a = (o = "this.") + (s = r.id) + " = t;", this.currentClass.getVariableByName(s) || this.createVarForNode(i), t.containsCodeLine(a) || t.addCodeLineAt(a, 1), a = new I.EXCodeBlock, "this" == e ? a.addAssignment(e, o + h, l) : (a.startIf(o + s), a.addAssignment(o + s, o + h, l), a.endBlock()), this.delayAssignmentDic[h] || (this.delayAssignmentDic[h] = []), this.delayAssignmentDic[h].push(a), h = o + h), t.addAssignment(e, h, l)))
                }, n.prototype.initlizeChildNode = function (t, e, i) {
                    var r = t.children;
                    if (r && 0 != r.length) {
                        for (var n, o, s, a = I.exmlConfig.getClassNameById(t.localName, t.namespace), h = [], l = r.length, u = [], c = 0; c < l; c++) {
                            var p, d, f = r[c];
                            1 == f.nodeType && f.namespace != I.NS_W && (this.isInnerClass(f) ? "Skin" == f.localName && (p = this.parseInnerClass(f), (d = I.exmlConfig.getPropertyType(g, a)) ? e.addAssignment(i, p, g) : egret.$error(2005, this.currentClassName, g, D(f))) : (p = f.localName, this.isProperty(f) ? this.isNormalKey(p) && ((d = I.exmlConfig.getPropertyType(f.localName, a)) ? f.children && 0 != f.children.length ? (s = D(f), this.addChildrenToProp(f.children, d, p, e, i, s, u, t)) : egret.$warn(2102, this.currentClassName, D(f)) : egret.$error(2005, this.currentClassName, f.localName, D(f))) : h.push(f)))
                        }
                        0 != h.length && (n = I.exmlConfig.getDefaultPropById(t.localName, t.namespace), o = I.exmlConfig.getPropertyType(n, a), s = D(h[0]), n && o ? this.addChildrenToProp(h, o, n, e, i, s, u, t) : egret.$error(2012, this.currentClassName, s))
                    }
                }, n.prototype.parseInnerClass = function (t) {
                    var e = (e = r.pop()) || new n,
                        i = this.currentClass.className + "$" + t.localName + p++,
                        t = e.parseClass(t, i);
                    return this.currentClass.addInnerClass(t), r.push(e), i
                }, n.prototype.addChildrenToProp = function (t, e, i, r, n, o, s, a) {
                    var h = "",
                        l = t.length;
                    if (1 < l) {
                        if (e != O) return void egret.$error(2011, this.currentClassName, i, o);
                        for (var u = [], c = 0; c < l; c++) 1 == (d = t[c]).nodeType && (h = this.createFuncForNode(d), this.getClassNameOfNode(d), this.isStateNode(d) || u.push(h));
                        h = "[" + u.join(",") + "]"
                    } else {
                        var p = t[0];
                        if (e == O)
                            if (p.localName == O) {
                                u = [];
                                if (p.children)
                                    for (var d, f = p.children.length, g = 0; g < f; g++) 1 == (d = p.children[g]).nodeType && (h = this.createFuncForNode(d), this.getClassNameOfNode(d), this.isStateNode(d) || u.push(h));
                                h = "[" + u.join(",") + "]"
                            } else {
                                h = this.createFuncForNode(p);
                                this.getClassNameOfNode(p);
                                h = this.isStateNode(p) ? "[]" : "[" + h + "]"
                            }
                        else if (1 == p.nodeType)
                            if ("Class" == e) {
                                if (1 < l) return void egret.$error(2011, this.currentClassName, i, o);
                                h = this.parseInnerClass(t[0])
                            } else {
                                this.getClassNameOfNode(p);
                                h = this.createFuncForNode(p)
                            }
                        else h = this.formatValue(i, p.text, a)
                    }
                    "" != h && (-1 == h.indexOf("()") && (i = this.formatKey(i, h)), -1 == s.indexOf(i) ? s.push(i) : egret.$warn(2103, this.currentClassName, i, o), r.addAssignment(n, h, i))
                }, n.prototype.isProperty = function (t) {
                    if (t.hasOwnProperty("isProperty")) return t.isProperty;
                    var e, i, r = t.localName;
                    return i = !(!r || 1 !== t.nodeType || !t.parent || this.isBasicTypeData(r)) && (i = t.parent, -1 != (e = r.indexOf(".")) && (r = r.substr(0, e)), i = I.exmlConfig.getClassNameById(i.localName, i.namespace), !!I.exmlConfig.getPropertyType(r, i)), t.isProperty = i
                }, n.prototype.isNormalKey = function (t) {
                    return !(!t || -1 != t.indexOf(".") || -1 != t.indexOf(":") || -1 != i.indexOf(t))
                }, n.prototype.formatKey = function (t, e) {
                    return -1 != e.indexOf("%") && ("height" == t ? t = "percentHeight" : "width" == t && (t = "percentWidth")), t
                }, n.prototype.formatValue = function (t, e, i) {
                    var r = e = e || "";
                    e = e.trim();
                    var n = this.getClassNameOfNode(i),
                        o = I.exmlConfig.getPropertyType(t, n);
                    o || egret.$error(2005, this.currentClassName, t, d(i));
                    var s = this.formatBinding(t, e, i);
                    if (s) {
                        this.checkIdForState(i);
                        n = "this";
                        i !== this.currentXML && (n += "." + i.attributes.id), this.bindings.push(new I.EXBinding(n, t, s.templates, s.chainIndex)), e = ""
                    } else if (o == a) {
                        s = e.split(",");
                        (4 != s.length || isNaN(parseInt(s[0])) || isNaN(parseInt(s[1])) || isNaN(parseInt(s[2])) || isNaN(parseInt(s[3]))) && egret.$error(2016, this.currentClassName, d(i)), e = "new " + a + "(" + e + ")"
                    } else if ("Percentage" == o) - 1 != e.indexOf("%") && (e = this.formatString(e));
                    else switch (o) {
                        case "Class":
                            t == g && (e = this.formatString(r));
                            break;
                        case "number":
                            0 == e.indexOf("#") ? (isNaN(e.substring(1)) && egret.$warn(2021, this.currentClassName, t, e), e = "0x" + e.substring(1)) : -1 != e.indexOf("%") ? (isNaN(e.substr(0, e.length - 1)) && egret.$warn(2021, this.currentClassName, t, e), e = parseFloat(e.substr(0, e.length - 1)).toString()) : isNaN(e) && egret.$warn(2021, this.currentClassName, t, e);
                            break;
                        case "boolean":
                            e = "false" != e && e ? "true" : "false";
                            break;
                        case "string":
                        case "any":
                            e = this.formatString(r);
                            break;
                        default:
                            egret.$error(2008, this.currentClassName, "string", t + ":" + o, d(i))
                    }
                    return e
                }, n.prototype.formatString = function (t) {
                    return t = '"' + (t = (t = (t = (t = this.unescapeHTMLEntity(t)).split("\n").join("\\n")).split("\r").join("\\n")).split('"').join('\\"')) + '"'
                }, n.prototype.formatBinding = function (t, e, i) {
                    if (!e) return null;
                    if ("{" != (e = e.trim()).charAt(0) || "}" != e.charAt(e.length - 1)) return null;
                    for (var r = -1 == (e = e.substring(1, e.length - 1).trim()).indexOf("+") ? [e] : this.parseTemplates(e), n = [], o = r.length, s = 0; s < o; s++) {
                        var a, h = r[s].trim();
                        h ? "'" == (a = h.charAt(0)) || '"' == a || "0" <= a && a <= "9" || "-" == a || -1 == h.indexOf(".") && -1 != u.indexOf(h) || ((a = (h = 0 == h.indexOf("this.") ? h.substring(5) : h).split(".")[0]) != l && -1 == this.skinParts.indexOf(a) && (h = l + "." + h), r[s] = '"' + h + '"', n.push(s)) : (r.splice(s, 1), s--, o--)
                    }
                    return {
                        templates: r,
                        chainIndex: n
                    }
                }, n.prototype.parseTemplates = function (t) {
                    if (-1 == t.indexOf("'")) return t.split("+");
                    var e = !1,
                        i = "";
                    for (t = t.split("\\'").join("\v0\v"); 0 < t.length;) {
                        var r = t.indexOf("'");
                        if (-1 == r) {
                            i += t;
                            break
                        }
                        i += t.substring(0, r + 1), -1 == (r = (t = t.substring(r + 1)).indexOf("'")) && (r = t.length - 1, e = !0), i += t.substring(0, r + 1).split("+").join("\v1\v"), t = t.substring(r + 1)
                    }
                    t = i.split("\v0\v").join("\\'"), e && (t += "'");
                    for (var n = t.split("+"), o = n.length, s = 0; s < o; s++) n[s] = n[s].split("\v1\v").join("+");
                    return n
                }, n.prototype.unescapeHTMLEntity = function (t) {
                    if (!t) return "";
                    for (var e = o.length, i = 0; i < e; i++) {
                        var r = o[i],
                            n = r[0],
                            r = r[1];
                        t = t.split(r).join(n)
                    }
                    return t
                }, n.prototype.createConstructFunc = function () {
                    var t = new I.EXCodeBlock;
                    t.addEmptyLine();
                    var e;
                    if (this.addAttributesToCodeBlock(t, "this", this.currentXML), this.declarations) {
                        var i = this.declarations.children;
                        if (i && 0 < i.length)
                            for (var r = i.length, n = 0; n < r; n++) {
                                var o = i[n];
                                1 == o.nodeType && ((o = this.createFuncForNode(o)) && t.addCodeLine(o + ";"))
                            }
                    }
                    this.initlizeChildNode(this.currentXML, t, "this");
                    var s = this.stateIds;
                    if (0 < s.length) {
                        for (var a = s.length, n = 0; n < a; n++) e = s[n], t.addCodeLine("this." + e + "_i();");
                        t.addEmptyLine()
                    }
                    var h = this.skinParts,
                        l = "[]";
                    if (0 < (a = h.length)) {
                        for (n = 0; n < a; n++) h[n] = '"' + h[n] + '"';
                        l = "[" + h.join(",") + "]"
                    }
                    var u = new I.EXFunction;
                    u.name = "skinParts", u.isGet = !0;
                    var c = new I.EXCodeBlock;
                    c.addReturn(l), u.codeBlock = c, this.currentClass.addFunction(u), this.currentXML.attributes.id = "", this.createStates(this.currentXML);
                    for (var p = this.currentXML, d = (this.getClassNameOfNode(p), p.attributes), f = Object.keys(d), g = f.length, y = 0; y < g; y++) {
                        var v = f[y],
                            m = d[v],
                            _ = v.indexOf(".");
                        if (-1 != _) {
                            var b = v.substring(0, _),
                                b = this.formatKey(b, m),
                                $ = this.formatValue(b, m, p);
                            if ($) {
                                var x, _ = v.substr(_ + 1),
                                    T = (x = this.getStateByName(_, p)).length;
                                if (0 < T)
                                    for (n = 0; n < T; n++)(S = x[n]).addOverride(new I.EXSetProperty("", b, $))
                            }
                        }
                    }
                    var E = this.stateCode;
                    if (0 < (a = E.length)) {
                        t.addCodeLine("this.states = [");
                        for (var C = !0, n = 0; n < a; n++) {
                            var S = E[n];
                            C ? C = !1 : t.addCodeLine("\t,");
                            for (var w = S.toCode().split("\n"), P = 0; P < w.length;) {
                                var L = w[P];
                                L && t.addCodeLine("\t" + L), P++
                            }
                        }
                        t.addCodeLine("];")
                    }
                    var R = this.bindings;
                    if (0 < (a = R.length)) {
                        t.addEmptyLine();
                        for (n = 0; n < a; n++) {
                            var O = R[n];
                            t.addCodeLine(O.toCode())
                        }
                    }
                    this.currentClass.constructCode = t
                }, n.prototype.isStateNode = function (t) {
                    t = t.attributes;
                    return t.hasOwnProperty("includeIn") || t.hasOwnProperty("excludeFrom")
                }, n.prototype.getStateNames = function () {
                    var t = this.currentXML,
                        e = I.exmlConfig.getClassNameById(t.localName, t.namespace);
                    if ("State[]" == I.exmlConfig.getPropertyType("states", e)) {
                        e = t.attributes.states;
                        e && delete t.attributes.states;
                        var i, r, n = this.stateNames,
                            o = t.children;
                        if (o)
                            for (var s = o.length, a = 0; a < s; a++)
                                if (1 == (r = o[a]).nodeType && "states" == r.localName) {
                                    r.namespace = I.NS_W, i = r.children;
                                    break
                                } if (i || e)
                            if (i && 0 == i.length && egret.$warn(2102, this.currentClassName, D(r)), i && e && egret.$warn(2103, this.currentClassName, "states", D(r)), e)
                                for (var h = e.split(","), l = h.length, a = 0; a < l; a++)(v = h[a].trim()) && (-1 == n.indexOf(v) && n.push(v), this.stateCode.push(new I.EXState(v)));
                            else
                                for (var u = i.length, a = 0; a < u; a++) {
                                    var c = i[a];
                                    if (1 == c.nodeType) {
                                        var p = [],
                                            c = c.attributes;
                                        if (c.stateGroups)
                                            for (var d = c.stateGroups.split(","), f = d.length, g = 0; g < f; g++) {
                                                var y = d[g].trim();
                                                y && (-1 == n.indexOf(y) && n.push(y), p.push(y))
                                            }
                                        var v = c.name; - 1 == n.indexOf(v) && n.push(v), this.stateCode.push(new I.EXState(v, p))
                                    }
                                }
                    }
                }, n.prototype.createStates = function (t) {
                    var e = t.children;
                    if (e)
                        for (var i = e.length, r = 0; r < i; r++) {
                            var n = e[r];
                            if (1 == n.nodeType && !this.isInnerClass(n) && (this.createStates(n), n.namespace != I.NS_W && n.localName))
                                if (this.isProperty(n)) {
                                    var o = (h = n.localName).indexOf("."),
                                        s = n.children;
                                    if (-1 != o && s && 0 != s.length) {
                                        var a = h.substring(o + 1),
                                            h = h.substring(0, o),
                                            l = this.getClassNameOfNode(t);
                                        I.exmlConfig.getPropertyType(h, l) == O && egret.$error(2013, this.currentClassName, D(n)), 1 < s.length && egret.$error(2011, this.currentClassName, h, D(n));
                                        var l = s[0],
                                            u = void 0;
                                        if (u = 1 == l.nodeType ? (this.createFuncForNode(l), this.checkIdForState(l), "this." + l.attributes.id) : this.formatValue(h, l.text, t), 0 < (E = (f = this.getStateByName(a, n)).length))
                                            for (var c = 0; c < E; c++)(g = f[c]).addOverride(new I.EXSetProperty(t.attributes.id, h, u))
                                    }
                                } else if (this.containsState(n)) {
                                var p = n.attributes,
                                    d = p.id;
                                this.getClassNameOfNode(n);
                                this.checkIdForState(n);
                                var a = void 0,
                                    f = void 0,
                                    g = void 0;
                                if (this.isStateNode(n)) {
                                    var y = "",
                                        l = n.parent;
                                    (l = (l = l.localName == O ? l.parent : l) && l.parent && this.isProperty(l) ? l.parent : l) && l != this.currentXML && (y = l.attributes.id, this.checkIdForState(l));
                                    var v = this.findNearNodeId(n),
                                        m = [];
                                    if (p.includeIn) m = p.includeIn.split(",");
                                    else {
                                        for (var _ = p.excludeFrom.split(","), b = _.length, c = 0; c < b; c++) {
                                            var $ = _[c];
                                            this.getStateByName($, n)
                                        }
                                        for (b = this.stateCode.length, c = 0; c < b; c++) g = this.stateCode[c], -1 == _.indexOf(g.name) && m.push(g.name)
                                    }
                                    for (var x = m.length, T = 0; T < x; T++)
                                        if (a = m[T], 0 < (f = this.getStateByName(a, n)).length)
                                            for (var E = f.length, c = 0; c < E; c++)(g = f[c]).addOverride(new I.EXAddItems(d, y, v.position, v.relativeTo))
                                }
                                for (var C = Object.keys(p), S = C.length, w = 0; w < S; w++) {
                                    var P = C[w],
                                        u = p[P];
                                    if (-1 != (o = P.indexOf("."))) {
                                        var L = P.substring(0, o),
                                            L = this.formatKey(L, u),
                                            R = this.formatBinding(L, u, n);
                                        if (R || (u = this.formatValue(L, u, n)))
                                            if (a = P.substr(o + 1), 0 < (E = (f = this.getStateByName(a, n)).length))
                                                for (c = 0; c < E; c++) g = f[c], R ? g.addOverride(new I.EXSetStateProperty(d, L, R.templates, R.chainIndex)) : g.addOverride(new I.EXSetProperty(d, L, u))
                                    }
                                }
                            }
                        }
                }, n.prototype.checkIdForState = function (t) {
                    var e;
                    t && !this.currentClass.getVariableByName(t.attributes.id) && (this.createVarForNode(t), e = t.attributes.id, (t = this.currentClass.getFuncByName(e + "_i")) && (e = "this." + e + " = t;", (t = t.codeBlock) && (t.containsCodeLine(e) || t.addCodeLineAt(e, 1))))
                }, n.prototype.getStateByName = function (t, e) {
                    for (var i = [], r = this.stateCode, n = r.length, o = 0; o < n; o++) {
                        var s = r[o];
                        if (s.name == t) - 1 == i.indexOf(s) && i.push(s);
                        else if (0 < s.stateGroups.length) {
                            for (var a = !1, h = s.stateGroups.length, l = 0; l < h; l++)
                                if (s.stateGroups[l] == t) {
                                    a = !0;
                                    break
                                } a && -1 == i.indexOf(s) && i.push(s)
                        }
                    }
                    return 0 == i.length && egret.$error(2006, this.currentClassName, t, d(e)), i
                }, n.prototype.findNearNodeId = function (t) {
                    for (var e, i, r = "", n = -1, o = !1, s = t.parent.children, a = s.length, h = 0; h < a; h++) {
                        var l = s[h];
                        this.isProperty(l) || (l == t ? (o = !0, n = h) : !o || i || this.isStateNode(l) || (i = l), o || this.isStateNode(l) || 0)
                    }
                    return 0 == n ? {
                        position: e = 0,
                        relativeTo: r
                    } : n == a - 1 ? {
                        position: e = 1,
                        relativeTo: r
                    } : i && (e = 2, r = i.attributes.id) ? (this.checkIdForState(i), {
                        position: e,
                        relativeTo: r
                    }) : {
                        position: 1,
                        relativeTo: r
                    }
                }, n.prototype.getClassNameOfNode = function (t) {
                    var e = I.exmlConfig.getClassNameById(t.localName, t.namespace);
                    return e || egret.$error(2003, this.currentClassName, d(t)), e
                }, n);

            function n() {
                this.delayAssignmentDic = {}, this.repeatedIdMap = {}, this.getRepeatedIds = s, this.getIds = h, this.checkDeclarations = f
            }
            I.EXMLParser = t, __reflect(t.prototype, "eui.sys.EXMLParser"); {
                function s(t) {
                    var e = [];
                    return this.repeatedIdMap = {}, this.getIds(t, e), e
                }

                function h(t, e) {
                    var i;
                    t.namespace != I.NS_W && t.attributes.id && (i = t.attributes.id, this.repeatedIdMap[i] ? e.push(d(t)) : this.repeatedIdMap[i] = !0);
                    var r = t.children;
                    if (r)
                        for (var n = r.length, o = 0; o < n; o++) {
                            var s = r[o];
                            1 !== s.nodeType || this.isInnerClass(s) || this.getIds(s, e)
                        }
                }

                function d(t) {
                    if (!t) return "";
                    for (var e = "  at <" + t.name, i = t.attributes, r = Object.keys(i), n = r.length, o = 0; o < n; o++) {
                        var s = r[o],
                            a = i[s];
                        "id" == s && "__" == a.substring(0, 2) || (e += " " + s + '="' + a + '"')
                    }
                    return 0 == t.children.length ? e += "/>" : e += ">", e
                }

                function f(t, e) {
                    if (t) {
                        var i = t.children;
                        if (i)
                            for (var r = i.length, n = 0; n < r; n++) {
                                var o = i[n];
                                1 == o.nodeType && (o.attributes.includeIn && e.push(d(o)), o.attributes.excludeFrom && e.push(d(o)), f(o, e))
                            }
                    }
                }

                function D(t) {
                    return d(t.parent) + "\n      \t" + d(t).substring(5)
                }
            }
        }(t.sys || (t.sys = {}))
    }(eui = eui || {}),
    function (e) {
        var r, t = (r = e.Button, __extends(i, r), Object.defineProperty(i.prototype, "selected", {
            get: function () {
                return this.$selected
            },
            set: function (t) {
                this.$setSelected(t)
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.$setSelected = function (t) {
            return (t = !!t) !== this.$selected && (this.$selected = t, this.invalidateState(), e.PropertyEvent.dispatchPropertyEvent(this, e.PropertyEvent.PROPERTY_CHANGE, "selected"), !0)
        }, i.prototype.getCurrentState = function () {
            var t = r.prototype.getCurrentState.call(this);
            if (this.$selected) {
                var e = t + "AndSelected",
                    i = this.skin;
                return i && i.hasState(e) ? e : "disabled" == t ? "disabled" : "down"
            }
            return t
        }, i.prototype.buttonReleased = function () {
            this.$autoSelected && (this.selected = !this.$selected, this.dispatchEventWith(egret.Event.CHANGE))
        }, i);

        function i() {
            var t = null !== r && r.apply(this, arguments) || this;
            return t.$selected = !1, t.$autoSelected = !0, t
        }
        e.ToggleButton = t, __reflect(t.prototype, "eui.ToggleButton"), e.registerBindable(t.prototype, "selected")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.LayoutBase, __extends(r, e), Object.defineProperty(r.prototype, "horizontalAlign", {
            get: function () {
                return this.$horizontalAlign
            },
            set: function (t) {
                this.$horizontalAlign != t && (this.$horizontalAlign = t, this.$target && this.$target.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "verticalAlign", {
            get: function () {
                return this.$verticalAlign
            },
            set: function (t) {
                this.$verticalAlign != t && (this.$verticalAlign = t, this.$target && this.$target.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "gap", {
            get: function () {
                return this.$gap
            },
            set: function (t) {
                this.$gap !== (t = +t || 0) && (this.$gap = t, this.invalidateTargetLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "paddingLeft", {
            get: function () {
                return this.$paddingLeft
            },
            set: function (t) {
                this.$paddingLeft !== (t = +t || 0) && (this.$paddingLeft = t, this.invalidateTargetLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "paddingRight", {
            get: function () {
                return this.$paddingRight
            },
            set: function (t) {
                this.$paddingRight !== (t = +t || 0) && (this.$paddingRight = t, this.invalidateTargetLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "paddingTop", {
            get: function () {
                return this.$paddingTop
            },
            set: function (t) {
                this.$paddingTop !== (t = +t || 0) && (this.$paddingTop = t, this.invalidateTargetLayout())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "paddingBottom", {
            get: function () {
                return this.$paddingBottom
            },
            set: function (t) {
                this.$paddingBottom !== (t = +t || 0) && (this.$paddingBottom = t, this.invalidateTargetLayout())
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.invalidateTargetLayout = function () {
            var t = this.$target;
            t && (t.invalidateSize(), t.invalidateDisplayList())
        }, r.prototype.measure = function () {
            this.$target && (this.$useVirtualLayout ? this.measureVirtual() : this.measureReal())
        }, r.prototype.measureReal = function () {}, r.prototype.measureVirtual = function () {}, r.prototype.updateDisplayList = function (t, e) {
            var i = this.$target;
            i && (0 != i.numElements ? this.$useVirtualLayout ? this.updateDisplayListVirtual(t, e) : this.updateDisplayListReal(t, e) : i.setContentSize(Math.ceil(this.$paddingLeft + this.$paddingRight), Math.ceil(this.$paddingTop + this.$paddingBottom)))
        }, r.prototype.getStartPosition = function (t) {
            return 0
        }, r.prototype.getElementSize = function (t) {
            return 0
        }, r.prototype.getElementTotalSize = function () {
            return 0
        }, r.prototype.elementRemoved = function (t) {
            this.$useVirtualLayout && (e.prototype.elementRemoved.call(this, t), this.elementSizeTable.splice(t, 1))
        }, r.prototype.clearVirtualLayoutCache = function () {
            this.$useVirtualLayout && (this.elementSizeTable = [], this.maxElementSize = 0)
        }, r.prototype.findIndexAt = function (t, e, i) {
            var r = .5 * (e + i) | 0,
                n = this.getStartPosition(r),
                o = this.getElementSize(r);
            return n <= t && t < n + o + this.$gap ? r : e == i ? -1 : t < n ? this.findIndexAt(t, e, Math.max(e, r - 1)) : this.findIndexAt(t, Math.min(1 + r, i), i)
        }, r.prototype.scrollPositionChanged = function () {
            e.prototype.scrollPositionChanged.call(this), this.$useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.target.invalidateDisplayList())
        }, r.prototype.getIndexInView = function () {
            return !1
        }, r.prototype.updateDisplayListVirtual = function (t, e) {}, r.prototype.updateDisplayListReal = function (t, e) {}, r.prototype.flexChildrenProportionally = function (t, e, i, r) {
            var n = r.length;
            do {
                var o = !0,
                    s = e - t * i / 100;
                0 < s ? e -= s : s = 0;
                for (var a = e / i, h = 0; h < n; h++) {
                    var l = r[h],
                        u = l.percent * a;
                    if (u < l.min) {
                        var c = l.min;
                        l.size = c, r[h] = r[--n], i -= (r[n] = l).percent, c <= s ? s -= c : (e -= c - s, s = 0), o = !1;
                        break
                    }
                    if (u > l.max) {
                        c = l.max;
                        l.size = c, r[h] = r[--n], i -= (r[n] = l).percent, c <= s ? s -= c : (e -= c - s, s = 0), o = !1;
                        break
                    }
                    l.size = u
                }
            } while (!o)
        }, r);

        function r() {
            var t = null !== e && e.apply(this, arguments) || this;
            return t.$horizontalAlign = "left", t.$verticalAlign = "top", t.$gap = 6, t.$paddingLeft = 0, t.$paddingRight = 0, t.$paddingTop = 0, t.$paddingBottom = 0, t.elementSizeTable = [], t.startIndex = -1, t.endIndex = -1, t.indexInViewCalculated = !1, t.maxElementSize = 0, t
        }
        t.LinearLayoutBase = i, __reflect(i.prototype, "eui.LinearLayoutBase")
    }(eui = eui || {}),
    function (t) {
        function e() {
            this.layoutElement = null, this.size = 0, this.percent = NaN, this.min = NaN, this.max = NaN
        }(t.sys || (t.sys = {})).ChildInfo = e, __reflect(e.prototype, "eui.sys.ChildInfo")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.SliderBase, __extends(r, e), r.prototype.pointToValue = function (t, e) {
            if (!this.thumb || !this.track) return 0;
            var i = this.$Range,
                r = i[0] - i[2],
                n = this.getThumbRange();
            return i[2] + (0 != n ? t / n * r : 0)
        }, r.prototype.getThumbRange = function () {
            var t = egret.$TempRectangle;
            this.track.getLayoutBounds(t);
            var e = t.width;
            return this.thumb.getLayoutBounds(t), e - t.width
        }, r.prototype.updateSkinDisplayList = function () {
            var t, e, i, r, n;
            this.thumb && this.track && (e = this.$Range, i = this.getThumbRange(), t = 0 < (n = e[0] - e[2]) ? (this.pendingValue - e[2]) / n * i : 0, e = (r = this.track.localToGlobal(t, 0, egret.$TempPoint)).x, n = r.y, i = this.thumb.$parent.globalToLocal(e, n, egret.$TempPoint).x, r = egret.$TempRectangle, this.thumb.getLayoutBounds(r), this.thumb.setLayoutBoundsPosition(Math.round(i), r.y), this.trackHighlight && this.trackHighlight.$parent && (n = this.trackHighlight.$parent.globalToLocal(e, n, egret.$TempPoint).x - t, this.trackHighlight.x = Math.round(n), this.trackHighlight.width = Math.round(t)))
        }, r);

        function r() {
            return e.call(this) || this
        }
        t.HSlider = i, __reflect(i.prototype, "eui.HSlider")
    }(eui = eui || {}),
    function (t) {
        var h = [],
            l = {},
            u = {},
            e = (i.prototype.getAsset = function (t, e, i) {
                var r = l[t];
                r ? r.push([e, i]) : (r = (r = h.pop()) || new egret.ImageLoader, l[t] = [
                    [e, i]
                ], u[r.$hashCode] = t, r.addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), r.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this), r.load(t))
            }, i.prototype.onLoadFinish = function (t) {
                var e, i = t.currentTarget;
                i.removeEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), i.removeEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this), t.$type == egret.Event.COMPLETE && ((e = new egret.Texture)._setBitmapData(i.data), i.data = null), h.push(i);
                var r = u[i.$hashCode];
                delete u[i.$hashCode];
                var n = l[r];
                delete l[r];
                for (var o = n.length, s = 0; s < o; s++) {
                    var a = n[s];
                    a[0].call(a[1], e, r)
                }
            }, i);

        function i() {}
        t.DefaultAssetAdapter = e, __reflect(e.prototype, "eui.DefaultAssetAdapter", ["eui.IAssetAdapter"])
    }(eui = eui || {}),
    function (t) {
        var i, e = (i = egret.Bitmap, __extends(r, i), Object.defineProperty(r.prototype, "scale9Grid", {
            get: function () {
                return this.$scale9Grid
            },
            set: function (t) {
                this.$scale9Grid = t, this.$invalidateContentBounds(), this.invalidateDisplayList()
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "fillMode", {
            get: function () {
                return this.$fillMode
            },
            set: function (t) {
                t != this.$fillMode && (this.$fillMode = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.$setFillMode = function (t) {
            t = i.prototype.$setFillMode.call(this, t);
            return this.invalidateDisplayList(), t
        }, Object.defineProperty(r.prototype, "source", {
            get: function () {
                return this._source
            },
            set: function (t) {
                t != this._source && (this._source = t, this.$stage ? this.parseSource() : (this.sourceChanged = !0, this.invalidateProperties()))
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.$setBitmapData = function (t) {
            if (t == this.$Bitmap[0]) return !1;
            t = i.prototype.$setBitmapData.call(this, t);
            return this.sourceChanged = !1, this.invalidateSize(), this.invalidateDisplayList(), t
        }, r.prototype.parseSource = function () {
            var e = this;
            this.sourceChanged = !1;
            var i = this._source;
            i && "string" == typeof i ? t.getAssets(this._source, function (t) {
                i === e._source && egret.is(t, "egret.Texture") && (e.$setBitmapData(t), t ? e.dispatchEventWith(egret.Event.COMPLETE) : egret.$warn(2301, i))
            }) : this.$setBitmapData(i)
        }, r.prototype.$measureContentBounds = function (t) {
            this.$Bitmap;
            var e, i, r = this.$Bitmap[0];
            r ? (e = (i = this.$UIComponent)[10], i = i[11], isNaN(e) || isNaN(i) ? t.setEmpty() : ("clip" == this.$fillMode && (e > r.$getTextureWidth() && (e = r.$getTextureWidth()), i > r.$getTextureHeight() && (i = r.$getTextureHeight())), t.setTo(0, 0, e, i))) : t.setEmpty()
        }, r.prototype.$render = function () {
            var t, e, i;
            this.$Bitmap[0] && (t = (i = this.$UIComponent)[10], e = i[11], 0 !== t && 0 !== e && (i = this.$Bitmap, egret.sys.BitmapNode.$updateTextureData(this.$renderNode, i[1], i[2], i[3], i[4], i[5], i[6], i[7], i[8], i[9], t, e, i[13], i[14], this.scale9Grid || i[0].scale9Grid, this.$fillMode, i[10])))
        }, r.prototype.createChildren = function () {
            this.sourceChanged && this.parseSource()
        }, r.prototype.childrenCreated = function () {}, r.prototype.commitProperties = function () {
            t.sys.UIComponentImpl.prototype.commitProperties.call(this), this.sourceChanged && this.parseSource()
        }, r.prototype.measure = function () {
            var t = this.$Bitmap[0];
            t ? this.setMeasuredSize(t.$getTextureWidth(), t.$getTextureHeight()) : this.setMeasuredSize(0, 0)
        }, r.prototype.updateDisplayList = function (t, e) {
            this.$invalidateContentBounds()
        }, r.prototype.invalidateParentLayout = function () {}, r.prototype.setMeasuredSize = function (t, e) {}, r.prototype.invalidateProperties = function () {}, r.prototype.validateProperties = function () {}, r.prototype.invalidateSize = function () {}, r.prototype.validateSize = function (t) {}, r.prototype.invalidateDisplayList = function () {}, r.prototype.validateDisplayList = function () {}, r.prototype.validateNow = function () {}, r.prototype.setLayoutBoundsSize = function (t, e) {}, r.prototype.setLayoutBoundsPosition = function (t, e) {}, r.prototype.getLayoutBounds = function (t) {}, r.prototype.getPreferredBounds = function (t) {}, r);

        function r(t) {
            var e = i.call(this) || this;
            return e.sourceChanged = !1, e._source = null, e.initializeUIValues(), t && (e.source = t), e
        }
        t.Image = e, __reflect(e.prototype, "eui.Image", ["eui.UIComponent", "egret.DisplayObject"]), t.sys.implementUIComponent(e, egret.Bitmap), t.registerProperty(e, "scale9Grid", "egret.Rectangle")
    }(eui = eui || {}),
    function (e) {
        var i, t = (i = e.Component, __extends(r, i), Object.defineProperty(r.prototype, "data", {
            get: function () {
                return this._data
            },
            set: function (t) {
                this._data = t, e.PropertyEvent.dispatchPropertyEvent(this, e.PropertyEvent.PROPERTY_CHANGE, "data"), this.dataChanged()
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.dataChanged = function () {}, Object.defineProperty(r.prototype, "selected", {
            get: function () {
                return this._selected
            },
            set: function (t) {
                this._selected != t && (this._selected = t, this.invalidateState())
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.onTouchCancle = function (t) {
            this.touchCaptured = !1;
            t = t.$currentTarget;
            t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.invalidateState()
        }, r.prototype.onTouchBegin = function (t) {
            this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !0, this.invalidateState(), t.updateAfterEvent()
        }, r.prototype.onStageTouchEnd = function (t) {
            t = t.$currentTarget;
            t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancle, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onStageTouchEnd, this), this.touchCaptured = !1, this.invalidateState()
        }, r.prototype.getCurrentState = function () {
            var t = "up";
            if (this.enabled || (t = "disabled"), this.touchCaptured && (t = "down"), this._selected) {
                var e = t + "AndSelected",
                    i = this.skin;
                return i && i.hasState(e) ? e : "disabled" == t ? "disabled" : "down"
            }
            return t
        }, r);

        function r() {
            var t = i.call(this) || this;
            return t._data = null, t._selected = !1, t.itemIndex = -1, t.touchCaptured = !1, t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, t.onTouchBegin, t), t
        }
        e.ItemRenderer = t, __reflect(t.prototype, "eui.ItemRenderer", ["eui.IItemRenderer"]), e.registerBindable(t.prototype, "data")
    }(eui = eui || {}),
    function (e) {
        var r, i = e.sys.UIComponentImpl,
            t = (r = egret.TextField, __extends(n, r), Object.defineProperty(n.prototype, "style", {
                get: function () {
                    return this.$style
                },
                set: function (t) {
                    this.$setStyle(t)
                },
                enumerable: !0,
                configurable: !0
            }), n.prototype.$setStyle = function (t) {
                if (this.$style != t) {
                    this.$style = t;
                    var e = egret.getImplementation("eui.Theme");
                    if (e) {
                        for (var i in this.$changeFromStyle = !0, this.$revertStyle) this[i] = this.$revertStyle[i];
                        if (this.$revertStyle = {}, null != t) {
                            for (var r = t.split(","), n = 0; n < r.length; n++) {
                                var o, s = e.$getStyleConfig(r[n]);
                                if (s)
                                    for (var i in s) this.$styleSetMap[i] && (o = this[i], this[i] = s[i], this.$revertStyle[i] = o)
                            }
                            this.$changeFromStyle = !1
                        } else this.$changeFromStyle = !1
                    }
                }
            }, n.prototype.$setFontFamily = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.fontFanily, this.$styleSetMap.fontFanily = !1), r.prototype.$setFontFamily.call(this, t)
            }, n.prototype.$setSize = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.size, this.$styleSetMap.size = !1), r.prototype.$setSize.call(this, t)
            }, n.prototype.$setBold = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.bold, this.$styleSetMap.bold = !1), r.prototype.$setBold.call(this, t)
            }, n.prototype.$setItalic = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.italic, this.$styleSetMap.italic = !1), r.prototype.$setItalic.call(this, t)
            }, n.prototype.$setTextAlign = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.textAlign, this.$styleSetMap.textAlign = !1), r.prototype.$setTextAlign.call(this, t)
            }, n.prototype.$setVerticalAlign = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.verticalAlign, this.$styleSetMap.verticalAlign = !1), r.prototype.$setVerticalAlign.call(this, t)
            }, n.prototype.$setLineSpacing = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.lineSpacing, this.$styleSetMap.lineSpacing = !1), r.prototype.$setLineSpacing.call(this, t)
            }, n.prototype.$setTextColor = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.textColor, this.$styleSetMap.textColor = !1), r.prototype.$setTextColor.call(this, t)
            }, n.prototype.$setWordWrap = function (t) {
                this.$changeFromStyle || (delete this.$revertStyle.wordWrap, this.$styleSetMap.wordWrap = !1), r.prototype.$setWordWrap.call(this, t)
            }, n.prototype.$setDisplayAsPassword = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.displayAsPassword, this.$styleSetMap.displayAsPassword = !1), r.prototype.$setDisplayAsPassword.call(this, t)
            }, n.prototype.$setStrokeColor = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.strokeColor, this.$styleSetMap.strokeColor = !1), r.prototype.$setStrokeColor.call(this, t)
            }, n.prototype.$setStroke = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.stroke, this.$styleSetMap.stroke = !1), r.prototype.$setStroke.call(this, t)
            }, n.prototype.$setMaxChars = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.maxChars, this.$styleSetMap.maxChars = !1), r.prototype.$setMaxChars.call(this, t)
            }, n.prototype.$setMultiline = function (t) {
                return this.$changeFromStyle || (delete this.$revertStyle.multiline, this.$styleSetMap.multiline = !1), r.prototype.$setMultiline.call(this, t)
            }, n.prototype.$setBorder = function (t) {
                this.$changeFromStyle || (delete this.$revertStyle.border, this.$styleSetMap.border = !1), r.prototype.$setBorder.call(this, t)
            }, n.prototype.$setBorderColor = function (t) {
                this.$changeFromStyle || (delete this.$revertStyle.borderColor, this.$styleSetMap.borderColor = !1), r.prototype.$setBorderColor.call(this, t)
            }, n.prototype.$setBackground = function (t) {
                this.$changeFromStyle || (delete this.$revertStyle.background, this.$styleSetMap.background = !1), r.prototype.$setBackground.call(this, t)
            }, n.prototype.$setBackgroundColor = function (t) {
                this.$changeFromStyle || (delete this.$revertStyle.backgroundColor, this.$styleSetMap.backgroundColor = !1), r.prototype.$setBackgroundColor.call(this, t)
            }, n.prototype.$invalidateContentBounds = function () {
                r.prototype.$invalidateContentBounds.call(this), this.invalidateSize()
            }, n.prototype.$setWidth = function (t) {
                var e = r.prototype.$setWidth.call(this, t),
                    t = i.prototype.$setWidth.call(this, t);
                return e && t
            }, n.prototype.$setHeight = function (t) {
                var e = r.prototype.$setHeight.call(this, t),
                    t = i.prototype.$setHeight.call(this, t);
                return e && t
            }, n.prototype.$setText = function (t) {
                t = r.prototype.$setText.call(this, t);
                return e.PropertyEvent.dispatchPropertyEvent(this, e.PropertyEvent.PROPERTY_CHANGE, "text"), t
            }, n.prototype.createChildren = function () {}, n.prototype.childrenCreated = function () {}, n.prototype.commitProperties = function () {}, n.prototype.measure = function () {
                var t = this.$UIComponent,
                    e = this.$TextField[3],
                    i = NaN;
                isNaN(this._widthConstraint) ? isNaN(t[8]) ? 1e5 != t[13] && (i = t[13]) : i = t[8] : (i = this._widthConstraint, this._widthConstraint = NaN), r.prototype.$setWidth.call(this, i), this.setMeasuredSize(this.textWidth, this.textHeight), r.prototype.$setWidth.call(this, e)
            }, n.prototype.updateDisplayList = function (t, e) {
                r.prototype.$setWidth.call(this, t), r.prototype.$setHeight.call(this, e)
            }, n.prototype.invalidateParentLayout = function () {}, n.prototype.setMeasuredSize = function (t, e) {}, n.prototype.invalidateProperties = function () {}, n.prototype.validateProperties = function () {}, n.prototype.invalidateSize = function () {}, n.prototype.validateSize = function (t) {}, n.prototype.invalidateDisplayList = function () {}, n.prototype.validateDisplayList = function () {}, n.prototype.validateNow = function () {}, n.prototype.setLayoutBoundsSize = function (t, e) {
                i.prototype.setLayoutBoundsSize.call(this, t, e), isNaN(t) || t === this._widthConstraint || 0 == t ? this._widthConstraint = t : (this._widthConstraint = t, e = this.$UIComponent, isNaN(e[9]) && t != e[16] && this.invalidateSize())
            }, n.prototype.setLayoutBoundsPosition = function (t, e) {}, n.prototype.getLayoutBounds = function (t) {}, n.prototype.getPreferredBounds = function (t) {}, n);

        function n(t) {
            var e = r.call(this) || this;
            return e.$styleSetMap = {
                fontFamily: !0,
                size: !0,
                bold: !0,
                italic: !0,
                textAlign: !0,
                verticalAlign: !0,
                lineSpacing: !0,
                textColor: !0,
                wordWrap: !0,
                displayAsPassword: !0,
                strokeColor: !0,
                stroke: !0,
                maxChars: !0,
                multiline: !0,
                border: !0,
                borderColor: !0,
                background: !0,
                backgroundColor: !0
            }, e.$revertStyle = {}, e.$style = null, e.$changeFromStyle = !1, e._widthConstraint = NaN, e.initializeUIValues(), e.text = t, e
        }
        e.Label = t, __reflect(t.prototype, "eui.Label", ["eui.UIComponent", "egret.DisplayObject", "eui.IDisplayText"]), e.sys.implementUIComponent(t, egret.TextField), e.registerBindable(t.prototype, "text")
    }(eui = eui || {}),
    function (o) {
        var s, t = (s = o.ListBase, __extends(e, s), Object.defineProperty(e.prototype, "selectedIndices", {
            get: function () {
                return this._proposedSelectedIndices || this._selectedIndices
            },
            set: function (t) {
                this.setSelectedIndices(t, !1)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "selectedIndex", {
            get: function () {
                return this._proposedSelectedIndices ? 0 < this._proposedSelectedIndices.length ? this._proposedSelectedIndices[0] : -1 : this.$getSelectedIndex()
            },
            set: function (t) {
                this.setSelectedIndex(t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "selectedItems", {
            get: function () {
                var t = [],
                    e = this.selectedIndices;
                if (e)
                    for (var i = e.length, r = 0; r < i; r++) t[r] = this.$dataProvider.getItemAt(e[r]);
                return t
            },
            set: function (t) {
                var e = [];
                if (t)
                    for (var i = t.length, r = 0; r < i; r++) {
                        var n = this.$dataProvider.getItemIndex(t[r]);
                        if (-1 != n && e.splice(0, 0, n), -1 == n) {
                            e = [];
                            break
                        }
                    }
                this.setSelectedIndices(e, !1)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setSelectedIndices = function (t, e) {
            var i = this.$ListBase;
            e && (i[4] = i[4] || e), this._proposedSelectedIndices = t || [], this.invalidateProperties()
        }, e.prototype.commitProperties = function () {
            s.prototype.commitProperties.call(this), this._proposedSelectedIndices && this.commitSelection()
        }, e.prototype.commitSelection = function (t) {
            void 0 === t && (t = !0);
            var e = this.$ListBase,
                i = e[3];
            this._proposedSelectedIndices && (this._proposedSelectedIndices = this._proposedSelectedIndices.filter(this.isValidIndex), !this.allowMultipleSelection && 0 < this._proposedSelectedIndices.length && ((n = []).push(this._proposedSelectedIndices[0]), this._proposedSelectedIndices = n), 0 < this._proposedSelectedIndices.length ? e[2] = this._proposedSelectedIndices[0] : e[2] = -1);
            var r = s.prototype.commitSelection.call(this, !1);
            if (!r) return this._proposedSelectedIndices = null, !1;
            var n = this.$getSelectedIndex();
            return n > o.ListBase.NO_SELECTION && (this._proposedSelectedIndices ? -1 == this._proposedSelectedIndices.indexOf(n) && this._proposedSelectedIndices.push(n) : this._proposedSelectedIndices = [n]), this._proposedSelectedIndices && (-1 != this._proposedSelectedIndices.indexOf(i) && this.itemSelected(i, !0), this.commitMultipleSelection()), t && r && (e[4] && (this.dispatchEventWith(egret.Event.CHANGE), e[4] = !1), o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "selectedIndex"), o.PropertyEvent.dispatchPropertyEvent(this, o.PropertyEvent.PROPERTY_CHANGE, "selectedItem")), r
        }, e.prototype.commitMultipleSelection = function () {
            var t, e, i = [],
                r = [],
                n = this._selectedIndices,
                o = this._proposedSelectedIndices;
            if (0 < n.length && 0 < o.length) {
                for (e = o.length, t = 0; t < e; t++) - 1 == n.indexOf(o[t]) && r.push(o[t]);
                for (e = n.length, t = 0; t < e; t++) - 1 == o.indexOf(n[t]) && i.push(n[t])
            } else 0 < n.length ? i = n : 0 < o.length && (r = o);
            if (this._selectedIndices = o, 0 < i.length)
                for (e = i.length, t = 0; t < e; t++) this.itemSelected(i[t], !1);
            if (0 < r.length)
                for (e = r.length, t = 0; t < e; t++) this.itemSelected(r[t], !0);
            this._proposedSelectedIndices = null
        }, e.prototype.$isItemIndexSelected = function (t) {
            return this.allowMultipleSelection ? -1 != this._selectedIndices.indexOf(t) : s.prototype.$isItemIndexSelected.call(this, t)
        }, e.prototype.dataProviderRefreshed = function () {
            this.allowMultipleSelection || s.prototype.dataProviderRefreshed.call(this)
        }, e.prototype.calculateSelectedIndices = function (t) {
            var e = [],
                i = this._selectedIndices,
                r = i.length;
            if (0 < r) {
                if (1 == r && i[0] == t) return this.$ListBase[0] && e.splice(0, 0, i[0]), e;
                for (var n = !1, o = 0; o < r; o++) i[o] == t ? n = !0 : i[o] != t && e.splice(0, 0, i[o]);
                return n || e.splice(0, 0, t), e
            }
            return e.splice(0, 0, t), e
        }, e.prototype.onRendererTouchEnd = function (t) {
            var e;
            this.allowMultipleSelection ? (e = t.currentTarget) == this.$ListBase[7] && (this.setSelectedIndices(this.calculateSelectedIndices(e.itemIndex), !0), o.ItemTapEvent.dispatchItemTapEvent(this, o.ItemTapEvent.ITEM_TAP, e)) : s.prototype.onRendererTouchEnd.call(this, t)
        }, e);

        function e() {
            var r = null !== s && s.apply(this, arguments) || this;
            return r.allowMultipleSelection = !1, r._selectedIndices = [], r.isValidIndex = function (t, e, i) {
                return r.$dataProvider && 0 <= t && t < r.$dataProvider.length && t % 1 == 0
            }, r
        }
        o.List = t, __reflect(t.prototype, "eui.List")
    }(eui = eui || {}),
    function (e) {
        var i, t = (i = e.Component, __extends(r, i), r.prototype.onWindowTouchBegin = function (t) {
            this.$parent.addChild(this)
        }, Object.defineProperty(r.prototype, "elementsContent", {
            set: function (t) {
                if (t)
                    for (var e = t.length, i = 0; i < e; i++) this.addChild(t[i])
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "title", {
            get: function () {
                return this._title
            },
            set: function (t) {
                this._title = t, this.titleDisplay && (this.titleDisplay.text = this.title)
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.partAdded = function (t, e) {
            i.prototype.partAdded.call(this, t, e), e == this.titleDisplay ? this.titleDisplay.text = this._title : e == this.moveArea ? this.moveArea.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this) : e == this.closeButton && this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onCloseButtonClick, this)
        }, r.prototype.partRemoved = function (t, e) {
            i.prototype.partRemoved.call(this, t, e), e == this.moveArea ? this.moveArea.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBegin, this) : e == this.closeButton && this.closeButton.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onCloseButtonClick, this)
        }, r.prototype.onCloseButtonClick = function (t) {
            e.UIEvent.dispatchUIEvent(this, e.UIEvent.CLOSING, !0, !0) && this.close()
        }, r.prototype.close = function () {
            this.$parent && this.$parent.removeChild(this)
        }, r.prototype.onTouchBegin = function (t) {
            this.$includeInLayout = !1, this.offsetPointX = this.x - t.$stageX, this.offsetPointY = this.y - t.$stageY, this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this), this.$stage.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this)
        }, r.prototype.onTouchMove = function (t) {
            this.x = t.$stageX + this.offsetPointX, this.y = t.$stageY + this.offsetPointY
        }, r.prototype.onTouchEnd = function (t) {
            t = t.$currentTarget;
            t.removeEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this)
        }, r);

        function r() {
            var t = i.call(this) || this;
            return t.closeButton = null, t.moveArea = null, t.titleDisplay = null, t._title = "", t.offsetPointX = 0, t.offsetPointY = 0, t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, t.onWindowTouchBegin, t, !1, 100), t
        }
        e.Panel = t, __reflect(t.prototype, "eui.Panel"), e.registerProperty(t, "elementsContent", "Array", !0)
    }(eui = eui || {}),
    function (u) {
        var n, t = (n = u.Range, __extends(e, n), Object.defineProperty(e.prototype, "labelFunction", {
            get: function () {
                return this._labelFunction
            },
            set: function (t) {
                this._labelFunction != t && (this._labelFunction = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.valueToLabel = function (t, e) {
            return null != this.labelFunction ? this._labelFunction(t, e) : t + " / " + e
        }, Object.defineProperty(e.prototype, "slideDuration", {
            get: function () {
                return this._slideDuration
            },
            set: function (t) {
                this._slideDuration !== (t = 0 | +t) && (this._slideDuration = t, this.animation.isPlaying && (this.animation.stop(), this.setValue(this.slideToValue)))
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "direction", {
            get: function () {
                return this._direction
            },
            set: function (t) {
                this._direction != t && (this.thumb && (this.thumb.x = this.thumbInitX), this.thumb && (this.thumb.y = this.thumbInitY), this._direction = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.$setValue = function (t) {
            if (this.value === t) return !1;
            var e = this.$Range,
                i = n.prototype.$setValue.call(this, t);
            if (0 < this._slideDuration && this.$stage) {
                this.validateProperties();
                var r = this.animation;
                if (r.isPlaying && (this.animationValue = this.slideToValue, this.invalidateDisplayList(), r.stop()), this.slideToValue = this.nearestValidValue(t, e[7]), this.slideToValue === this.animationValue) return i;
                e = this._slideDuration * (Math.abs(this.animationValue - this.slideToValue) / (e[0] - e[2]));
                r.duration = e == 1 / 0 ? 0 : e, r.from = this.animationValue, r.to = this.slideToValue, r.play()
            } else this.animationValue = this.value;
            return i
        }, e.prototype.animationUpdateHandler = function (t) {
            var e = this.$Range,
                t = this.nearestValidValue(t.currentValue, e[7]);
            this.animationValue = Math.min(e[0], Math.max(e[2], t)), this.invalidateDisplayList()
        }, e.prototype.partAdded = function (t, e) {
            n.prototype.partAdded.call(this, t, e), e === this.thumb && (this.thumb.x && (this.thumbInitX = this.thumb.x), this.thumb.y && (this.thumbInitY = this.thumb.y), this.thumb.addEventListener(egret.Event.RESIZE, this.onThumbResize, this))
        }, e.prototype.partRemoved = function (t, e) {
            n.prototype.partRemoved.call(this, t, e), e === this.thumb && this.thumb.removeEventListener(egret.Event.RESIZE, this.onThumbResize, this)
        }, e.prototype.onThumbResize = function (t) {
            this.updateSkinDisplayList()
        }, e.prototype.updateSkinDisplayList = function () {
            var t = this.animation.isPlaying ? this.animationValue : this.value,
                e = this.maximum,
                i = this.thumb;
            if (i) {
                var r = i.width,
                    n = i.height,
                    o = Math.round(t / e * r);
                (o < 0 || o === 1 / 0) && (o = 0);
                var s = Math.round(t / e * n);
                (s < 0 || s === 1 / 0) && (s = 0);
                var a = i.$scrollRect;
                (a = a || egret.$TempRectangle).setTo(0, 0, r, n);
                var h = i.x - a.x,
                    l = i.y - a.y;
                switch (this._direction) {
                    case u.Direction.LTR:
                        a.width = o, i.x = h;
                        break;
                    case u.Direction.RTL:
                        a.width = o, a.x = r - o, i.x = a.x;
                        break;
                    case u.Direction.TTB:
                        a.height = s, i.y = l;
                        break;
                    case u.Direction.BTT:
                        a.height = s, a.y = n - s, i.y = a.y
                }
                i.scrollRect = a
            }
            this.labelDisplay && (this.labelDisplay.text = this.valueToLabel(t, e))
        }, e);

        function e() {
            var t = n.call(this) || this;
            return t.thumb = null, t.labelDisplay = null, t._labelFunction = null, t._slideDuration = 500, t._direction = u.Direction.LTR, t.slideToValue = 0, t.animationValue = 0, t.thumbInitX = 0, t.thumbInitY = 0, t.animation = new u.sys.Animation(t.animationUpdateHandler, t), t
        }
        u.ProgressBar = t, __reflect(t.prototype, "eui.ProgressBar")
    }(eui = eui || {}),
    function (e) {
        var i, r = {},
            t = (i = e.ToggleButton, __extends(n, i), Object.defineProperty(n.prototype, "enabled", {
                get: function () {
                    return !!this.$Component[3] && (!this.$radioButtonGroup || this.$radioButtonGroup.$enabled)
                },
                set: function (t) {
                    this.$setEnabled(t)
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(n.prototype, "group", {
                get: function () {
                    var t;
                    return !this._group && this._groupName && ((t = r[this._groupName]) || ((t = new e.RadioButtonGroup).$name = this._groupName, r[this._groupName] = t), this._group = t), this._group
                },
                set: function (t) {
                    this._group != t && (this.$radioButtonGroup && this.$radioButtonGroup.$removeInstance(this, !1), this._group = t, this._groupName = t ? this.group.$name : "radioGroup", this.groupChanged = !0, this.invalidateProperties(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(n.prototype, "groupName", {
                get: function () {
                    return this._groupName
                },
                set: function (t) {
                    t && "" != t && (this._groupName = t, this.$radioButtonGroup && this.$radioButtonGroup.$removeInstance(this, !1), this._group = null, this.groupChanged = !0, this.invalidateProperties(), this.invalidateDisplayList())
                },
                enumerable: !0,
                configurable: !0
            }), n.prototype.$setSelected = function (t) {
                t = i.prototype.$setSelected.call(this, t);
                return this.invalidateDisplayList(), t
            }, Object.defineProperty(n.prototype, "value", {
                get: function () {
                    return this._value
                },
                set: function (t) {
                    this._value != t && (this._value = t, this.$selected && this.group && e.PropertyEvent.dispatchPropertyEvent(this.group, e.PropertyEvent.PROPERTY_CHANGE, "selectedValue"))
                },
                enumerable: !0,
                configurable: !0
            }), n.prototype.commitProperties = function () {
                this.groupChanged && (this.addToGroup(), this.groupChanged = !1), i.prototype.commitProperties.call(this)
            }, n.prototype.updateDisplayList = function (t, e) {
                i.prototype.updateDisplayList.call(this, t, e), this.group && (this.$selected ? this._group.$setSelection(this, !1) : this.group.selection == this && this._group.$setSelection(null, !1))
            }, n.prototype.buttonReleased = function () {
                this.enabled && !this.selected && (this.$radioButtonGroup || this.addToGroup(), i.prototype.buttonReleased.call(this), this.group.$setSelection(this, !0))
            }, n.prototype.addToGroup = function () {
                var t = this.group;
                return t && t.$addInstance(this), t
            }, n);

        function n() {
            var t = i.call(this) || this;
            return t.$indexNumber = 0, t.$radioButtonGroup = null, t._group = null, t.groupChanged = !1, t._groupName = "radioGroup", t._value = null, t.groupName = "radioGroup", t
        }
        e.RadioButton = t, __reflect(t.prototype, "eui.RadioButton")
    }(eui = eui || {}),
    function (n) {
        var e = 0;

        function h(t, e) {
            var i = t.parent,
                r = e.parent;
            if (!i || !r) return 0;
            var n = t.$nestLevel,
                o = e.$nestLevel,
                s = 0,
                a = 0;
            return i == r && (s = i.getChildIndex(t), a = r.getChildIndex(e)), o < n || a < s ? 1 : n < o || s < a ? -1 : t == e ? 0 : h(i, r)
        }
        var i, t = (i = egret.EventDispatcher, __extends(r, i), r.prototype.getRadioButtonAt = function (t) {
            return this.radioButtons[t]
        }, Object.defineProperty(r.prototype, "enabled", {
            get: function () {
                return this.$enabled
            },
            set: function (t) {
                if (this.$enabled !== (t = !!t)) {
                    this.$enabled = t;
                    for (var e = this.radioButtons, i = e.length, r = 0; r < i; r++) e[r].invalidateState()
                }
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "numRadioButtons", {
            get: function () {
                return this.radioButtons.length
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "selectedValue", {
            get: function () {
                return this.selection ? null != this.selection.value ? this.selection.value : this.selection.label : null
            },
            set: function (t) {
                if (null != (this._selectedValue = t))
                    for (var e = this.numRadioButtons, i = 0; i < e; i++) {
                        var r = this.radioButtons[i];
                        if (r.value == t || r.label == t) {
                            this.changeSelection(i, !1), this._selectedValue = null, n.PropertyEvent.dispatchPropertyEvent(this, n.PropertyEvent.PROPERTY_CHANGE, "selectedValue");
                            break
                        }
                    } else this.$setSelection(null, !1)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "selection", {
            get: function () {
                return this._selection
            },
            set: function (t) {
                this._selection != t && this.$setSelection(t, !1)
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.$addInstance = function (t) {
            t.addEventListener(egret.Event.REMOVED_FROM_STAGE, this.removedHandler, this);
            var e = this.radioButtons;
            e.push(t), e.sort(h);
            for (var i = e.length, r = 0; r < i; r++) e[r].$indexNumber = r;
            this._selectedValue && (this.selectedValue = this._selectedValue), 1 == t.selected && (this.selection = t), t.$radioButtonGroup = this, t.invalidateState()
        }, r.prototype.$removeInstance = function (t, e) {
            if (t)
                for (var i = !1, r = this.radioButtons, n = r.length, o = 0; o < n; o++) {
                    var s = r[o];
                    i ? s.$indexNumber = s.$indexNumber - 1 : s == t && (e && t.addEventListener(egret.Event.ADDED_TO_STAGE, this.addedHandler, this), t == this._selection && (this._selection = null), t.$radioButtonGroup = null, t.invalidateState(), this.radioButtons.splice(o, 1), i = !0, o--, n--)
                }
        }, r.prototype.$setSelection = function (t, e) {
            if (this._selection == t) return !1;
            if (t) {
                for (var i = this.numRadioButtons, r = 0; r < i; r++)
                    if (t == this.getRadioButtonAt(r)) {
                        this.changeSelection(r, e);
                        break
                    }
            } else this._selection && (this._selection.selected = !1, this._selection = null, e && this.dispatchEventWith(egret.Event.CHANGE));
            return n.PropertyEvent.dispatchPropertyEvent(this, n.PropertyEvent.PROPERTY_CHANGE, "selectedValue"), !0
        }, r.prototype.changeSelection = function (t, e) {
            t = this.getRadioButtonAt(t);
            t && t != this._selection && (this._selection && (this._selection.selected = !1), this._selection = t, this._selection.selected = !0, e && this.dispatchEventWith(egret.Event.CHANGE))
        }, r.prototype.addedHandler = function (t) {
            var e = t.target;
            e == t.currentTarget && (e.removeEventListener(egret.Event.ADDED_TO_STAGE, this.addedHandler, this), this.$addInstance(e))
        }, r.prototype.removedHandler = function (t) {
            var e = t.target;
            e == t.currentTarget && (e.removeEventListener(egret.Event.REMOVED_FROM_STAGE, this.removedHandler, this), this.$removeInstance(e, !0))
        }, r);

        function r() {
            var t = i.call(this) || this;
            return t.$name = null, t.radioButtons = [], t.$enabled = !0, t._selectedValue = null, t._selection = null, t.$name = "_radioButtonGroup" + e++, t
        }
        n.RadioButtonGroup = t, __reflect(t.prototype, "eui.RadioButtonGroup"), n.registerBindable(t.prototype, "selectedValue")
    }(eui = eui || {}),
    function (t) {
        var n, e = (n = t.Component, __extends(i, n), Object.defineProperty(i.prototype, "graphics", {
            get: function () {
                return this.$graphics
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.$measureContentBounds = function (t) {
            this.$graphics && t.setTo(0, 0, this.width, this.height)
        }, Object.defineProperty(i.prototype, "fillColor", {
            get: function () {
                return this.$fillColor
            },
            set: function (t) {
                null != t && this.$fillColor != t && (this.$fillColor = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "fillAlpha", {
            get: function () {
                return this.$fillAlpha
            },
            set: function (t) {
                this.$fillAlpha != t && (this.$fillAlpha = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "strokeColor", {
            get: function () {
                return this.$strokeColor
            },
            set: function (t) {
                this.$strokeColor != t && (this.$strokeColor = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "strokeAlpha", {
            get: function () {
                return this.$strokeAlpha
            },
            set: function (t) {
                this.$strokeAlpha != t && (this.$strokeAlpha = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "strokeWeight", {
            get: function () {
                return this.$strokeWeight
            },
            set: function (t) {
                this.$strokeWeight != t && (this.$strokeWeight = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "ellipseWidth", {
            get: function () {
                return this.$ellipseWidth
            },
            set: function (t) {
                this.$ellipseWidth != t && (this.$ellipseWidth = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(i.prototype, "ellipseHeight", {
            get: function () {
                return this.$ellipseHeight
            },
            set: function (t) {
                this.$ellipseHeight != t && (this.$ellipseHeight = t, this.invalidateDisplayList())
            },
            enumerable: !0,
            configurable: !0
        }), i.prototype.updateDisplayList = function (t, e) {
            var i = this.graphics;
            i.clear(), 0 < this.$strokeWeight && (i.beginFill(this.$fillColor, 0), i.lineStyle(this.$strokeWeight, this.$strokeColor, this.$strokeAlpha, !0, "normal", "square", "miter"), 0 == this.$ellipseWidth && 0 == this.$ellipseHeight ? i.drawRect(this.$strokeWeight / 2, this.$strokeWeight / 2, t - this.$strokeWeight, e - this.$strokeWeight) : i.drawRoundRect(this.$strokeWeight / 2, this.$strokeWeight / 2, t - this.$strokeWeight, e - this.$strokeWeight, this.$ellipseWidth, this.$ellipseHeight), i.endFill()), i.beginFill(this.$fillColor, this.$fillAlpha), i.lineStyle(this.$strokeWeight, this.$strokeColor, 0, !0, "normal", "square", "miter"), 0 == this.$ellipseWidth && 0 == this.$ellipseHeight ? i.drawRect(this.$strokeWeight, this.$strokeWeight, t - 2 * this.$strokeWeight, e - 2 * this.$strokeWeight) : i.drawRoundRect(this.$strokeWeight, this.$strokeWeight, t - 2 * this.$strokeWeight, e - 2 * this.$strokeWeight, this.$ellipseWidth, this.$ellipseHeight), i.endFill(), this.$invalidateContentBounds()
        }, i);

        function i(t, e, i) {
            var r = n.call(this) || this;
            return r.$fillColor = 0, r.$fillAlpha = 1, r.$strokeColor = 4473924, r.$strokeAlpha = 1, r.$strokeWeight = 0, r.$ellipseWidth = 0, r.$ellipseHeight = 0, r.touchChildren = !1, r.$graphics = new egret.Graphics, r.$graphics.$setTarget(r), r.width = t, r.height = e, r.fillColor = i, r
        }
        t.Rect = e, __reflect(e.prototype, "eui.Rect")
    }(eui = eui || {}),
    function (n) {
        var i, r, t = (r = n.Component, __extends(o, r), Object.defineProperty(o.prototype, "bounces", {
            get: function () {
                return this.$bounces
            },
            set: function (t) {
                this.$bounces = !!t;
                t = this.$Scroller[8];
                t && (t.$bounces = this.$bounces);
                t = this.$Scroller[9];
                t && (t.$bounces = this.$bounces)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(o.prototype, "throwSpeed", {
            get: function () {
                return this.$Scroller[8].$scrollFactor
            },
            set: function (t) {
                this.$Scroller[8].$scrollFactor = t = (t = +t) < 0 ? 0 : t, this.$Scroller[9].$scrollFactor = t
            },
            enumerable: !0,
            configurable: !0
        }), o.prototype.$getThrowInfo = function (t, e) {
            return i ? (i.currentPos = t, i.toPos = e) : i = new n.ScrollerThrowEvent(n.ScrollerThrowEvent.THROW, !1, !1, t, e), i
        }, Object.defineProperty(o.prototype, "scrollPolicyV", {
            get: function () {
                return this.$Scroller[0]
            },
            set: function (t) {
                var e = this.$Scroller;
                e[0] != t && (e[0] = t, this.checkScrollPolicy())
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(o.prototype, "scrollPolicyH", {
            get: function () {
                return this.$Scroller[1]
            },
            set: function (t) {
                var e = this.$Scroller;
                e[1] != t && (e[1] = t, this.checkScrollPolicy())
            },
            enumerable: !0,
            configurable: !0
        }), o.prototype.stopAnimation = function () {
            var t = this.$Scroller,
                e = t[9],
                t = t[8];
            (e.animation.isPlaying || t.animation.isPlaying) && n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_END), e.stop(), t.stop();
            e = this.verticalScrollBar, t = this.horizontalScrollBar;
            e && e.autoVisibility && (e.visible = !1), t && t.autoVisibility && (t.visible = !1)
        }, Object.defineProperty(o.prototype, "viewport", {
            get: function () {
                return this.$Scroller[10]
            },
            set: function (t) {
                var e = this.$Scroller;
                t != e[10] && (this.uninstallViewport(), e[10] = t, e[11] = !1, this.installViewport())
            },
            enumerable: !0,
            configurable: !0
        }), o.prototype.installViewport = function () {
            var t = this.viewport;
            t && (this.addChildAt(t, 0), t.scrollEnabled = !0, t.addEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBeginCapture, this, !0), t.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEndCapture, this, !0), t.addEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapCapture, this, !0), t.addEventListener(egret.Event.REMOVED, this.onViewPortRemove, this)), this.horizontalScrollBar && (this.horizontalScrollBar.viewport = t), this.verticalScrollBar && (this.verticalScrollBar.viewport = t)
        }, o.prototype.uninstallViewport = function () {
            this.horizontalScrollBar && (this.horizontalScrollBar.viewport = null), this.verticalScrollBar && (this.verticalScrollBar.viewport = null);
            var t = this.viewport;
            t && (t.scrollEnabled = !1, t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN, this.onTouchBeginCapture, this, !0), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEndCapture, this, !0), t.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.onTouchTapCapture, this, !0), t.removeEventListener(egret.Event.REMOVED, this.onViewPortRemove, this), 0 == this.$Scroller[11] && this.removeChild(t))
        }, o.prototype.onViewPortRemove = function (t) {
            t.target == this.viewport && (this.$Scroller[11] = !0, this.viewport = null)
        }, o.prototype.setSkin = function (t) {
            r.prototype.setSkin.call(this, t);
            t = this.viewport;
            t && this.addChildAt(t, 0)
        }, o.prototype.onTouchBeginCapture = function (t) {
            this.$Scroller[12] = !1, this.checkScrollPolicy() && this.onTouchBegin(t)
        }, o.prototype.onTouchEndCapture = function (t) {
            this.$Scroller[12] && (t.$bubbles = !1, this.dispatchBubbleEvent(t), t.$bubbles = !0, t.stopPropagation(), this.onTouchEnd(t))
        }, o.prototype.onTouchTapCapture = function (t) {
            this.$Scroller[12] && (t.$bubbles = !1, this.dispatchBubbleEvent(t), t.$bubbles = !0, t.stopPropagation())
        }, o.prototype.checkScrollPolicy = function () {
            var t, e = this.$Scroller,
                i = e[10];
            if (!i) return !1;
            var r, n = i.$UIComponent;
            switch (e[1]) {
                case "auto":
                    t = i.contentWidth > n[10] || 0 !== i.scrollH;
                    break;
                case "on":
                    t = !0;
                    break;
                case "off":
                    t = !1
            }
            switch (e[6] = t, e[0]) {
                case "auto":
                    r = i.contentHeight > n[11] || 0 !== i.scrollV;
                    break;
                case "on":
                    r = !0;
                    break;
                case "off":
                    r = !1
            }
            return e[7] = r, t || r
        }, o.prototype.onTouchBegin = function (t) {
            var e;
            t.isDefaultPrevented() || this.checkScrollPolicy() && (this.downTarget = t.target, e = this.$Scroller, this.stopAnimation(), e[3] = t.$stageX, e[4] = t.$stageY, e[6] && e[8].start(t.$stageX), e[7] && e[9].start(t.$stageY), t = this.$stage, this.addEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this), t.addEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this, !0), this.addEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancel, this), this.addEventListener(egret.Event.REMOVED_FROM_STAGE, this.onRemoveListeners, this), this.tempStage = t)
        }, o.prototype.onTouchMove = function (t) {
            if (!t.isDefaultPrevented()) {
                var e = this.$Scroller;
                if (!e[5]) {
                    var i = void 0,
                        i = !(Math.abs(e[3] - t.$stageX) < o.scrollThreshold),
                        r = void 0,
                        r = !(Math.abs(e[4] - t.$stageY) < o.scrollThreshold);
                    if (!i && !r) return;
                    if (!r && i && "off" == e[1]) return;
                    if (!i && r && "off" == e[0]) return;
                    e[12] = !0, e[5] = !0, this.dispatchCancelEvent(t);
                    i = this.horizontalScrollBar, r = this.verticalScrollBar;
                    i && i.autoVisibility && e[6] && (i.visible = !0), r && r.autoVisibility && e[7] && (r.visible = !0), e[2] && e[2].reset(), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_START), this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this)
                }
                t.preventDefault();
                i = e[10], r = i.$UIComponent;
                e[6] && e[8].update(t.$stageX, i.contentWidth - r[10], i.scrollH), e[7] && e[9].update(t.$stageY, i.contentHeight - r[11], i.scrollV)
            }
        }, o.prototype.onTouchCancel = function (t) {
            this.$Scroller[5] || this.onRemoveListeners()
        }, o.prototype.dispatchBubbleEvent = function (t) {
            var e = this.$Scroller[10];
            if (e) {
                var i = egret.Event.create(egret.TouchEvent, t.type, t.bubbles, t.cancelable);
                i.$initTo(t.$stageX, t.$stageY, t.touchPointID);
                t = this.downTarget;
                i.$setTarget(t);
                for (var r = this.$getPropagationList(t), n = r.length, o = (r.length, -1), s = 0; s < n; s++)
                    if (r[s] === e) {
                        o = s;
                        break
                    } r.splice(0, r.length - o + 1), this.$dispatchPropagationEvent(i, r, 0), egret.Event.release(i)
            }
        }, o.prototype.dispatchCancelEvent = function (t) {
            var e = this.$Scroller[10];
            if (e) {
                var i = egret.Event.create(egret.TouchEvent, egret.TouchEvent.TOUCH_CANCEL, t.bubbles, t.cancelable);
                i.$initTo(t.$stageX, t.$stageY, t.touchPointID);
                t = this.downTarget;
                i.$setTarget(t);
                for (var r = this.$getPropagationList(t), n = r.length, t = .5 * r.length, o = -1, s = 0; s < n; s++)
                    if (r[s] === e) {
                        o = s;
                        break
                    } r.splice(0, o + 1 - 2), r.splice(r.length - 1 - o + 2, o + 1 - 2), this.$dispatchPropagationEvent(i, r, t -= o + 1), egret.Event.release(i)
            }
        }, o.prototype.onTouchEnd = function (t) {
            var e = this.$Scroller;
            e[5] = !1, this.onRemoveListeners();
            var i = e[10],
                r = i.$UIComponent;
            e[8].isStarted() && e[8].finish(i.scrollH, i.contentWidth - r[10]), e[9].isStarted() && e[9].finish(i.scrollV, i.contentHeight - r[11])
        }, o.prototype.onRemoveListeners = function () {
            var t = this.tempStage || this.$stage;
            this.removeEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this), t.removeEventListener(egret.TouchEvent.TOUCH_END, this.onTouchEnd, this, !0), t.removeEventListener(egret.TouchEvent.TOUCH_MOVE, this.onTouchMove, this), this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL, this.onTouchCancel, this), this.removeEventListener(egret.Event.REMOVED_FROM_STAGE, this.onRemoveListeners, this)
        }, o.prototype.horizontalUpdateHandler = function (t) {
            this.$Scroller[10].scrollH = t, this.dispatchEventWith(egret.Event.CHANGE)
        }, o.prototype.verticalUpdateHandler = function (t) {
            this.$Scroller[10].scrollV = t, this.dispatchEventWith(egret.Event.CHANGE)
        }, o.prototype.horizontalEndHandler = function () {
            this.$Scroller[9].isPlaying() || this.onChangeEnd()
        }, o.prototype.verticalEndHanlder = function () {
            this.$Scroller[8].isPlaying() || this.onChangeEnd()
        }, o.prototype.onChangeEnd = function () {
            var t = this.$Scroller,
                e = this.horizontalScrollBar,
                i = this.verticalScrollBar;
            (e && e.visible || i && i.visible) && (t[2] || (t[2] = new egret.Timer(200, 1), t[2].addEventListener(egret.TimerEvent.TIMER_COMPLETE, this.onAutoHideTimer, this)), t[2].reset(), t[2].start()), n.UIEvent.dispatchUIEvent(this, n.UIEvent.CHANGE_END)
        }, o.prototype.onAutoHideTimer = function (t) {
            var e = this.horizontalScrollBar,
                i = this.verticalScrollBar;
            e && e.autoVisibility && (e.visible = !1), i && i.autoVisibility && (i.visible = !1)
        }, o.prototype.updateDisplayList = function (t, e) {
            r.prototype.updateDisplayList.call(this, t, e);
            var i = this.viewport;
            i && (i.setLayoutBoundsSize(t, e), i.setLayoutBoundsPosition(0, 0))
        }, o.prototype.partAdded = function (t, e) {
            r.prototype.partAdded.call(this, t, e), e == this.horizontalScrollBar ? (this.horizontalScrollBar.touchChildren = !1, this.horizontalScrollBar.touchEnabled = !1, this.horizontalScrollBar.viewport = this.viewport, this.horizontalScrollBar.autoVisibility && (this.horizontalScrollBar.visible = !1)) : e == this.verticalScrollBar && (this.verticalScrollBar.touchChildren = !1, this.verticalScrollBar.touchEnabled = !1, this.verticalScrollBar.viewport = this.viewport, this.verticalScrollBar.autoVisibility && (this.verticalScrollBar.visible = !1))
        }, o.scrollThreshold = 5, o);

        function o() {
            var t = r.call(this) || this;
            t.$bounces = !0, t.horizontalScrollBar = null, t.verticalScrollBar = null;
            var e = new n.sys.TouchScroll(t.horizontalUpdateHandler, t.horizontalEndHandler, t),
                i = new n.sys.TouchScroll(t.verticalUpdateHandler, t.verticalEndHanlder, t);
            return t.$Scroller = {
                0: "auto",
                1: "auto",
                2: null,
                3: 0,
                4: 0,
                5: !1,
                6: !1,
                7: !1,
                8: e,
                9: i,
                10: null,
                11: !1,
                12: !1
            }, t
        }
        n.Scroller = t, __reflect(t.prototype, "eui.Scroller"), n.registerProperty(t, "viewport", "eui.IViewport", !0)
    }(eui = eui || {}),
    function (e) {
        var i, t = (i = egret.EventDispatcher, __extends(r, i), Object.defineProperty(r.prototype, "elementsContent", {
            set: function (t) {
                this.$elementsContent = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(r.prototype, "hostComponent", {
            get: function () {
                return this._hostComponent
            },
            set: function (t) {
                this._hostComponent != t && (this._hostComponent && this._hostComponent.removeEventListener(egret.Event.ADDED_TO_STAGE, this.onAddedToStage, this), this._hostComponent = t, (this.$stateValues.parent = t) && (this.commitCurrentState(), this.$stateValues.intialized || (t.$stage ? this.initializeStates(t.$stage) : t.once(egret.Event.ADDED_TO_STAGE, this.onAddedToStage, this))), e.PropertyEvent.dispatchPropertyEvent(this, e.PropertyEvent.PROPERTY_CHANGE, "hostComponent"))
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.onAddedToStage = function (t) {
            this.initializeStates(this._hostComponent.$stage)
        }, r);

        function r() {
            var t = null !== i && i.apply(this, arguments) || this;
            return t.maxWidth = 1e5, t.minWidth = 0, t.maxHeight = 1e5, t.minHeight = 0, t.width = NaN, t.height = NaN, t.$elementsContent = [], t._hostComponent = null, t.$stateValues = new e.sys.StateValues, t
        }
        e.Skin = t, __reflect(t.prototype, "eui.Skin"), e.sys.mixin(t, e.sys.StateClient), e.registerProperty(t, "elementsContent", "Array", !0), e.registerProperty(t, "states", "State[]"), e.registerBindable(t.prototype, "hostComponent")
    }(eui = eui || {}),
    function (i) {
        var r, t = (r = i.ListBase, __extends(e, r), e.prototype.createChildren = function () {
            var t;
            this.$layout || ((t = new i.HorizontalLayout).gap = 0, t.horizontalAlign = i.JustifyAlign.JUSTIFY, t.verticalAlign = i.JustifyAlign.CONTENT_JUSTIFY, this.$setLayout(t)), r.prototype.createChildren.call(this)
        }, e.prototype.$setDataProvider = function (t) {
            var e = this.$dataProvider;
            return e && e instanceof i.ViewStack && (e.removeEventListener(i.PropertyEvent.PROPERTY_CHANGE, this.onViewStackIndexChange, this), this.removeEventListener(egret.Event.CHANGE, this.onIndexChanged, this)), t && t instanceof i.ViewStack && (t.addEventListener(i.PropertyEvent.PROPERTY_CHANGE, this.onViewStackIndexChange, this), this.addEventListener(egret.Event.CHANGE, this.onIndexChanged, this)), r.prototype.$setDataProvider.call(this, t)
        }, e.prototype.onIndexChanged = function (t) {
            this.indexBeingUpdated = !0, this.$dataProvider.selectedIndex = this.selectedIndex, this.indexBeingUpdated = !1
        }, e.prototype.onViewStackIndexChange = function (t) {
            "selectedIndex" != t.property || this.indexBeingUpdated || this.setSelectedIndex(this.$dataProvider.selectedIndex, !1)
        }, e);

        function e() {
            var t = r.call(this) || this;
            return t.indexBeingUpdated = !1, t.requireSelection = !0, t.useVirtualLayout = !1, t
        }
        i.TabBar = t, __reflect(t.prototype, "eui.TabBar")
    }(eui = eui || {}),
    function (i) {
        var r, n = egret.FocusEvent,
            t = (r = i.Component, __extends(e, r), Object.defineProperty(e.prototype, "prompt", {
                get: function () {
                    return this.promptDisplay ? this.promptDisplay.text : this.$TextInput[0]
                },
                set: function (t) {
                    this.$TextInput[0] = t, this.promptDisplay && (this.promptDisplay.text = t), this.invalidateProperties(), this.invalidateState()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "displayAsPassword", {
                get: function () {
                    if (this.textDisplay) return this.textDisplay.displayAsPassword;
                    var t = this.$TextInput[1];
                    return t || !1
                },
                set: function (t) {
                    this.$TextInput[1] = t, this.textDisplay && (this.textDisplay.displayAsPassword = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "inputType", {
                get: function () {
                    return this.textDisplay ? this.textDisplay.inputType : this.$TextInput[8]
                },
                set: function (t) {
                    this.$TextInput[8] = t, this.textDisplay && (this.textDisplay.inputType = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "textColor", {
                get: function () {
                    return this.textDisplay ? this.textDisplay.textColor : this.$TextInput[2]
                },
                set: function (t) {
                    this.$TextInput[2] = t, this.textDisplay && (this.textDisplay.textColor = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "maxChars", {
                get: function () {
                    if (this.textDisplay) return this.textDisplay.maxChars;
                    var t = this.$TextInput[3];
                    return t || 0
                },
                set: function (t) {
                    this.$TextInput[3] = t, this.textDisplay && (this.textDisplay.maxChars = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "maxWidth", {
                get: function () {
                    if (this.textDisplay) return this.textDisplay.maxWidth;
                    var t = this.$TextInput[4];
                    return t || 1e5
                },
                set: function (t) {
                    this.$TextInput[4] = t, this.textDisplay && (this.textDisplay.maxWidth = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "maxHeight", {
                get: function () {
                    this.textDisplay;
                    var t = this.$TextInput[5];
                    return t || 1e5
                },
                set: function (t) {
                    this.$TextInput[5] = t, this.textDisplay && (this.textDisplay.maxHeight = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "text", {
                get: function () {
                    return this.textDisplay ? this.textDisplay.text : this.$TextInput[6]
                },
                set: function (t) {
                    this.$TextInput[6] = t, this.textDisplay && (this.textDisplay.text = t), this.invalidateProperties(), this.invalidateState()
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "restrict", {
                get: function () {
                    return this.textDisplay ? this.textDisplay.restrict : this.$TextInput[7]
                },
                set: function (t) {
                    this.$TextInput[7] = t, this.textDisplay && (this.textDisplay.restrict = t), this.invalidateProperties()
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype.focusInHandler = function (t) {
                this.isFocus = !0, this.invalidateState()
            }, e.prototype.focusOutHandler = function (t) {
                this.isFocus = !1, this.invalidateState()
            }, e.prototype.getCurrentState = function () {
                var t = this.skin;
                return !this.prompt || this.isFocus || this.text ? this.enabled ? "normal" : "disabled" : this.enabled && t.hasState("normalWithPrompt") ? "normalWithPrompt" : !this.enabled && t.hasState("disabledWithPrompt") ? "disabledWithPrompt" : void 0
            }, e.prototype.partAdded = function (t, e) {
                r.prototype.partAdded.call(this, t, e);
                t = this.$TextInput;
                e == this.textDisplay ? (this.textDisplayAdded(), this.textDisplay instanceof i.EditableText && (this.textDisplay.addEventListener(n.FOCUS_IN, this.focusInHandler, this), this.textDisplay.addEventListener(n.FOCUS_OUT, this.focusOutHandler, this))) : e == this.promptDisplay && t[0] && (this.promptDisplay.text = t[0])
            }, e.prototype.partRemoved = function (t, e) {
                r.prototype.partRemoved.call(this, t, e), e == this.textDisplay ? (this.textDisplayRemoved(), this.textDisplay instanceof i.EditableText && (this.textDisplay.removeEventListener(n.FOCUS_IN, this.focusInHandler, this), this.textDisplay.removeEventListener(n.FOCUS_OUT, this.focusOutHandler, this))) : e == this.promptDisplay && (this.$TextInput[0] = this.promptDisplay.text)
            }, e.prototype.textDisplayAdded = function () {
                var t = this.$TextInput;
                t[1] && (this.textDisplay.displayAsPassword = t[1]), t[2] && (this.textDisplay.textColor = t[2]), t[3] && (this.textDisplay.maxChars = t[3]), t[4] && (this.textDisplay.maxWidth = t[4]), t[5] && (this.textDisplay.maxHeight = t[5]), t[6] && (this.textDisplay.text = t[6]), t[7] && (this.textDisplay.restrict = t[7]), t[8] && (this.textDisplay.inputType = t[8])
            }, e.prototype.textDisplayRemoved = function () {
                var t = this.$TextInput;
                t[1] = this.textDisplay.displayAsPassword, t[2] = this.textDisplay.textColor, t[3] = this.textDisplay.maxChars, t[4] = this.textDisplay.maxWidth, t[5] = this.textDisplay.maxHeight, t[6] = this.textDisplay.text, t[7] = this.textDisplay.restrict, t[8] = this.textDisplay.inputType
            }, e);

        function e() {
            var t = r.call(this) || this;
            return t.isFocus = !1, t.$TextInput = {
                0: null,
                1: null,
                2: null,
                3: null,
                4: null,
                5: null,
                6: "",
                7: null,
                8: egret.TextFieldInputType.TEXT
            }, t
        }
        i.TextInput = t, __reflect(t.prototype, "eui.TextInput")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.ToggleButton, __extends(r, e), r);

        function r() {
            return e.call(this) || this
        }
        t.CheckBox = i, __reflect(i.prototype, "eui.CheckBox")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.ToggleButton, __extends(r, e), r);

        function r() {
            return e.call(this) || this
        }
        t.ToggleSwitch = i, __reflect(i.prototype, "eui.ToggleSwitch")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.Group, __extends(r, e), r.prototype.onAddToStage = function (t) {
            this.$stage.addEventListener(egret.Event.RESIZE, this.onResize, this), this.onResize()
        }, r.prototype.onRemoveFromStage = function (t) {
            this.$stage.removeEventListener(egret.Event.RESIZE, this.onResize, this)
        }, r.prototype.onResize = function (t) {
            var e = this.$stage;
            this.$setWidth(e.$stageWidth), this.$setHeight(e.$stageHeight)
        }, r);

        function r() {
            var t = e.call(this) || this;
            return t.addEventListener(egret.Event.ADDED_TO_STAGE, t.onAddToStage, t), t.addEventListener(egret.Event.REMOVED_FROM_STAGE, t.onRemoveFromStage, t), t
        }
        t.UILayer = i, __reflect(i.prototype, "eui.UILayer")
    }(eui = eui || {}),
    function (t) {
        var h, e = (h = t.ScrollBarBase, __extends(i, h), i.prototype.updateDisplayList = function (t, e) {
            h.prototype.updateDisplayList.call(this, t, e);
            var i, r, n, o, s = this.thumb,
                a = this.$viewport;
            s && a && (n = egret.$TempRectangle, s.getPreferredBounds(n), i = n.height, r = n.x, t = a.scrollV, n = a.contentHeight, a = a.height, t <= 0 ? (o = i * (1 - -t / (.5 * a)), o = Math.max(5, Math.round(o)), s.setLayoutBoundsSize(NaN, o), s.setLayoutBoundsPosition(r, 0)) : n - a <= t ? (o = i * (1 - (t - n + a) / (.5 * a)), o = Math.max(5, Math.round(o)), s.setLayoutBoundsSize(NaN, o), s.setLayoutBoundsPosition(r, e - o)) : (a = (e - i) * t / (n - a), s.setLayoutBoundsSize(NaN, NaN), s.setLayoutBoundsPosition(r, a)))
        }, i.prototype.onPropertyChanged = function (t) {
            switch (t.property) {
                case "scrollV":
                case "contentHeight":
                    this.invalidateDisplayList()
            }
        }, i);

        function i() {
            return null !== h && h.apply(this, arguments) || this
        }
        t.VScrollBar = e, __reflect(e.prototype, "eui.VScrollBar")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = t.SliderBase, __extends(r, e), r.prototype.pointToValue = function (t, e) {
            if (!this.thumb || !this.track) return 0;
            var i = this.$Range,
                r = i[0] - i[2],
                n = this.getThumbRange();
            return i[2] + (0 != n ? (n - e) / n * r : 0)
        }, r.prototype.getThumbRange = function () {
            var t = egret.$TempRectangle;
            this.track.getLayoutBounds(t);
            var e = t.height;
            return this.thumb.getLayoutBounds(t), e - t.height
        }, r.prototype.updateSkinDisplayList = function () {
            var t, e, i, r, n, o;
            this.thumb && this.track && (o = this.$Range, t = this.getThumbRange(), r = 0 < (i = o[0] - o[2]) ? t - (this.pendingValue - o[2]) / i * t : 0, e = (n = this.track.localToGlobal(0, r, egret.$TempPoint)).x, o = n.y, i = this.thumb.$parent.globalToLocal(e, o, egret.$TempPoint).y, n = (r = egret.$TempRectangle).height, this.thumb.getLayoutBounds(r), this.thumb.setLayoutBoundsPosition(r.x, Math.round(i)), this.trackHighlight && (o = this.trackHighlight.$parent.globalToLocal(e, o, egret.$TempPoint).y, this.trackHighlight.y = Math.round(o + n), this.trackHighlight.height = Math.round(t - o)))
        }, r);

        function r() {
            return e.call(this) || this
        }
        t.VSlider = i, __reflect(i.prototype, "eui.VSlider")
    }(eui = eui || {}),
    function (r) {
        var n, t = (n = r.Group, __extends(e, n), Object.defineProperty(e.prototype, "layout", {
            get: function () {
                return this.$layout
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "selectedChild", {
            get: function () {
                var t = this.selectedIndex;
                return 0 <= t && t < this.numChildren ? this.getChildAt(t) : null
            },
            set: function (t) {
                t = this.getChildIndex(t);
                0 <= t && t < this.numChildren && this.setSelectedIndex(t)
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(e.prototype, "selectedIndex", {
            get: function () {
                return this.proposedSelectedIndex != r.ListBase.NO_PROPOSED_SELECTION ? this.proposedSelectedIndex : this._selectedIndex
            },
            set: function (t) {
                this.setSelectedIndex(t = 0 | +t)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.setSelectedIndex = function (t) {
            t != this.selectedIndex && (this.proposedSelectedIndex = t, this.invalidateProperties(), r.PropertyEvent.dispatchPropertyEvent(this, r.PropertyEvent.PROPERTY_CHANGE, "selectedIndex"))
        }, e.prototype.$childAdded = function (t, e) {
            n.prototype.$childAdded.call(this, t, e), this.showOrHide(t, !1);
            var i = this.selectedIndex; - 1 == i ? this.setSelectedIndex(e) : e <= this.selectedIndex && this.$stage && this.setSelectedIndex(i + 1), r.CollectionEvent.dispatchCollectionEvent(this, r.CollectionEvent.COLLECTION_CHANGE, r.CollectionEventKind.ADD, e, -1, [t.name])
        }, e.prototype.$childRemoved = function (t, e) {
            n.prototype.$childRemoved.call(this, t, e), this.showOrHide(t, !0);
            var i = this.selectedIndex;
            e == i ? 0 < this.numChildren ? 0 == e ? (this.proposedSelectedIndex = 0, this.invalidateProperties()) : this.setSelectedIndex(0) : this.setSelectedIndex(-1) : e < i && this.setSelectedIndex(i - 1), r.CollectionEvent.dispatchCollectionEvent(this, r.CollectionEvent.COLLECTION_CHANGE, r.CollectionEventKind.REMOVE, e, -1, [t.name])
        }, e.prototype.commitProperties = function () {
            n.prototype.commitProperties.call(this), this.proposedSelectedIndex != r.ListBase.NO_PROPOSED_SELECTION && (this.commitSelection(this.proposedSelectedIndex), this.proposedSelectedIndex = r.ListBase.NO_PROPOSED_SELECTION)
        }, e.prototype.commitSelection = function (t) {
            0 <= t && t < this.numChildren ? (this._selectedIndex = t, this._selectedChild && this.showOrHide(this._selectedChild, !1), this._selectedChild = this.getElementAt(this._selectedIndex), this.showOrHide(this._selectedChild, !0)) : (this._selectedChild = null, this._selectedIndex = -1), this.invalidateSize(), this.invalidateDisplayList()
        }, e.prototype.showOrHide = function (t, e) {
            egret.is(t, "eui.UIComponent") && (t.includeInLayout = e), t.visible = e
        }, Object.defineProperty(e.prototype, "length", {
            get: function () {
                return this.$children.length
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.getItemAt = function (t) {
            t = this.$children[t];
            return t ? t.name : ""
        }, e.prototype.getItemIndex = function (t) {
            for (var e = this.$children, i = e.length, r = 0; r < i; r++)
                if (e[r].name == t) return r;
            return -1
        }, e);

        function e() {
            var t = n.call(this) || this;
            return t._selectedChild = null, t.proposedSelectedIndex = r.ListBase.NO_PROPOSED_SELECTION, t._selectedIndex = -1, t
        }
        r.ViewStack = t, __reflect(t.prototype, "eui.ViewStack", ["eui.ICollection", "egret.IEventDispatcher"]), r.registerBindable(t.prototype, "selectedIndex")
    }(eui = eui || {}),
    function (t) {
        var e;

        function i(t) {
            return -.5 * (Math.cos(Math.PI * t) - 1)
        }

        function r(t, e) {
            this.easerFunction = i, this.isPlaying = !1, this.duration = 500, this.currentValue = 0, this.from = 0, this.to = 0, this.startTime = 0, this.endFunction = null, this.updateFunction = t, this.thisObject = e
        }
        e = t.sys || (t.sys = {}), r.prototype.play = function () {
            this.stop(), this.start()
        }, r.prototype.start = function () {
            this.isPlaying = !1, this.currentValue = 0, this.startTime = egret.getTimer(), this.doInterval(this.startTime), egret.startTick(this.doInterval, this)
        }, r.prototype.stop = function () {
            this.isPlaying = !1, this.startTime = 0, egret.stopTick(this.doInterval, this)
        }, r.prototype.doInterval = function (t) {
            var e = t - this.startTime;
            this.isPlaying || (this.isPlaying = !0);
            var i = this.duration,
                t = 0 == i ? 1 : Math.min(e, i) / i;
            this.easerFunction && (t = this.easerFunction(t)), this.currentValue = this.from + (this.to - this.from) * t, this.updateFunction && this.updateFunction.call(this.thisObject, this);
            e = i <= e;
            return e && this.stop(), e && this.endFunction && this.endFunction.call(this.thisObject, this), !1
        }, t = r, e.Animation = t, __reflect(t.prototype, "eui.sys.Animation")
    }(eui = eui || {}),
    function (t) {
        var e = (i.prototype.getTheme = function (t, e, i, r) {
            var n = new egret.HttpRequest;
            n.addEventListener(egret.Event.COMPLETE, function (t) {
                t = t.target, e.call(r, t.response)
            }, r), n.addEventListener(egret.IOErrorEvent.IO_ERROR, function (t) {
                i.call(r)
            }, r), n.responseType = egret.HttpResponseType.TEXT, n.open(t), n.send()
        }, i);

        function i() {}
        t.DefaultThemeAdapter = e, __reflect(e.prototype, "eui.DefaultThemeAdapter", ["eui.IThemeAdapter"])
    }(eui = eui || {}),
    function (s) {
        var a = "__listeners__",
            h = 0;

        function l(t, e) {
            for (var i = t[a], r = i.length, n = 0; n < r; n += 2) {
                var o = i[n],
                    s = i[n + 1];
                o.call(s, e)
            }
        }
        var t = (o.watch = function (t, e, i, r) {
            if (e || egret.$error(1003, "chain"), 0 < e.length) {
                var n = e.shift(),
                    e = o.watch(null, e, i, r),
                    e = new o(n, i, r, e);
                return e.reset(t), e
            }
            return null
        }, o.checkBindable = function (t, e) {
            var i = t.__bindables__;
            if (i && -1 != i.indexOf(e)) return !0;
            var r = egret.is(t, "egret.IEventDispatcher");
            r || t[a] || (t[a] = []);
            i = function t(e, i) {
                var r = Object.getOwnPropertyDescriptor(e, i);
                if (r) return r;
                e = Object.getPrototypeOf(e);
                return e ? t(e, i) : null
            }(t, e);
            if (i && i.set && i.get) {
                var n = i.set;
                i.set = function (t) {
                    this[e] != t && (n.call(this, t), r ? s.PropertyEvent.dispatchPropertyEvent(this, s.PropertyEvent.PROPERTY_CHANGE, e) : l(this, e))
                }
            } else {
                if (i && (i.get || i.set)) return !1;
                var o = "_" + ++h + e;
                t[o] = i ? i.value : null, i = {
                    enumerable: !0,
                    configurable: !0,
                    get: function () {
                        return this[o]
                    },
                    set: function (t) {
                        this[o] != t && (this[o] = t, r ? s.PropertyEvent.dispatchPropertyEvent(this, s.PropertyEvent.PROPERTY_CHANGE, e) : l(this, e))
                    }
                }
            }
            Object.defineProperty(t, e, i), s.registerBindable(t, e)
        }, o.prototype.unwatch = function () {
            this.reset(null), this.handler = null, this.next && (this.next.handler = null)
        }, o.prototype.getValue = function () {
            return this.next ? this.next.getValue() : this.getHostPropertyValue()
        }, o.prototype.setHandler = function (t, e) {
            this.handler = t, this.thisObject = e, this.next && this.next.setHandler(t, e)
        }, o.prototype.reset = function (t) {
            var e, i = this.host;
            i && (egret.is(i, "egret.IEventDispatcher") ? i.removeEventListener(s.PropertyEvent.PROPERTY_CHANGE, this.wrapHandler, this) : (i = (e = i[a]).indexOf(this), e.splice(i - 1, 2))), (this.host = t) && (o.checkBindable(t, this.property), egret.is(t, "egret.IEventDispatcher") ? t.addEventListener(s.PropertyEvent.PROPERTY_CHANGE, this.wrapHandler, this, !1, 100) : ((e = t[a]).push(this.onPropertyChange), e.push(this))), this.next && this.next.reset(this.getHostPropertyValue())
        }, o.prototype.getHostPropertyValue = function () {
            return this.host ? this.host[this.property] : null
        }, o.prototype.wrapHandler = function (t) {
            this.onPropertyChange(t.property)
        }, o.prototype.onPropertyChange = function (t) {
            if (t == this.property && !this.isExecuting) try {
                this.isExecuting = !0, this.next && this.next.reset(this.getHostPropertyValue()), this.handler.call(this.thisObject, this.getValue())
            } finally {
                this.isExecuting = !1
            }
        }, o);

        function o(t, e, i, r) {
            this.isExecuting = !1, this.property = t, this.handler = e, this.next = r, this.thisObject = i
        }
        s.Watcher = t, __reflect(t.prototype, "eui.Watcher")
    }(eui = eui || {}),
    function (c) {
        var t = (p.bindProperty = function (t, e, i, r) {
            t = c.Watcher.watch(t, e, null, null);
            return t && (t.setHandler(e = function (t) {
                i[r] = t
            }, null), e(t.getValue())), t
        }, p.bindHandler = function (t, e, i, r) {
            e = c.Watcher.watch(t, e, i, r);
            return e && i.call(r, e.getValue()), e
        }, p.$bindProperties = function (t, e, i, r, n) {
            if (1 == e.length && 1 == i.length) return p.bindProperty(t, e[0].split("."), r, n);

            function o() {
                r[n] = function (t) {
                    for (var e = t[0], i = e instanceof c.Watcher ? e.getValue() : e, r = t.length, n = 1; n < r; n++) {
                        var o = t[n];
                        i += o = o instanceof c.Watcher ? o.getValue() : o
                    }
                    return i
                }(e)
            }
            for (var s = i.length, a = 0; a < s; a++) {
                var h, l = i[a],
                    u = e[l].split(".");
                (h = c.Watcher.watch(t, u, null, null)) && (e[l] = h).setHandler(o, null)
            }
            return o(), h
        }, p);

        function p() {}
        c.Binding = t, __reflect(t.prototype, "eui.Binding")
    }(eui = eui || {}),
    function (o) {
        var i, t = (i = egret.EventDispatcher, __extends(e, i), Object.defineProperty(e.prototype, "source", {
            get: function () {
                return this._source
            },
            set: function (t) {
                this._source = t = t || [], this.dispatchCoEvent(o.CollectionEventKind.RESET)
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.refresh = function () {
            this.dispatchCoEvent(o.CollectionEventKind.REFRESH)
        }, Object.defineProperty(e.prototype, "length", {
            get: function () {
                return this._source.length
            },
            enumerable: !0,
            configurable: !0
        }), e.prototype.addItem = function (t) {
            this._source.push(t), this.dispatchCoEvent(o.CollectionEventKind.ADD, this._source.length - 1, -1, [t])
        }, e.prototype.addItemAt = function (t, e) {
            (e < 0 || e > this._source.length) && egret.$error(1007), this._source.splice(e, 0, t), this.dispatchCoEvent(o.CollectionEventKind.ADD, e, -1, [t])
        }, e.prototype.getItemAt = function (t) {
            return this._source[t]
        }, e.prototype.getItemIndex = function (t) {
            for (var e = this._source.length, i = 0; i < e; i++)
                if (this._source[i] === t) return i;
            return -1
        }, e.prototype.itemUpdated = function (t) {
            var e = this.getItemIndex(t); - 1 != e && this.dispatchCoEvent(o.CollectionEventKind.UPDATE, e, -1, [t])
        }, e.prototype.removeAll = function () {
            var t = this._source.concat();
            this._source = [], this.dispatchCoEvent(o.CollectionEventKind.REMOVE, 0, -1, t)
        }, e.prototype.removeItemAt = function (t) {
            if (!(t < 0 || t >= this._source.length)) {
                var e = this._source.splice(t, 1)[0];
                return this.dispatchCoEvent(o.CollectionEventKind.REMOVE, t, -1, [e]), e
            }
            egret.$error(1007)
        }, e.prototype.replaceItemAt = function (t, e) {
            if (!(e < 0 || e >= this._source.length)) {
                var i = this._source.splice(e, 1, t)[0];
                return this.dispatchCoEvent(o.CollectionEventKind.REPLACE, e, -1, [t], [i]), i
            }
            egret.$error(1007)
        }, e.prototype.replaceAll = function (t) {
            for (var e = (t = t || []).length, i = this._source.length, r = e; r < i; r++) this.removeItemAt(e);
            for (r = 0; r < e; r++) i <= r ? this.addItemAt(t[r], r) : this.replaceItemAt(t[r], r);
            this._source = t
        }, e.prototype.dispatchCoEvent = function (t, e, i, r, n) {
            o.CollectionEvent.dispatchCollectionEvent(this, o.CollectionEvent.COLLECTION_CHANGE, t, e, i, r, n)
        }, e);

        function e(t) {
            var e = i.call(this) || this;
            return e._source = t || [], e
        }
        o.ArrayCollection = t, __reflect(t.prototype, "eui.ArrayCollection", ["eui.ICollection", "egret.IEventDispatcher"]), o.registerProperty(t, "source", "Array", !0)
    }(eui = eui || {}),
    function (i) {
        var r, n = i.sys.UIComponentImpl,
            t = (r = egret.TextField, __extends(e, r), e.prototype.$invalidateContentBounds = function () {
                r.prototype.$invalidateContentBounds.call(this), this.invalidateSize()
            }, e.prototype.$setWidth = function (t) {
                var e = r.prototype.$setWidth.call(this, t),
                    t = n.prototype.$setWidth.call(this, t);
                return e && t
            }, e.prototype.$setHeight = function (t) {
                var e = r.prototype.$setHeight.call(this, t),
                    t = n.prototype.$setHeight.call(this, t);
                return e && t
            }, e.prototype.$getText = function () {
                var t = r.prototype.$getText.call(this);
                return t = t == this.$EditableText[0] ? "" : t
            }, e.prototype.$setText = function (t) {
                var e = this.$EditableText[0];
                e == t && null != e || (this.$isShowPrompt = !1, this.textColor = this.$EditableText[1], this.displayAsPassword = this.$EditableText[2]), this.$isFocusIn || "" != t && null != t || (t = e, this.$isShowPrompt = !0, r.prototype.$setTextColor.call(this, this.$promptColor), r.prototype.$setDisplayAsPassword.call(this, !1));
                t = r.prototype.$setText.call(this, t);
                return i.PropertyEvent.dispatchPropertyEvent(this, i.PropertyEvent.PROPERTY_CHANGE, "text"), t
            }, e.prototype.$onAddToStage = function (t, e) {
                i.sys.UIComponentImpl.prototype.$onAddToStage.call(this, t, e), this.addEventListener(egret.FocusEvent.FOCUS_IN, this.onfocusIn, this), this.addEventListener(egret.FocusEvent.FOCUS_OUT, this.onfocusOut, this)
            }, e.prototype.$onRemoveFromStage = function () {
                i.sys.UIComponentImpl.prototype.$onRemoveFromStage.call(this), this.removeEventListener(egret.FocusEvent.FOCUS_IN, this.onfocusIn, this), this.removeEventListener(egret.FocusEvent.FOCUS_OUT, this.onfocusOut, this)
            }, Object.defineProperty(e.prototype, "prompt", {
                get: function () {
                    return this.$EditableText[0]
                },
                set: function (t) {
                    var e = this.$EditableText,
                        i = e[0];
                    i != t && (e[0] = t, (t = this.text) && t != i || this.showPromptText())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "promptColor", {
                get: function () {
                    return this.$promptColor
                },
                set: function (t) {
                    this.$promptColor != (t = 0 | +t) && (this.$promptColor = t, (t = this.text) && t != this.$EditableText[0] || this.showPromptText())
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype.onfocusOut = function () {
                this.$isFocusIn = !1, this.text || this.showPromptText()
            }, e.prototype.onfocusIn = function () {
                this.$isFocusIn = !0, this.$isShowPrompt = !1, this.displayAsPassword = this.$EditableText[2];
                var t = this.$EditableText,
                    e = this.text;
                e && e != t[0] || (this.textColor = t[1], this.text = "")
            }, e.prototype.showPromptText = function () {
                var t = this.$EditableText;
                this.$isShowPrompt = !0, r.prototype.$setTextColor.call(this, this.$promptColor), r.prototype.$setDisplayAsPassword.call(this, !1), this.text = t[0]
            }, e.prototype.$setTextColor = function (t) {
                return this.$EditableText[1] = t = 0 | +t, this.$isShowPrompt || r.prototype.$setTextColor.call(this, t), !0
            }, e.prototype.$setDisplayAsPassword = function (t) {
                return this.$EditableText[2] = t, this.$isShowPrompt || r.prototype.$setDisplayAsPassword.call(this, t), !0
            }, e.prototype.createChildren = function () {
                this.onfocusOut()
            }, e.prototype.childrenCreated = function () {}, e.prototype.commitProperties = function () {}, e.prototype.measure = function () {
                var t = this.$UIComponent,
                    e = this.$TextField[3],
                    i = NaN;
                isNaN(this._widthConstraint) ? isNaN(t[8]) ? 1e5 != t[13] && (i = t[13]) : i = t[8] : (i = this._widthConstraint, this._widthConstraint = NaN), r.prototype.$setWidth.call(this, i), this.setMeasuredSize(this.textWidth, this.textHeight), r.prototype.$setWidth.call(this, e)
            }, e.prototype.updateDisplayList = function (t, e) {
                r.prototype.$setWidth.call(this, t), r.prototype.$setHeight.call(this, e)
            }, e.prototype.invalidateParentLayout = function () {}, e.prototype.setMeasuredSize = function (t, e) {}, e.prototype.invalidateProperties = function () {}, e.prototype.validateProperties = function () {}, e.prototype.invalidateSize = function () {}, e.prototype.validateSize = function (t) {}, e.prototype.invalidateDisplayList = function () {}, e.prototype.validateDisplayList = function () {}, e.prototype.validateNow = function () {}, e.prototype.setLayoutBoundsSize = function (t, e) {
                n.prototype.setLayoutBoundsSize.call(this, t, e), isNaN(t) || t === this._widthConstraint || 0 == t || (e = this.$UIComponent, isNaN(e[9]) && t != e[16] && (this._widthConstraint = t, this.invalidateSize()))
            }, e.prototype.setLayoutBoundsPosition = function (t, e) {}, e.prototype.getLayoutBounds = function (t) {}, e.prototype.getPreferredBounds = function (t) {}, e);

        function e() {
            var t = r.call(this) || this;
            return t._widthConstraint = NaN, t.$isShowPrompt = !1, t.$promptColor = 6710886, t.$isFocusIn = !1, t.initializeUIValues(), t.type = egret.TextFieldType.INPUT, t.$EditableText = {
                0: null,
                1: 16777215,
                2: !1
            }, t
        }
        i.EditableText = t, __reflect(t.prototype, "eui.EditableText", ["eui.UIComponent", "egret.DisplayObject", "eui.IDisplayText"]), i.sys.implementUIComponent(t, egret.TextField), i.registerBindable(t.prototype, "text")
    }(eui = eui || {}),
    function (t) {
        var r, p, d;

        function n(t) {
            t -= 1;
            return t * t * t + 1
        }

        function e(t, e, i) {
            this.$scrollFactor = 1, this.previousTime = 0, this.velocity = 0, this.previousVelocity = [], this.currentPosition = 0, this.previousPosition = 0, this.currentScrollPos = 0, this.maxScrollPos = 0, this.offsetPoint = 0, this.$bounces = !0, this.started = !0, t || egret.$error(1003, "updateFunction"), this.updateFunction = t, this.endFunction = e, this.target = i, this.animation = new r.Animation(this.onScrollingUpdate, this), this.animation.endFunction = this.finishScrolling, this.animation.easerFunction = n
        }
        r = t.sys || (t.sys = {}), p = [1, 1.33, 1.66, 2], d = Math.log(.998), e.prototype.isPlaying = function () {
            return this.animation.isPlaying
        }, e.prototype.stop = function () {
            this.animation.stop(), egret.stopTick(this.onTick, this), this.started = !1
        }, e.prototype.isStarted = function () {
            return this.started
        }, e.prototype.start = function (t) {
            this.started = !0, this.velocity = 0, this.previousVelocity.length = 0, this.previousTime = egret.getTimer(), this.previousPosition = this.currentPosition = t, this.offsetPoint = t, egret.startTick(this.onTick, this)
        }, e.prototype.update = function (t, e, i) {
            e = Math.max(e, 0), this.currentPosition = t, this.maxScrollPos = e;
            var r = this.offsetPoint - t,
                i = r + i;
            this.offsetPoint = t, i < 0 && (this.$bounces ? i -= .5 * r : i = 0), e < i && (this.$bounces ? i -= .5 * r : i = e), this.currentScrollPos = i, this.updateFunction.call(this.target, i)
        }, e.prototype.finish = function (t, e) {
            egret.stopTick(this.onTick, this), this.started = !1;
            for (var i = 2.33 * this.velocity, r = this.previousVelocity, n = r.length, o = 2.33, s = 0; s < n; s++) {
                var a = p[s];
                i += r[0] * a, o += a
            }
            var h = i / o,
                l = Math.abs(h),
                u = 0,
                c = 0;
            if (.02 < l)
                if ((c = t + (h - .02) / d * 2 * this.$scrollFactor) < 0 || e < c)
                    for (c = t; .02 < Math.abs(h);) h *= (c -= h) < 0 || e < c ? .998 * .95 : .998, u++;
                else u = Math.log(.02 / l) / d;
            else c = t;
            this.target.$getThrowInfo && (c = this.target.$getThrowInfo(t, c).toPos), 0 < u ? (this.$bounces || (c < 0 ? c = 0 : e < c && (c = e)), this.throwTo(c, u)) : this.finishScrolling()
        }, e.prototype.onTick = function (t) {
            var e, i = t - this.previousTime;
            return 10 < i && (4 <= (e = this.previousVelocity).length && e.shift(), this.velocity = (this.currentPosition - this.previousPosition) / i, e.push(this.velocity), this.previousTime = t, this.previousPosition = this.currentPosition), !0
        }, e.prototype.finishScrolling = function (t) {
            var e = this.currentScrollPos,
                i = this.maxScrollPos,
                e = i < e ? i : e < 0 ? 0 : e;
            this.throwTo(e, 300)
        }, e.prototype.throwTo = function (t, e) {
            void 0 === e && (e = 500);
            var i, r = this.currentScrollPos;
            r != t ? ((i = this.animation).duration = e, i.from = r, i.to = t, i.play()) : this.endFunction.call(this.target)
        }, e.prototype.onScrollingUpdate = function (t) {
            this.currentScrollPos = t.currentValue, this.updateFunction.call(this.target, t.currentValue)
        }, t = e, r.TouchScroll = t, __reflect(t.prototype, "eui.sys.TouchScroll")
    }(eui = eui || {}),
    function (t) {
        var e = (i.LTR = "ltr", i.RTL = "rtl", i.TTB = "ttb", i.BTT = "btt", i);

        function i() {}
        t.Direction = e, __reflect(e.prototype, "eui.Direction")
    }(eui = eui || {}),
    function (t) {
        var e = (i.AUTO = "auto", i.OFF = "off", i.ON = "on", i);

        function i() {}
        t.ScrollPolicy = e, __reflect(e.prototype, "eui.ScrollPolicy")
    }(eui = eui || {}),
    function (i) {
        var r, t = (r = egret.EventDispatcher, __extends(e, r), e.prototype.load = function (t) {
            var e = this;
            i.getTheme(t, function (t) {
                return e.onConfigLoaded(t)
            })
        }, e.prototype.onConfigLoaded = function (t) {
            var e;
            if ("string" == typeof t) try {
                e = JSON.parse(t)
            } catch (t) {
                egret.$error(3e3)
            } else e = t;
            if (e && e.skins)
                for (var i = this.skinMap, r = e.skins, n = Object.keys(r), o = n.length, s = 0; s < o; s++) {
                    var a = n[s];
                    i[a] || this.mapSkin(a, r[a])
                }
            e.styles && (this.$styles = e.styles), e.exmls && 0 != e.exmls.length ? e.exmls[0].gjs ? (e.exmls.forEach(function (t) {
                return EXML.$parseURLContentAsJs(t.path, t.gjs, t.className)
            }), this.onLoaded()) : e.exmls[0].content ? (e.exmls.forEach(function (t) {
                return EXML.$parseURLContent(t.path, t.content)
            }), this.onLoaded()) : EXML.$loadAll(e.exmls, this.onLoaded, this, !0) : this.onLoaded()
        }, e.prototype.onLoaded = function (t, e) {
            this.initialized = !0, this.handleDelayList(), this.dispatchEventWith(egret.Event.COMPLETE)
        }, e.prototype.handleDelayList = function () {
            for (var t = this.delayList, e = t.length, i = 0; i < e; i++) {
                var r, n = t[i];
                n.$Component[5] || (r = this.getSkinName(n)) && (n.$Component[1] = r, n.$parseSkinName())
            }
            t.length = 0
        }, e.prototype.getSkinName = function (t) {
            return this.initialized ? this.skinMap[t.hostComponentKey] || this.findSkinName(t) : (-1 == this.delayList.indexOf(t) && this.delayList.push(t), "")
        }, e.prototype.findSkinName = function (t) {
            if (!t) return "";
            var e = t.__class__;
            if (void 0 === e) return "";
            var i = this.skinMap[e];
            return i || "eui.Component" == e ? i : this.findSkinName(Object.getPrototypeOf(t))
        }, e.prototype.mapSkin = function (t, e) {
            t || egret.$error(1003, "hostComponentKey"), e || egret.$error(1003, "skinName"), this.skinMap[t] = e
        }, e.prototype.$getStyleConfig = function (t) {
            return this.$styles[t]
        }, e);

        function e(t, e) {
            var i = r.call(this) || this;
            return i.delayList = [], i.skinMap = {}, i.$styles = {}, i.initialized = !t, e && egret.registerImplementation("eui.Theme", i), i.$configURL = t, i.load(t), i
        }
        i.Theme = t, __reflect(t.prototype, "eui.Theme")
    }(eui = eui || {}),
    function (t) {
        var h, e = (h = egret.Event, __extends(a, h), a.prototype.$initTo = function (t, e, i, r, n) {
            this.kind = t, this.location = 0 | +e, this.oldLocation = 0 | +i, this.items = r || [], this.oldItems = n || []
        }, a.prototype.clean = function () {
            h.prototype.clean.call(this), this.items = this.oldItems = null
        }, a.dispatchCollectionEvent = function (t, e, i, r, n, o, s) {
            if (!t.hasEventListener(e)) return !0;
            e = egret.Event.create(a, e);
            e.$initTo(i, r, n, o, s);
            t = t.dispatchEvent(e);
            return egret.Event.release(e), t
        }, a.COLLECTION_CHANGE = "collectionChange", a);

        function a(t, e, i, r, n, o, s, a) {
            i = h.call(this, t, e, i) || this;
            return i.$initTo(r, n, o, s, a), i
        }
        t.CollectionEvent = e, __reflect(e.prototype, "eui.CollectionEvent")
    }(eui = eui || {}),
    function (t) {
        var e = (i.ADD = "add", i.REFRESH = "refresh", i.REMOVE = "remove", i.REPLACE = "replace", i.RESET = "reset", i.UPDATE = "update", i);

        function i() {}
        t.CollectionEventKind = e, __reflect(e.prototype, "eui.CollectionEventKind")
    }(eui = eui || {}),
    function (t) {
        var e, i = (e = egret.Event, __extends(r, e), r.prototype.clean = function () {
            e.prototype.clean.call(this), this.item = this.itemRenderer = null
        }, r.dispatchItemTapEvent = function (t, e, i) {
            if (!t.hasEventListener(e)) return !0;
            e = egret.Event.create(r, e);
            e.item = i.data, e.itemIndex = i.itemIndex, e.itemRenderer = i;
            t = t.dispatchEvent(e);
            return egret.Event.release(e), t
        }, r.ITEM_TAP = "itemTap", r);

        function r() {
            var t = null !== e && e.apply(this, arguments) || this;
            return t.item = null, t.itemRenderer = null, t.itemIndex = -1, t
        }
        t.ItemTapEvent = i, __reflect(i.prototype, "eui.ItemTapEvent")
    }(eui = eui || {}),
    function (t) {
        var n, e = (n = egret.Event, __extends(r, n), r.dispatchPropertyEvent = function (t, e, i) {
            if (!t.hasEventListener(e)) return !0;
            e = egret.Event.create(r, e);
            e.property = i;
            t = t.dispatchEvent(e);
            return egret.Event.release(e), t
        }, r.PROPERTY_CHANGE = "propertyChange", r);

        function r(t, e, i, r) {
            i = n.call(this, t, e, i) || this;
            return i.property = r, i
        }
        t.PropertyEvent = e, __reflect(e.prototype, "eui.PropertyEvent")
    }(eui = eui || {}),
    function (t) {
        var o, e = (o = egret.Event, __extends(i, o), i.THROW = "throw", i);

        function i(t, e, i, r, n) {
            i = o.call(this, t, e, i) || this;
            return n = +n, i.currentPos = r = +r, i.toPos = n, i
        }
        t.ScrollerThrowEvent = e, __reflect(e.prototype, "eui.ScrollerThrowEvent")
    }(eui = eui || {}),
    function (t) {
        var r, e = (r = egret.Event, __extends(n, r), n.dispatchUIEvent = function (t, e, i, r) {
            if (!t.hasEventListener(e)) return !0;
            r = egret.Event.create(n, e, i, r), t = t.dispatchEvent(r);
            return egret.Event.release(r), t
        }, n.CREATION_COMPLETE = "creationComplete", n.CHANGE_END = "changeEnd", n.CHANGE_START = "changeStart", n.CLOSING = "closing", n.MOVE = "move", n);

        function n(t, e, i) {
            return r.call(this, t, e, i) || this
        }
        t.UIEvent = e, __reflect(e.prototype, "eui.UIEvent")
    }(eui = eui || {}),
    function (t) {
        ! function (t) {
            var e = (i.prototype.toCode = function () {
                return ""
            }, i.prototype.getIndent = function (t) {
                void 0 === t && (t = this.indent);
                for (var e = "", i = 0; i < t; i++) e += "\t";
                return e
            }, i);

            function i() {
                this.indent = 0
            }
            t.CodeBase = e, __reflect(e.prototype, "eui.sys.CodeBase");
            var r, n = (__extends(o, r = e), o.prototype.addInnerClass = function (t) {
                -1 == this.innerClassBlock.indexOf(t) && this.innerClassBlock.push(t)
            }, o.prototype.addVariable = function (t) {
                -1 == this.variableBlock.indexOf(t) && this.variableBlock.push(t)
            }, o.prototype.getVariableByName = function (t) {
                for (var e = this.variableBlock, i = e.length, r = 0; r < i; r++) {
                    var n = e[r];
                    if (n.name == t) return n
                }
                return null
            }, o.prototype.addFunction = function (t) {
                -1 == this.functionBlock.indexOf(t) && this.functionBlock.push(t)
            }, o.prototype.getFuncByName = function (t) {
                for (var e = this.functionBlock, i = e.length, r = 0; r < i; r++) {
                    var n = e[r];
                    if (n.name == t) return n
                }
                return null
            }, o.prototype.toCode = function () {
                var t = this.indent,
                    e = this.getIndent(t),
                    i = this.getIndent(t + 1),
                    r = this.getIndent(t + 2),
                    n = e + "(function (";
                this.superClass ? n += "_super) {\n" + i + "__extends(" + this.className + ", _super);\n" : n += ") {\n";
                for (var o = this.innerClassBlock, s = o.length, a = 0; a < s; a++) {
                    var h = o[a];
                    h.indent = t + 1, n += i + "var " + h.className + " = " + h.toCode() + "\n\n"
                }
                n += i + "function " + this.className + "() {\n", this.superClass && (n += r + "_super.call(this);\n");
                var l = this.variableBlock;
                s = l.length;
                for (a = 0; a < s; a++) {
                    var u = l[a];
                    u.defaultValue && (n += r + u.toCode() + "\n")
                }
                if (this.constructCode)
                    for (var c = this.constructCode.toCode().split("\n"), s = c.length, a = 0; a < s; a++) n += r + c[a] + "\n";
                n += i + "}\n", n += i + "var _proto = " + this.className + ".prototype;\n\n";
                var p = this.functionBlock;
                s = p.length;
                for (a = 0; a < s; a++) {
                    var d = p[a];
                    d.indent = t + 1, n += d.toCode() + "\n"
                }
                return n += i + "return " + this.className + ";\n" + e, this.superClass ? n += "})(" + this.superClass + ");" : n += "})();", n
            }, o);

            function o() {
                var t = null !== r && r.apply(this, arguments) || this;
                return t.className = "", t.superClass = "", t.innerClassBlock = [], t.variableBlock = [], t.functionBlock = [], t
            }
            t.EXClass = n, __reflect(n.prototype, "eui.sys.EXClass");
            var s, n = (__extends(a, s = e), a.prototype.addVar = function (t, e) {
                this.addCodeLine("var " + t + (e ? " = " + e : "") + ";")
            }, a.prototype.addAssignment = function (t, e, i) {
                this.addCodeLine(t + (i ? "." + i : "") + " = " + e + ";")
            }, a.prototype.addReturn = function (t) {
                this.addCodeLine("return " + t + ";")
            }, a.prototype.addEmptyLine = function () {
                this.addCodeLine("")
            }, a.prototype.startIf = function (t) {
                this.addCodeLine("if(" + t + ")"), this.startBlock()
            }, a.prototype.startElse = function () {
                this.addCodeLine("else"), this.startBlock()
            }, a.prototype.startElseIf = function (t) {
                this.addCodeLine("else if(" + t + ")"), this.startBlock()
            }, a.prototype.startBlock = function () {
                this.addCodeLine("{"), this.indent++
            }, a.prototype.endBlock = function () {
                this.indent--, this.addCodeLine("}")
            }, a.prototype.doFunction = function (t, e) {
                e = e.join(",");
                this.addCodeLine(t + "(" + e + ")")
            }, a.prototype.addCodeLine = function (t) {
                this.lines.push(this.getIndent() + t)
            }, a.prototype.addCodeLineAt = function (t, e) {
                this.lines.splice(e, 0, this.getIndent() + t)
            }, a.prototype.containsCodeLine = function (t) {
                return -1 != this.lines.indexOf(t)
            }, a.prototype.concat = function (t) {
                this.lines = this.lines.concat(t.lines)
            }, a.prototype.toCode = function () {
                return this.lines.join("\n")
            }, a);

            function a() {
                var t = null !== s && s.apply(this, arguments) || this;
                return t.lines = [], t
            }
            t.EXCodeBlock = n, __reflect(n.prototype, "eui.sys.EXCodeBlock");
            var h, n = (__extends(l, h = e), l.prototype.toCode = function () {
                var t, e = this.getIndent(),
                    i = this.getIndent(this.indent + 1),
                    r = e;
                if (this.isGet ? (t = this.getIndent(this.indent + 2), r += 'Object.defineProperty(_proto, "skinParts", {\n', r += i + "get: function () {\n") : (t = i, r += "_proto." + this.name + " = function () {\n"), this.codeBlock)
                    for (var n = this.codeBlock.toCode().split("\n"), o = n.length, s = 0; s < o; s++) r += t + n[s] + "\n";
                return this.isGet ? r += i + "},\n" + i + "enumerable: true,\n" + i + "configurable: true\n" + e + "});" : r += e + "};", r
            }, l);

            function l() {
                var t = null !== h && h.apply(this, arguments) || this;
                return t.codeBlock = null, t.isGet = !1, t.name = "", t
            }
            t.EXFunction = n, __reflect(n.prototype, "eui.sys.EXFunction");
            var u, n = (__extends(c, u = e), c.prototype.toCode = function () {
                return this.defaultValue ? "this." + this.name + " = " + this.defaultValue + ";" : ""
            }, c);

            function c(t, e) {
                var i = u.call(this) || this;
                return i.indent = 2, i.name = t, i.defaultValue = e, i
            }
            t.EXVariable = n, __reflect(n.prototype, "eui.sys.EXVariable");
            var p, n = (__extends(d, p = e), d.prototype.addOverride = function (t) {
                (t instanceof g ? this.addItems : this.setProperty).push(t)
            }, d.prototype.toCode = function () {
                for (var t = this.getIndent(1), e = 'new eui.State ("' + this.name + '",\n' + t + "[\n", i = 0, r = !0, n = this.addItems.concat(this.setProperty); i < n.length;) {
                    r ? r = !1 : e += ",\n";
                    for (var o = n[i].toCode().split("\n"), s = o.length, a = 0; a < s; a++) {
                        var h = o[a];
                        o[a] = t + t + h
                    }
                    e += o.join("\n"), i++
                }
                return e += "\n" + t + "])"
            }, d);

            function d(t, e) {
                var i = p.call(this) || this;
                return i.name = "", i.stateGroups = [], i.addItems = [], i.setProperty = [], i.name = t, e && (i.stateGroups = e), i
            }
            t.EXState = n, __reflect(n.prototype, "eui.sys.EXState");
            var f, g = (__extends(y, f = e), y.prototype.toCode = function () {
                return 'new eui.AddItems("' + this.target + '","' + this.property + '",' + this.position + ',"' + this.relativeTo + '")'
            }, y);

            function y(t, e, i, r) {
                var n = f.call(this) || this;
                return n.target = t, n.property = e, n.position = i, n.relativeTo = r, n
            }
            t.EXAddItems = g, __reflect(g.prototype, "eui.sys.EXAddItems");
            var v, n = (__extends(m, v = e), m.prototype.toCode = function () {
                return 'new eui.SetProperty("' + this.target + '","' + this.name + '",' + this.value + ")"
            }, m);

            function m(t, e, i) {
                var r = v.call(this) || this;
                return r.target = t, r.name = e, r.value = i, r
            }
            t.EXSetProperty = n, __reflect(n.prototype, "eui.sys.EXSetProperty");
            var _, n = (__extends(b, _ = e), b.prototype.toCode = function () {
                return "new eui.SetStateProperty(this, [" + this.templates.join(",") + "],[" + this.chainIndex.join(",") + "]," + this.target + ',"' + this.property + '")'
            }, b);

            function b(t, e, i, r) {
                var n = _.call(this) || this;
                return n.target = t = t ? "this." + t : "this", n.property = e, n.templates = i, n.chainIndex = r, n
            }
            t.EXSetStateProperty = n, __reflect(n.prototype, "eui.sys.EXSetStateProperty");
            var $, e = (__extends(x, $ = e), x.prototype.toCode = function () {
                return "eui.Binding.$bindProperties(this, [" + this.templates.join(",") + "],[" + this.chainIndex.join(",") + "]," + this.target + ',"' + this.property + '")'
            }, x);

            function x(t, e, i, r) {
                var n = $.call(this) || this;
                return n.target = t, n.property = e, n.templates = i, n.chainIndex = r, n
            }
            t.EXBinding = e, __reflect(e.prototype, "eui.sys.EXBinding")
        }(t.sys || (t.sys = {}))
    }(eui = eui || {}),
    function (i) {
        var n, r = i.sys.UIComponentImpl,
            t = (n = egret.BitmapText, __extends(e, n), e.prototype.$invalidateContentBounds = function () {
                n.prototype.$invalidateContentBounds.call(this), this.invalidateSize()
            }, e.prototype.$setWidth = function (t) {
                var e = n.prototype.$setWidth.call(this, t),
                    t = r.prototype.$setWidth.call(this, t);
                return e && t
            }, e.prototype.$setHeight = function (t) {
                var e = n.prototype.$setHeight.call(this, t),
                    t = r.prototype.$setHeight.call(this, t);
                return e && t
            }, e.prototype.$setText = function (t) {
                t = n.prototype.$setText.call(this, t);
                return i.PropertyEvent.dispatchPropertyEvent(this, i.PropertyEvent.PROPERTY_CHANGE, "text"), t
            }, e.prototype.$setFont = function (t) {
                this.$BitmapText;
                return this.$font != t && (this.$font = t, this.$createChildrenCalled ? this.$parseFont() : this.$fontChanged = !0, this.$BitmapText[6] = !0)
            }, e.prototype.$parseFont = function () {
                var e = this;
                this.$fontChanged = !1;
                var t = this.$font;
                "string" == typeof t ? i.getAssets(t, function (t) {
                    e.$setFontData(t)
                }) : this.$setFontData(t)
            }, e.prototype.$setFontData = function (t) {
                return t != this.$BitmapText[5] && (this.$BitmapText[5] = t, this.$invalidateContentBounds(), !0)
            }, e.prototype.createChildren = function () {
                this.$fontChanged && this.$parseFont(), this.$createChildrenCalled = !0
            }, e.prototype.childrenCreated = function () {}, e.prototype.commitProperties = function () {}, e.prototype.measure = function () {
                var t = this.$UIComponent,
                    e = this.$BitmapText,
                    i = e[0],
                    r = e[1],
                    e = NaN;
                isNaN(this._widthConstraint) ? isNaN(t[8]) ? 1e5 != t[13] && (e = t[13]) : e = t[8] : (e = this._widthConstraint, this._widthConstraint = NaN), n.prototype.$setWidth.call(this, e);
                e = NaN;
                isNaN(this._heightConstraint) ? isNaN(t[9]) ? 1e5 != t[15] && (e = t[15]) : e = t[9] : (e = this._heightConstraint, this._heightConstraint = NaN), n.prototype.$setHeight.call(this, e), this.setMeasuredSize(this.textWidth, this.textHeight), n.prototype.$setWidth.call(this, i), n.prototype.$setHeight.call(this, r)
            }, e.prototype.updateDisplayList = function (t, e) {
                n.prototype.$setWidth.call(this, t), n.prototype.$setHeight.call(this, e)
            }, e.prototype.invalidateParentLayout = function () {}, e.prototype.setMeasuredSize = function (t, e) {}, e.prototype.invalidateProperties = function () {}, e.prototype.validateProperties = function () {}, e.prototype.invalidateSize = function () {}, e.prototype.validateSize = function (t) {}, e.prototype.invalidateDisplayList = function () {}, e.prototype.validateDisplayList = function () {}, e.prototype.validateNow = function () {}, e.prototype.setLayoutBoundsSize = function (t, e) {
                var i;
                r.prototype.setLayoutBoundsSize.call(this, t, e), isNaN(t) || t === this._widthConstraint || 0 == t || (i = this.$UIComponent, isNaN(i[9]) && t != i[16] && (this._widthConstraint = t, this._heightConstraint = e, this.invalidateSize()))
            }, e.prototype.setLayoutBoundsPosition = function (t, e) {}, e.prototype.getLayoutBounds = function (t) {}, e.prototype.getPreferredBounds = function (t) {}, e);

        function e(t) {
            var e = n.call(this) || this;
            return e.$createChildrenCalled = !1, e.$fontChanged = !1, e._widthConstraint = NaN, e._heightConstraint = NaN, e.initializeUIValues(), e.text = t, e
        }
        i.BitmapLabel = t, __reflect(t.prototype, "eui.BitmapLabel", ["eui.UIComponent", "egret.DisplayObject", "eui.IDisplayText"]), i.sys.implementUIComponent(t, egret.BitmapText), i.registerBindable(t.prototype, "text")
    }(eui = eui || {}),
    function (t) {
        var h = new eui.sys.EXMLParser,
            l = {},
            u = {},
            r = "";

        function a(t) {
            return h.parse(t)
        }

        function c(e, t) {
            var i = null;
            if (t) try {
                i = a(t)
            } catch (t) {
                console.error(e + "\n" + t.message)
            }
            if (e) {
                i && (u[e] = i);
                var r = l[e];
                delete l[e];
                for (var n = r ? r.length : 0, o = 0; o < n; o++) {
                    var s = r[o];
                    s[0] && s[1] && s[0].call(s[1], i, e)
                }
            }
            return i
        }

        function n(e, i) {
            var t = e; - 1 == e.indexOf("://") && (t = r + e);
            eui.getTheme(t, function (t) {
                i(e, t = t || "")
            })
        }
        Object.defineProperty(t, "prefixURL", {
            get: function () {
                return r
            },
            set: function (t) {
                r = t
            },
            enumerable: !0,
            configurable: !0
        }), t.parse = a, t.load = function (t, e, i, r) {
            void 0 === r && (r = !1), t || egret.$error(1003, "url"), r && t in u ? e && e.call(i, u[t], t) : (r = l[t]) ? r.push([e, i]) : (l[t] = [
                [e, i]
            ], n(t, c))
        }, t.$loadAll = function (o, s, a, i) {
            var h;
            void 0 === i && (i = !1), o && 0 != o.length ? (h = [], o.forEach(function (t) {
                function e(t, e) {
                    var i, r, n;
                    h[t] = e, h.push(t), h.length == o.length && (i = h, r = s, e = a, n = [], (t = o).forEach(function (t, e) {
                        t in u && !i[t] ? n[e] = u[t] : (t = c(t, i[t]), n[e] = t)
                    }), r && r.call(e, n, t))
                }
                i && t in u ? e(t, "") : n(t, e)
            })) : s && s.call(a, [], o)
        }, t.$parseURLContentAsJs = function (t, e, i) {
            var r = null;
            if (e && (r = h.$parseCode(e, i)), t) {
                u[t] = r;
                var n = l[t];
                delete l[t];
                for (var o = n ? n.length : 0, s = 0; s < o; s++) {
                    var a = n[s];
                    a[0] && a[1] && a[0].call(a[1], r, t)
                }
            }
            return r
        }, t.$parseURLContent = c
    }(EXML = EXML || {}),
    function (t) {
        ! function (r) {
            r.NS_S = "http://ns.egret.com/eui", r.NS_W = "http://ns.egret.com/wing";
            var n = ["Point", "Matrix", "Rectangle"],
                d = ["Array", "boolean", "string", "number"],
                f = 0,
                g = {},
                t = (e.prototype.$describe = function (t) {
                    if (!t) return null;
                    var e = Object.getPrototypeOf(t);
                    if (!e) return null;
                    if (e.hasOwnProperty("__hashCode__") && (r = g[e.__hashCode__])) return r;
                    var i = Object.getPrototypeOf(e);
                    if (!i) return null;
                    var r, n = y(i.constructor),
                        o = this.$describe(n);
                    (r = o ? ((n = function () {}).prototype = o, new n) : {}).__class__ = e.constructor.name;
                    for (var s, a = Object.keys(e).concat(Object.keys(t)), h = a.length, l = t.__meta__, u = 0; u < h; u++) {
                        var c = a[u];
                        if ("constructor" != c && "_" != c.charAt(0) && "$" != c.charAt(0)) {
                            var p = void 0;
                            if (l && l[c]) p = l[c];
                            else if (s = t[c], "[object Array]" === Object.prototype.toString.call(s)) p = "Array";
                            else {
                                if ("function" == (p = typeof t[c])) continue; - 1 == d.indexOf(p) && (p = "any")
                            }
                            r[c] = p
                        }
                    }
                    return Object.getPrototypeOf(i) && (e.__hashCode__ = f++, g[e.__hashCode__] = r), r
                }, e.prototype.getClassNameById = function (t, e) {
                    if (e == r.NS_S) {
                        if ("Object" == t) return t;
                        if (-1 != n.indexOf(t)) return "egret." + t
                    }
                    var i = "";
                    return -1 != d.indexOf(t) ? t : o(i = e != r.NS_W ? e && e != r.NS_S ? e.substring(0, e.length - 1) + t : "eui." + t : i) ? i : ""
                }, e.prototype.getDefaultPropById = function (t, e) {
                    var i, e = o(this.getClassNameById(t, e));
                    return (i = e ? e.__defaultProperty__ : i) || ""
                }, e.prototype.getPropertyType = function (t, e) {
                    if ("Object" == e) return "any";
                    var i = "",
                        r = o(e);
                    if (r) {
                        if (!r.hasOwnProperty("__hashCode__")) {
                            var n = y(egret.getDefinitionByName(e));
                            if (!n) return egret.$warn(2104, e), i;
                            this.$describe(n)
                        }
                        r = g[r.__hashCode__];
                        r && (i = r[t])
                    }
                    return i
                }, e);

            function e() {}

            function o(t) {
                t = egret.getDefinitionByName(t);
                return t ? t.prototype : null
            }

            function y(t) {
                if (!t) return null;
                var e;
                try {
                    e = new t
                } catch (t) {
                    return egret.error(t), null
                }
                return e
            }
            r.EXMLConfig = t, __reflect(t.prototype, "eui.sys.EXMLConfig")
        }(t.sys || (t.sys = {}))
    }(eui = eui || {}),
    function () {
        egret.$locale_strings = egret.$locale_strings || {}, egret.$locale_strings.en_US = egret.$locale_strings.en_US || {};
        var t = egret.$locale_strings.en_US;
        t[2001] = "EXML parsing error {0}: EXML file can't be found ", t[2002] = "EXML parsing error : invalid XML file:\n{0}", t[2003] = "EXML parsing error {0}: the class definitions corresponding to nodes can't be found  \n {1}", t[2004] = "EXML parsing error {0}: nodes cannot contain id property with the same name \n {1}", t[2005] = "EXML parsing error {0}: property with the name of '{1}' does not exist on the node, or the property does not have a default value: \n {2}", t[2006] = "EXML parsing error {0}: undefined view state name: '{1}' \n {2}", t[2007] = "EXML parsing error {0}: only UIComponent objects within the container can use the includeIn and excludeFrom properties\n {1}", t[2008] = "EXML parsing error {0}: fail to assign values of '{1}' class to property: '{2}' \n {3}", t[2009] = "EXML parsing error {0}: only one ID can be referenced in the node property value '{}' label; and complex expression is not allowed to use \n {1}", t[2010] = "EXML parsing error {0}: ID referenced by property: '{1}':  '{2}' does not exist \n {3}", t[2011] = "EXML parsing error {0}: fail to assign more than one child nodes to the same property: '{1}' \n {2}", t[2012] = "EXML parsing error {0}: no default property exists on the node; and you must explicitly declare the property name that the child node  is assigned to \n {1}", t[2013] = "EXML parsing error {0}: view state grammar is not allowed to use on property nodes of Array class \n {1} ", t[2014] = "EXML parsing error {0}: assigning the skin class itself to the node property is not allowed \n {1}", t[2015] = "EXML parsing error {0}: class definition referenced by node: {1} does not exist \n {2}", t[2016] = "EXML parsing error {0}: format error of 'scale9Grid' property value on the node: {1}", t[2017] = "EXML parsing error {0}: namespace prefix missing on the node: {1}", t[2018] = "EXML parsing error {0}: format error of 'skinName' property value on the node: {1}", t[2019] = "EXML parsing error {0}: the containers child item must be visible nodes: {1}", t[2020] = "EXML parsing error {0}: for child nodes in w: Declarations, the includeIn and excludeFrom properties are not allowed to use \n {1}", t[2021] = "Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.", t[2022] = "EXML parsing error: there contains illegal characters in the id `{0}`", t[2101] = "EXML parsing warnning : fail to register the class property : {0},there is already a class with the same name in the global,please try to rename the class name for the exml. \n {1}", t[2102] = "EXML parsing warnning {0}: no child node can be found on the property code \n {1}", t[2103] = "EXML parsing warnning {0}: the same property '{1}' on the node is assigned multiple times \n {2}", t[2104] = "EXML parsing warnning, Instantiate class {0} errorthe parameters of its constructor method must be empty.", t[2201] = "BasicLayout doesn't support virtualization.", t[2202] = "parse skinName errorthe parsing result of skinName must be a instance of eui.Skin.", t[2203] = "Could not find the skin class '{0}'", t[2301] = "parse source failedcould not find asset from URL{0} ."
    }(eui = eui || {}),
    function () {
        egret.$locale_strings = egret.$locale_strings || {}, egret.$locale_strings.en_US = egret.$locale_strings.en_US || {};
        var t = egret.$locale_strings.en_US;
        t[2001] = "EXML     {0}:    EXML  ", t[2002] = "EXML    :      XML  :\n{0}", t[2003] = "EXML     {0}:              \n{1}", t[2004] = "EXML     {0}:          id  \n{1}", t[2005] = "EXML     {0}:         '{1}'             :\n{2}", t[2006] = "EXML     {0}:           :'{1}'\n{2}", t[2007] = "EXML     {0}:          UIComponent       includeIn excludeFrom  \n{1}", t[2008] = "EXML     {0}:    '{1}'        :'{2}'\n{3}", t[2009] = "EXML     {0}:        {}         ID          \n{1}", t[2010] = "EXML     {0}:   :'{1}'    ID: '{2}'   \n{3}", t[2011] = "EXML     {0}:                 :'{1}'\n{2}", t[2012] = "EXML     {0}:                            \n{1}", t[2013] = "EXML     {0}:    Array                 \n{1}", t[2014] = "EXML     {0}:                 \n{1}", t[2015] = "EXML     {0}:         :{1}   \n{2}", t[2016] = "EXML     {0}:    'scale9Grid'        :{1}", t[2017] = "EXML     {0}:            :{1}", t[2018] = "EXML     {0}:    'skinName'        :{1}", t[2019] = "EXML     {0}:             :{1}", t[2020] = "EXML     {0}:  w:Declarations          includeIn excludeFrom  \n{1}", t[2021] = "{0}            : {1}    : {2}", t[2022] = "EXML    : id `{0}`        ", t[2101] = "EXML    :  EXML        class   : {0}                          \n{1}", t[2102] = "EXML     {0}:               \n{1}", t[2103] = "EXML     {0}:          '{1}'     \n{2}", t[2104] = "EXML                {0}  EXML                           EXML    ", t[2201] = "BasicLayout       ", t[2202] = "         skinName              eui.Skin    ", t[2203] = "          '{0}'", t[2301] = "         URL{0}       "
    }(eui = eui || {}),
    function (r) {
        var n, t = (n = r.LayoutBase, __extends(e, n), e.prototype.measure = function () {
            n.prototype.measure.call(this), r.sys.measure(this.$target)
        }, e.prototype.updateDisplayList = function (t, e) {
            n.prototype.updateDisplayList.call(this, t, e);
            var i = this.$target,
                e = r.sys.updateDisplayList(i, t, e);
            i.setContentSize(Math.ceil(e.x), Math.ceil(e.y))
        }, e);

        function e() {
            return n.call(this) || this
        }
        r.BasicLayout = t, __reflect(t.prototype, "eui.BasicLayout"), Object.defineProperty(t.prototype, "useVirtualLayout", {
            get: function () {
                return this.$useVirtualLayout
            },
            set: function (t) {
                egret.$error(2201)
            },
            enumerable: !0,
            configurable: !0
        })
    }(eui = eui || {}),
    function (t) {
        var _;

        function b(t, e) {
            if (!t || "number" == typeof t) return t;
            var i = t,
                t = i.indexOf("%");
            return -1 == t ? +i : .01 * +i.substring(0, t) * e
        }
        t = t.sys || (t.sys = {}), _ = "eui.UIComponent", t.measure = function (t) {
            if (t) {
                for (var e = 0, i = 0, r = egret.$TempRectangle, n = t.numChildren, o = 0; o < n; o++) {
                    var s, a, h, l, u, c, p, d, f = t.getChildAt(o);
                    egret.is(f, _) && f.$includeInLayout && (s = +(c = f.$UIComponent)[4], a = +c[5], h = +c[0], l = +c[1], p = +c[2], d = +c[3], c = u = void 0, f.getPreferredBounds(r), isNaN(h) || isNaN(l) ? isNaN(s) ? isNaN(h) && isNaN(l) ? u = r.x : (u = isNaN(h) ? 0 : h, u += isNaN(l) ? 0 : l) : u = 2 * Math.abs(s) : u = h + l, isNaN(p) || isNaN(d) ? isNaN(a) ? isNaN(p) && isNaN(d) ? c = r.y : (c = isNaN(p) ? 0 : p, c += isNaN(d) ? 0 : d) : c = 2 * Math.abs(a) : c = p + d, p = r.width, d = r.height, e = Math.ceil(Math.max(e, u + p)), i = Math.ceil(Math.max(i, c + d)))
                }
                t.setMeasuredSize(e, i)
            }
        }, t.updateDisplayList = function (t, e, i) {
            if (t) {
                for (var r = t.numChildren, n = 0, o = 0, s = egret.$TempRectangle, a = 0; a < r; a++) {
                    var h, l, u, c, p, d, f, g, y, v, m = t.getChildAt(a);
                    egret.is(m, _) && m.$includeInLayout && (h = b((v = m.$UIComponent)[4], .5 * e), l = b(v[5], .5 * i), u = b(v[0], e), c = b(v[1], e), p = b(v[2], i), d = b(v[3], i), f = v[6], g = v[7], v = y = NaN, isNaN(u) || isNaN(c) ? isNaN(f) || (y = Math.round(e * Math.min(.01 * f, 1))) : y = e - c - u, isNaN(p) || isNaN(d) ? isNaN(g) || (v = Math.round(i * Math.min(.01 * g, 1))) : v = i - d - p, m.setLayoutBoundsSize(y, v), m.getLayoutBounds(s), f = s.width, g = s.height, v = y = NaN, y = isNaN(h) ? isNaN(u) ? isNaN(c) ? s.x : e - f - c : u : Math.round((e - f) / 2 + h), v = isNaN(l) ? isNaN(p) ? isNaN(d) ? s.y : i - g - d : p : Math.round((i - g) / 2 + l), m.setLayoutBoundsPosition(y, v), n = Math.max(n, y + f), o = Math.max(o, v + g))
                }
                return egret.$TempPoint.setTo(n, o)
            }
        }
    }(eui = eui || {}),
    function (t) {
        var e = (i.LEFT = "left", i.JUSTIFY_USING_GAP = "justifyUsingGap", i.JUSTIFY_USING_WIDTH = "justifyUsingWidth", i);

        function i() {}
        t.ColumnAlign = e, __reflect(e.prototype, "eui.ColumnAlign")
    }(eui = eui || {}),
    function (V) {
        var e, G = "eui.UIComponent",
            t = (e = V.LinearLayoutBase, __extends(i, e), i.prototype.measureReal = function () {
                for (var t = this.$target, e = t.numElements, i = e, r = 0, n = 0, o = egret.$TempRectangle, s = 0; s < e; s++) {
                    var a = t.getElementAt(s);
                    egret.is(a, G) && a.$includeInLayout ? (a.getPreferredBounds(o), r += o.width, n = Math.max(n, o.height)) : i--
                }
                r += (i - 1) * this.$gap;
                var h = this.$paddingLeft + this.$paddingRight,
                    l = this.$paddingTop + this.$paddingBottom;
                t.setMeasuredSize(r + h, n + l)
            }, i.prototype.measureVirtual = function () {
                for (var t = this.$target, e = this.$typicalWidth, i = this.getElementTotalSize(), r = Math.max(this.maxElementSize, this.$typicalHeight), n = egret.$TempRectangle, o = this.endIndex, s = this.elementSizeTable, a = this.startIndex; a < o; a++) {
                    var h = t.getElementAt(a);
                    egret.is(h, G) && h.$includeInLayout && (h.getPreferredBounds(n), i += n.width, i -= isNaN(s[a]) ? e : s[a], r = Math.max(r, n.height))
                }
                var l = this.$paddingLeft + this.$paddingRight,
                    u = this.$paddingTop + this.$paddingBottom;
                t.setMeasuredSize(i + l, r + u)
            }, i.prototype.updateDisplayListReal = function (t, e) {
                var i = this.$target,
                    r = this.$paddingLeft,
                    n = this.$paddingRight,
                    o = this.$paddingTop,
                    s = this.$paddingBottom,
                    a = this.$gap,
                    t = Math.max(0, t - r - n),
                    h = Math.max(0, e - o - s),
                    l = this.$horizontalAlign == V.JustifyAlign.JUSTIFY,
                    u = this.$verticalAlign == V.JustifyAlign.JUSTIFY || this.$verticalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    c = 0;
                u || (this.$verticalAlign == egret.VerticalAlign.MIDDLE ? c = .5 : this.$verticalAlign == egret.VerticalAlign.BOTTOM && (c = 1));
                var p = i.numElements,
                    d = p,
                    f = r,
                    g = o,
                    y = 0,
                    v = 0,
                    m = [],
                    _ = t,
                    b = this.maxElementSize,
                    $ = egret.$TempRectangle;
                for (L = 0; L < p; L++) {
                    var x = i.getElementAt(L);
                    egret.is(x, G) && x.$includeInLayout ? (x.getPreferredBounds($), b = Math.max(b, $.height), l ? y += $.width : (k = x.$UIComponent, isNaN(k[6]) ? _ -= $.width : (v += k[6], (R = new V.sys.ChildInfo).layoutElement = x, R.percent = k[6], R.min = k[12], R.max = k[13], m.push(R)))) : d--
                }
                var T, _ = 0 < (_ -= a * (d - 1)) ? _ : 0,
                    E = t - y - a * (d - 1),
                    C = d,
                    S = {};
                if (l) {
                    if (E < 0) {
                        for (T = _ / d, L = 0; L < p; L++) j = i.getElementAt(L), egret.is(j, G) && j.$includeInLayout && (j.getPreferredBounds($), $.width <= T && (_ -= $.width, C--));
                        _ = 0 < _ ? _ : 0
                    }
                } else if (0 < v) {
                    this.flexChildrenProportionally(t, _, v, m);
                    for (var w = 0, P = m.length, L = 0; L < P; L++) {
                        var R = m[L],
                            O = Math.round(R.size + w);
                        w += R.size - O, _ -= S[R.layoutElement.$hashCode] = O
                    }
                    _ = 0 < _ ? _ : 0
                }
                this.$horizontalAlign == egret.HorizontalAlign.CENTER ? f = r + .5 * _ : this.$horizontalAlign == egret.HorizontalAlign.RIGHT && (f = r + _);
                var I, D, A = r,
                    N = o,
                    B = Math.ceil(h);
                this.$verticalAlign == V.JustifyAlign.CONTENT_JUSTIFY && (B = Math.ceil(Math.max(h, b)));
                var M, F = 0;
                for (L = 0; L < p; L++) {
                    var k, U, H, z = 0,
                        j = i.getElementAt(L);
                    egret.is(j, G) && j.$includeInLayout && (j.getPreferredBounds($), M = NaN, l ? (U = NaN, 0 < E ? U = _ * $.width / y : E < 0 && $.width > T && (U = _ / C), isNaN(U) || (F += U - (M = Math.round(U + F)))) : M = S[j.$hashCode], u ? (g = o, j.setLayoutBoundsSize(M, B), j.getLayoutBounds($)) : (H = NaN, k = j.$UIComponent, isNaN(j.percentHeight) || (U = Math.min(100, k[7]), H = Math.round(h * U * .01)), j.setLayoutBoundsSize(M, H), j.getLayoutBounds($), g = o + (z = 0 < (z = (h - $.height) * c) ? z : 0)), j.setLayoutBoundsPosition(Math.round(f), Math.round(g)), I = Math.ceil($.width), D = Math.ceil($.height), A = Math.max(A, f + I), N = Math.max(N, g + D), f += I + a)
                }
                this.maxElementSize = b, i.setContentSize(A + n, N + s)
            }, i.prototype.updateDisplayListVirtual = function (t, e) {
                var i = this.$target;
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var r, n = this.$paddingRight,
                    o = this.$paddingTop,
                    s = this.$paddingBottom,
                    a = this.$gap,
                    h = i.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex) return r = this.getStartPosition(h) - a + n, void i.setContentSize(r, i.contentHeight);
                var l = this.endIndex;
                i.setVirtualElementIndicesInView(this.startIndex, l);
                var u = this.$verticalAlign == V.JustifyAlign.JUSTIFY || this.$verticalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    c = this.$verticalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    p = 0;
                u || (this.$verticalAlign == egret.VerticalAlign.MIDDLE ? p = .5 : this.$verticalAlign == egret.VerticalAlign.BOTTOM && (p = 1));
                var d = egret.$TempRectangle,
                    f = Math.max(0, e - o - s),
                    g = Math.ceil(f),
                    e = this.$typicalHeight,
                    y = this.$typicalWidth,
                    v = this.maxElementSize,
                    e = Math.max(e, this.maxElementSize);
                if (c) {
                    for (var m = this.startIndex; m <= l; m++) S = i.getVirtualElementAt(m), egret.is(S, G) && S.$includeInLayout && (S.getPreferredBounds(d), v = Math.max(v, d.height));
                    g = Math.ceil(Math.max(f, v))
                }
                for (var _, b = 0, $ = 0, x = !1, T = this.elementSizeTable, E = this.startIndex; E <= l; E++) {
                    var C = 0,
                        S = i.getVirtualElementAt(E);
                    egret.is(S, G) && S.$includeInLayout && (S.getPreferredBounds(d), c || (v = Math.max(v, d.height)), u ? (b = o, S.setLayoutBoundsSize(NaN, g), S.getLayoutBounds(d)) : (S.getLayoutBounds(d), b = o + (C = 0 < (C = (f - d.height) * p) ? C : 0)), $ = Math.max($, d.height), x || (isNaN(T[E]) ? y : T[E]) != d.width && (x = !0), T[E] = d.width, _ = this.getStartPosition(E), S.setLayoutBoundsPosition(Math.round(_), Math.round(b)))
                }
                $ += o + s, r = this.getStartPosition(h) - a + n, this.maxElementSize = v, i.setContentSize(r, $), (x || e < this.maxElementSize) && i.invalidateSize()
            }, i.prototype.getStartPosition = function (t) {
                if (!this.$useVirtualLayout && this.$target) {
                    var e = this.$target.getElementAt(t);
                    if (e) return e.x
                }
                for (var i = this.$typicalWidth, r = this.$paddingLeft, n = this.$gap, o = this.elementSizeTable, s = 0; s < t; s++) {
                    var a = o[s];
                    r += (a = isNaN(a) ? i : a) + n
                }
                return r
            }, i.prototype.getElementSize = function (t) {
                if (this.$useVirtualLayout) {
                    var e = this.elementSizeTable[t];
                    return e = isNaN(e) ? this.$typicalWidth : e
                }
                return this.$target ? this.$target.getElementAt(t).width : 0
            }, i.prototype.getElementTotalSize = function () {
                for (var t = this.$typicalWidth, e = this.$gap, i = 0, r = this.$target.numElements, n = this.elementSizeTable, o = 0; o < r; o++) {
                    var s = n[o];
                    i += (s = isNaN(s) ? t : s) + e
                }
                return i -= e
            }, i.prototype.elementAdded = function (t) {
                this.useVirtualLayout && (e.prototype.elementAdded.call(this, t), this.elementSizeTable.splice(t, 0, this.$typicalWidth))
            }, i.prototype.getIndexInView = function () {
                var t = this.$target;
                if (!t || 0 == t.numElements) return !(this.startIndex = this.endIndex = -1);
                var e = t.$UIComponent;
                if (e[10] <= 0 || e[11] <= 0) return !(this.startIndex = this.endIndex = -1);
                var i = t.numElements,
                    r = this.getStartPosition(i - 1) + this.elementSizeTable[i - 1] + this.$paddingRight,
                    n = t.scrollH;
                if (n > r - this.$paddingRight) return this.startIndex = -1, !(this.endIndex = -1);
                r = t.scrollH + e[10];
                if (r < this.$paddingLeft) return this.startIndex = -1, !(this.endIndex = -1);
                t = this.startIndex, e = this.endIndex;
                return this.startIndex = this.findIndexAt(n, 0, i - 1), -1 == this.startIndex && (this.startIndex = 0), this.endIndex = this.findIndexAt(r, 0, i - 1), -1 == this.endIndex && (this.endIndex = i - 1), t != this.startIndex || e != this.endIndex
            }, i);

        function i() {
            return null !== e && e.apply(this, arguments) || this
        }
        V.HorizontalLayout = t, __reflect(t.prototype, "eui.HorizontalLayout")
    }(eui = eui || {}),
    function (t) {
        var e = (i.JUSTIFY = "justify", i.CONTENT_JUSTIFY = "contentJustify", i);

        function i() {}
        t.JustifyAlign = e, __reflect(e.prototype, "eui.JustifyAlign")
    }(eui = eui || {}),
    function (t) {
        var e = (i.TOP = "top", i.JUSTIFY_USING_GAP = "justifyUsingGap", i.JUSTIFY_USING_HEIGHT = "justifyUsingHeight", i);

        function i() {}
        t.RowAlign = e, __reflect(e.prototype, "eui.RowAlign")
    }(eui = eui || {}),
    function (x) {
        var T, E = "eui.UIComponent",
            t = (T = x.LayoutBase, __extends(e, T), Object.defineProperty(e.prototype, "horizontalGap", {
                get: function () {
                    return this._horizontalGap
                },
                set: function (t) {
                    (t = +t) !== this._horizontalGap && (this.explicitHorizontalGap = t, this._horizontalGap = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "verticalGap", {
                get: function () {
                    return this._verticalGap
                },
                set: function (t) {
                    (t = +t) !== this._verticalGap && (this.explicitVerticalGap = t, this._verticalGap = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "columnCount", {
                get: function () {
                    return this._columnCount
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "requestedColumnCount", {
                get: function () {
                    return this._requestedColumnCount
                },
                set: function (t) {
                    this._requestedColumnCount !== (t = +t || 0) && (this._requestedColumnCount = t, this._columnCount = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "rowCount", {
                get: function () {
                    return this._rowCount
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "requestedRowCount", {
                get: function () {
                    return this._requestedRowCount
                },
                set: function (t) {
                    this._requestedRowCount != (t = +t || 0) && (this._requestedRowCount = t, this._rowCount = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "columnWidth", {
                get: function () {
                    return this._columnWidth
                },
                set: function (t) {
                    (t = +t) !== this._columnWidth && (this.explicitColumnWidth = t, this._columnWidth = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "rowHeight", {
                get: function () {
                    return this._rowHeight
                },
                set: function (t) {
                    (t = +t) !== this._rowHeight && (this.explicitRowHeight = t, this._rowHeight = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "paddingLeft", {
                get: function () {
                    return this._paddingLeft
                },
                set: function (t) {
                    this._paddingLeft != (t = +t || 0) && (this._paddingLeft = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "paddingRight", {
                get: function () {
                    return this._paddingRight
                },
                set: function (t) {
                    this._paddingRight !== (t = +t || 0) && (this._paddingRight = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "paddingTop", {
                get: function () {
                    return this._paddingTop
                },
                set: function (t) {
                    this._paddingTop != (t = +t || 0) && (this._paddingTop = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "paddingBottom", {
                get: function () {
                    return this._paddingBottom
                },
                set: function (t) {
                    this._paddingBottom !== (t = +t || 0) && (this._paddingBottom = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "horizontalAlign", {
                get: function () {
                    return this._horizontalAlign
                },
                set: function (t) {
                    this._horizontalAlign != t && (this._horizontalAlign = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "verticalAlign", {
                get: function () {
                    return this._verticalAlign
                },
                set: function (t) {
                    this._verticalAlign != t && (this._verticalAlign = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "columnAlign", {
                get: function () {
                    return this._columnAlign
                },
                set: function (t) {
                    this._columnAlign != t && (this._columnAlign = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "rowAlign", {
                get: function () {
                    return this._rowAlign
                },
                set: function (t) {
                    this._rowAlign != t && (this._rowAlign = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), Object.defineProperty(e.prototype, "orientation", {
                get: function () {
                    return this._orientation
                },
                set: function (t) {
                    this._orientation != t && (this._orientation = t, this.invalidateTargetLayout())
                },
                enumerable: !0,
                configurable: !0
            }), e.prototype.invalidateTargetLayout = function () {
                var t = this.$target;
                t && (t.invalidateSize(), t.invalidateDisplayList())
            }, e.prototype.measure = function () {
                var t, e, i, r, n, o, s, a, h, l, u = this.$target;
                u && (t = this._columnCount, e = this._rowCount, i = this._columnWidth, r = this._rowHeight, o = n = 0, l = u.$UIComponent, this.calculateRowAndColumn(l[8], l[9]), s = 0 < this._requestedColumnCount ? this._requestedColumnCount : this._columnCount, h = 0 < this._requestedRowCount ? this._requestedRowCount : this._rowCount, a = isNaN(this._horizontalGap) ? 0 : this._horizontalGap, l = isNaN(this._verticalGap) ? 0 : this._verticalGap, 0 < s && (n = s * (this._columnWidth + a) - a), 0 < h && (o = h * (this._rowHeight + l) - l), h = this._paddingLeft + this._paddingRight, l = this._paddingTop + this._paddingBottom, u.setMeasuredSize(n + h, o + l), this._columnCount = t, this._rowCount = e, this._columnWidth = i, this._rowHeight = r)
            }, e.prototype.calculateRowAndColumn = function (t, e) {
                var i = this.$target,
                    r = isNaN(this._horizontalGap) ? 0 : this._horizontalGap,
                    n = isNaN(this._verticalGap) ? 0 : this._verticalGap;
                this._rowCount = this._columnCount = -1;
                for (var o, s, a, h, l, u, c, p, d, f = i.numElements, g = f, y = 0; y < g; y++) {
                    var v = i.getElementAt(y);
                    !v || egret.is(v, E) && v.$includeInLayout || f--
                }
                0 != f ? ((isNaN(this.explicitColumnWidth) || isNaN(this.explicitRowHeight)) && this.updateMaxElementSize(), isNaN(this.explicitColumnWidth) ? this._columnWidth = this.maxElementWidth : this._columnWidth = this.explicitColumnWidth, isNaN(this.explicitRowHeight) ? this._rowHeight = this.maxElementHeight : this._rowHeight = this.explicitRowHeight, (o = this._columnWidth + r) <= 0 && (o = 1), (s = this._rowHeight + n) <= 0 && (s = 1), a = this._orientation == x.TileOrientation.COLUMNS, h = !isNaN(t), l = !isNaN(e), u = this._paddingLeft, d = this._paddingRight, c = this._paddingTop, p = this._paddingBottom, 0 < this._requestedColumnCount || 0 < this._requestedRowCount ? (0 < this._requestedRowCount && (this._rowCount = Math.min(this._requestedRowCount, f)), 0 < this._requestedColumnCount && (this._columnCount = Math.min(this._requestedColumnCount, f))) : h || l ? !h || l && a ? (p = Math.max(0, e - c - p), this._rowCount = Math.floor((p + n) / s), this._rowCount = Math.max(1, Math.min(this._rowCount, f))) : (d = Math.max(0, t - u - d), this._columnCount = Math.floor((d + r) / o), this._columnCount = Math.max(1, Math.min(this._columnCount, f))) : (r = Math.sqrt(f * o * s), a ? this._rowCount = Math.max(1, Math.round(r / s)) : this._columnCount = Math.max(1, Math.round(r / o))), -1 == this._rowCount && (this._rowCount = Math.max(1, Math.ceil(f / this._columnCount))), -1 == this._columnCount && (this._columnCount = Math.max(1, Math.ceil(f / this._rowCount))), 0 < this._requestedColumnCount && 0 < this._requestedRowCount && (this._orientation == x.TileOrientation.ROWS ? this._rowCount = Math.max(1, Math.ceil(f / this._requestedColumnCount)) : this._columnCount = Math.max(1, Math.ceil(f / this._requestedRowCount)))) : this._rowCount = this._columnCount = 0
            }, e.prototype.updateMaxElementSize = function () {
                this.$target && (this.$useVirtualLayout ? (this.maxElementWidth = Math.max(this.maxElementWidth, this.$typicalWidth), this.maxElementHeight = Math.max(this.maxElementHeight, this.$typicalHeight), this.doUpdateMaxElementSize(this.startIndex, this.endIndex)) : this.doUpdateMaxElementSize(0, this.$target.numElements - 1))
            }, e.prototype.doUpdateMaxElementSize = function (t, e) {
                var i = this.maxElementWidth,
                    r = this.maxElementHeight,
                    n = egret.$TempRectangle,
                    o = this.$target;
                if (-1 != t && -1 != e)
                    for (var s = t; s <= e; s++) {
                        var a = o.getVirtualElementAt(s);
                        egret.is(a, E) && a.$includeInLayout && (a.getPreferredBounds(n), i = Math.max(i, n.width), r = Math.max(r, n.height))
                    }
                this.maxElementWidth = i, this.maxElementHeight = r
            }, e.prototype.clearVirtualLayoutCache = function () {
                T.prototype.clearVirtualLayoutCache.call(this), this.maxElementWidth = 0, this.maxElementHeight = 0
            }, e.prototype.scrollPositionChanged = function () {
                this.$useVirtualLayout && this.getIndexInView() && (this.indexInViewCalculated = !0, this.$target.invalidateDisplayList())
            }, e.prototype.getIndexInView = function () {
                if (!this.$target || 0 == this.$target.numElements) return !(this.startIndex = this.endIndex = -1);
                var t = this.$target,
                    e = t.numElements;
                if (!this.$useVirtualLayout) return this.startIndex = 0, this.endIndex = e - 1, !1;
                var i = t.$UIComponent;
                if (0 == i[10] || 0 == i[11]) return !(this.startIndex = this.endIndex = -1);
                var r = this.startIndex,
                    n = this.endIndex,
                    o = this._paddingLeft,
                    s = this._paddingTop,
                    a = isNaN(this._horizontalGap) ? 0 : this._horizontalGap,
                    h = isNaN(this._verticalGap) ? 0 : this._verticalGap;
                if (this._orientation == x.TileOrientation.COLUMNS) {
                    var l = this._columnWidth + a;
                    if (l <= 0) return this.startIndex = 0, this.endIndex = e - 1, !1;
                    var u = t.scrollH,
                        a = u + i[10],
                        u = Math.floor((u - o) / l);
                    u < 0 && (u = 0);
                    l = Math.ceil((a - o) / l);
                    l < 0 && (l = 0), this.startIndex = Math.min(e - 1, Math.max(0, u * this._rowCount)), this.endIndex = Math.min(e - 1, Math.max(0, l * this._rowCount - 1))
                } else {
                    h = this._rowHeight + h;
                    if (h <= 0) return this.startIndex = 0, this.endIndex = e - 1, !1;
                    t = t.scrollV, i = t + i[11], t = Math.floor((t - s) / h);
                    t < 0 && (t = 0);
                    h = Math.ceil((i - s) / h);
                    h < 0 && (h = 0), this.startIndex = Math.min(e - 1, Math.max(0, t * this._columnCount)), this.endIndex = Math.min(e - 1, Math.max(0, h * this._columnCount - 1))
                }
                return this.startIndex != r || this.endIndex != n
            }, e.prototype.updateDisplayList = function (t, e) {
                if (T.prototype.updateDisplayList.call(this, t, e), this.$target) {
                    var i = this.$target,
                        r = this._paddingLeft,
                        n = this._paddingRight,
                        o = this._paddingTop,
                        s = this._paddingBottom;
                    if (this.indexInViewCalculated) this.indexInViewCalculated = !1;
                    else {
                        if (this.calculateRowAndColumn(t, e), 0 == this._rowCount || 0 == this._columnCount) return void i.setContentSize(r + n, o + s);
                        this.adjustForJustify(t, e), this.getIndexInView()
                    }
                    if (this.$useVirtualLayout && (this.calculateRowAndColumn(t, e), this.adjustForJustify(t, e)), -1 != this.startIndex && -1 != this.endIndex) {
                        var a, h, l, u, c, p = this.endIndex;
                        i.setVirtualElementIndicesInView(this.startIndex, p);
                        for (var d = this._orientation == x.TileOrientation.COLUMNS, f = this.startIndex, g = isNaN(this._horizontalGap) ? 0 : this._horizontalGap, y = isNaN(this._verticalGap) ? 0 : this._verticalGap, v = this._rowCount, m = this._columnCount, _ = this._columnWidth, b = this._rowHeight, $ = this.startIndex; $ <= p; $++)
                            if (a = this.$useVirtualLayout ? this.target.getVirtualElementAt($) : this.target.getElementAt($), egret.is(a, E) && a.$includeInLayout) {
                                switch (d ? (u = Math.ceil((f + 1) / v) - 1, -1 == (c = Math.ceil((f + 1) % v) - 1) && (c = v - 1)) : (-1 == (u = Math.ceil((f + 1) % m) - 1) && (u = m - 1), c = Math.ceil((f + 1) / m) - 1), h = this._horizontalAlign === egret.HorizontalAlign.RIGHT ? t - (u + 1) * (_ + g) + g - n : (egret.HorizontalAlign.LEFT, u * (_ + g) + r), this._verticalAlign) {
                                    case egret.VerticalAlign.TOP:
                                        l = c * (b + y) + o;
                                        break;
                                    case egret.VerticalAlign.BOTTOM:
                                        l = e - (c + 1) * (b + y) + y - s;
                                        break;
                                    default:
                                        l = c * (b + y) + o
                                }
                                this.sizeAndPositionElement(a, h, l, _, b), f++
                            } i.setContentSize((_ + g) * m - g + (r + n), (b + y) * v - y + (o + s))
                    } else i.setContentSize(0, 0)
                }
            }, e.prototype.sizeAndPositionElement = function (t, e, i, r, n) {
                var o = NaN,
                    s = NaN,
                    a = t.$UIComponent;
                this._horizontalAlign == x.JustifyAlign.JUSTIFY ? o = r : isNaN(a[6]) || (o = r * a[6] * .01), this._verticalAlign == x.JustifyAlign.JUSTIFY ? s = n : isNaN(a[7]) || (s = n * a[7] * .01), t.setLayoutBoundsSize(Math.round(o), Math.round(s));
                var h = e,
                    l = egret.$TempRectangle;
                switch (t.getLayoutBounds(l), this._horizontalAlign) {
                    case egret.HorizontalAlign.RIGHT:
                        h += r - l.width;
                        break;
                    case egret.HorizontalAlign.CENTER:
                        h = e + (r - l.width) / 2
                }
                var u = i;
                switch (this._verticalAlign) {
                    case egret.VerticalAlign.BOTTOM:
                        u += n - l.height;
                        break;
                    case egret.VerticalAlign.MIDDLE:
                        u += (n - l.height) / 2
                }
                t.setLayoutBoundsPosition(Math.round(h), Math.round(u))
            }, e.prototype.adjustForJustify = function (t, e) {
                var i = this._paddingLeft,
                    r = this._paddingRight,
                    n = this._paddingTop,
                    o = this._paddingBottom,
                    r = Math.max(0, t - i - r),
                    o = Math.max(0, e - n - o);
                isNaN(this.explicitVerticalGap) || (this._verticalGap = this.explicitVerticalGap), isNaN(this.explicitHorizontalGap) || (this._horizontalGap = this.explicitHorizontalGap), this._verticalGap = isNaN(this._verticalGap) ? 0 : this._verticalGap, this._horizontalGap = isNaN(this._horizontalGap) ? 0 : this._horizontalGap;
                var s, o = o - this._rowHeight * this._rowCount,
                    r = r - this._columnWidth * this._columnCount;
                0 < o && (this._rowAlign == x.RowAlign.JUSTIFY_USING_GAP ? (s = Math.max(1, this._rowCount - 1), this._verticalGap = o / s) : this._rowAlign == x.RowAlign.JUSTIFY_USING_HEIGHT && 0 < this._rowCount && (this._rowHeight += (o - (this._rowCount - 1) * this._verticalGap) / this._rowCount)), 0 < r && (this._columnAlign == x.ColumnAlign.JUSTIFY_USING_GAP ? (s = Math.max(1, this._columnCount - 1), this._horizontalGap = r / s) : this._columnAlign == x.ColumnAlign.JUSTIFY_USING_WIDTH && 0 < this._columnCount && (this._columnWidth += (r - (this._columnCount - 1) * this._horizontalGap) / this._columnCount))
            }, e);

        function e() {
            var t = T.call(this) || this;
            return t.explicitHorizontalGap = NaN, t._horizontalGap = 6, t.explicitVerticalGap = NaN, t._verticalGap = 6, t._columnCount = -1, t._requestedColumnCount = 0, t._rowCount = -1, t._requestedRowCount = 0, t.explicitColumnWidth = NaN, t._columnWidth = NaN, t.explicitRowHeight = NaN, t._rowHeight = NaN, t._paddingLeft = 0, t._paddingRight = 0, t._paddingTop = 0, t._paddingBottom = 0, t._horizontalAlign = x.JustifyAlign.JUSTIFY, t._verticalAlign = x.JustifyAlign.JUSTIFY, t._columnAlign = x.ColumnAlign.LEFT, t._rowAlign = x.RowAlign.TOP, t._orientation = x.TileOrientation.ROWS, t.maxElementWidth = 0, t.maxElementHeight = 0, t.startIndex = -1, t.endIndex = -1, t.indexInViewCalculated = !1, t
        }
        x.TileLayout = t, __reflect(t.prototype, "eui.TileLayout")
    }(eui = eui || {}),
    function (t) {
        var e = (i.ROWS = "rows", i.COLUMNS = "columns", i);

        function i() {}
        t.TileOrientation = e, __reflect(e.prototype, "eui.TileOrientation")
    }(eui = eui || {}),
    function (V) {
        var e, G = "eui.UIComponent",
            t = (e = V.LinearLayoutBase, __extends(i, e), i.prototype.measureReal = function () {
                for (var t = this.$target, e = t.numElements, i = e, r = 0, n = 0, o = egret.$TempRectangle, s = 0; s < e; s++) {
                    var a = t.getElementAt(s);
                    egret.is(a, G) && a.$includeInLayout ? (a.getPreferredBounds(o), n += o.height, r = Math.max(r, o.width)) : i--
                }
                n += (i - 1) * this.$gap;
                var h = this.$paddingLeft + this.$paddingRight,
                    l = this.$paddingTop + this.$paddingBottom;
                t.setMeasuredSize(r + h, n + l)
            }, i.prototype.measureVirtual = function () {
                for (var t = this.$target, e = this.$typicalHeight, i = this.getElementTotalSize(), r = Math.max(this.maxElementSize, this.$typicalWidth), n = egret.$TempRectangle, o = this.endIndex, s = this.elementSizeTable, a = this.startIndex; a < o; a++) {
                    var h = t.getElementAt(a);
                    egret.is(h, G) && h.$includeInLayout && (h.getPreferredBounds(n), i += n.height, i -= isNaN(s[a]) ? e : s[a], r = Math.max(r, n.width))
                }
                var l = this.$paddingLeft + this.$paddingRight,
                    u = this.$paddingTop + this.$paddingBottom;
                t.setMeasuredSize(r + l, i + u)
            }, i.prototype.updateDisplayListReal = function (t, e) {
                var i = this.$target,
                    r = this.$paddingLeft,
                    n = this.$paddingRight,
                    o = this.$paddingTop,
                    s = this.$paddingBottom,
                    a = this.$gap,
                    h = Math.max(0, t - r - n),
                    e = Math.max(0, e - o - s),
                    l = this.$verticalAlign == V.JustifyAlign.JUSTIFY,
                    u = this.$horizontalAlign == V.JustifyAlign.JUSTIFY || this.$horizontalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    c = 0;
                u || (this.$horizontalAlign == egret.HorizontalAlign.CENTER ? c = .5 : this.$horizontalAlign == egret.HorizontalAlign.RIGHT && (c = 1));
                var p = i.numElements,
                    d = p,
                    f = r,
                    g = o,
                    y = 0,
                    v = 0,
                    m = [],
                    _ = e,
                    b = this.maxElementSize,
                    $ = egret.$TempRectangle;
                for (L = 0; L < p; L++) {
                    var x = i.getElementAt(L);
                    egret.is(x, G) && x.$includeInLayout ? (x.getPreferredBounds($), b = Math.max(b, $.width), l ? y += $.height : (k = x.$UIComponent, isNaN(k[7]) ? _ -= $.height : (v += k[7], (R = new V.sys.ChildInfo).layoutElement = x, R.percent = k[7], R.min = k[14], R.max = k[15], m.push(R)))) : d--
                }
                var T, _ = 0 < (_ -= a * (d - 1)) ? _ : 0,
                    E = e - y - a * (d - 1),
                    C = d,
                    S = {};
                if (l) {
                    if (E < 0) {
                        for (T = _ / d, L = 0; L < p; L++) j = i.getElementAt(L), egret.is(j, G) && j.$includeInLayout && (j.getPreferredBounds($), $.height <= T && (_ -= $.height, C--));
                        _ = 0 < _ ? _ : 0
                    }
                } else if (0 < v) {
                    this.flexChildrenProportionally(e, _, v, m);
                    for (var w = 0, P = m.length, L = 0; L < P; L++) {
                        var R = m[L],
                            O = Math.round(R.size + w);
                        w += R.size - O, _ -= S[R.layoutElement.$hashCode] = O
                    }
                    _ = 0 < _ ? _ : 0
                }
                this.$verticalAlign == egret.VerticalAlign.MIDDLE ? g = o + .5 * _ : this.$verticalAlign == egret.VerticalAlign.BOTTOM && (g = o + _);
                var I, D, A = r,
                    N = o,
                    B = Math.ceil(h);
                this.$horizontalAlign == V.JustifyAlign.CONTENT_JUSTIFY && (B = Math.ceil(Math.max(h, b)));
                var M, F = 0;
                for (L = 0; L < p; L++) {
                    var k, U, H, z = 0,
                        j = i.getElementAt(L);
                    egret.is(j, G) && j.$includeInLayout && (j.getPreferredBounds($), M = NaN, l ? (U = NaN, 0 < E ? U = _ * $.height / y : E < 0 && $.height > T && (U = _ / C), isNaN(U) || (F += U - (M = Math.round(U + F)))) : M = S[j.$hashCode], u ? (f = r, j.setLayoutBoundsSize(B, M), j.getLayoutBounds($)) : (H = NaN, k = j.$UIComponent, isNaN(k[6]) || (U = Math.min(100, k[6]), H = Math.round(h * U * .01)), j.setLayoutBoundsSize(H, M), j.getLayoutBounds($), f = r + (z = 0 < (z = (h - $.width) * c) ? z : 0)), j.setLayoutBoundsPosition(Math.round(f), Math.round(g)), I = Math.ceil($.width), D = Math.ceil($.height), A = Math.max(A, f + I), N = Math.max(N, g + D), g += D + a)
                }
                this.maxElementSize = b, i.setContentSize(A + n, N + s)
            }, i.prototype.updateDisplayListVirtual = function (t, e) {
                var i = this.$target;
                this.indexInViewCalculated ? this.indexInViewCalculated = !1 : this.getIndexInView();
                var r, n = this.$paddingBottom,
                    o = this.$paddingLeft,
                    s = this.$paddingRight,
                    a = this.$gap,
                    h = i.numElements;
                if (-1 == this.startIndex || -1 == this.endIndex) return r = this.getStartPosition(h) - a + n, void i.setContentSize(i.contentWidth, r);
                var l = this.endIndex;
                i.setVirtualElementIndicesInView(this.startIndex, l);
                var u = this.$horizontalAlign == V.JustifyAlign.JUSTIFY || this.$horizontalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    c = this.$horizontalAlign == V.JustifyAlign.CONTENT_JUSTIFY,
                    p = 0;
                u || (this.$horizontalAlign == egret.HorizontalAlign.CENTER ? p = .5 : this.$horizontalAlign == egret.HorizontalAlign.RIGHT && (p = 1));
                var d = egret.$TempRectangle,
                    f = Math.max(0, t - o - s),
                    g = Math.ceil(f),
                    y = this.$typicalHeight,
                    t = this.$typicalWidth,
                    v = this.maxElementSize,
                    t = Math.max(t, this.maxElementSize);
                if (c) {
                    for (var m = this.startIndex; m <= l; m++) S = i.getVirtualElementAt(m), egret.is(S, G) && S.$includeInLayout && (S.getPreferredBounds(d), v = Math.max(v, d.width));
                    g = Math.ceil(Math.max(f, v))
                }
                for (var _, b = 0, $ = 0, x = !1, T = this.elementSizeTable, E = this.startIndex; E <= l; E++) {
                    var C = 0,
                        S = i.getVirtualElementAt(E);
                    egret.is(S, G) && S.$includeInLayout && (S.getPreferredBounds(d), c || (v = Math.max(v, d.width)), u ? (b = o, S.setLayoutBoundsSize(g, NaN), S.getLayoutBounds(d)) : (S.getLayoutBounds(d), b = o + (C = 0 < (C = (f - d.width) * p) ? C : 0)), $ = Math.max($, d.width), x || (isNaN(T[E]) ? y : T[E]) != d.height && (x = !0), T[E] = d.height, _ = this.getStartPosition(E), S.setLayoutBoundsPosition(Math.round(b), Math.round(_)))
                }
                $ += o + s, r = this.getStartPosition(h) - a + n, this.maxElementSize = v, i.setContentSize($, r), (x || t < this.maxElementSize) && i.invalidateSize()
            }, i.prototype.getStartPosition = function (t) {
                if (!this.$useVirtualLayout && this.$target) {
                    var e = this.$target.getElementAt(t);
                    if (e) return e.y
                }
                for (var i = this.$typicalHeight, r = this.$paddingTop, n = this.$gap, o = this.elementSizeTable, s = 0; s < t; s++) {
                    var a = o[s];
                    r += (a = isNaN(a) ? i : a) + n
                }
                return r
            }, i.prototype.getElementSize = function (t) {
                if (this.$useVirtualLayout) {
                    var e = this.elementSizeTable[t];
                    return e = isNaN(e) ? this.$typicalHeight : e
                }
                return this.$target ? this.$target.getElementAt(t).height : 0
            }, i.prototype.getElementTotalSize = function () {
                for (var t = this.$typicalHeight, e = this.$gap, i = 0, r = this.$target.numElements, n = this.elementSizeTable, o = 0; o < r; o++) {
                    var s = n[o];
                    i += (s = isNaN(s) ? t : s) + e
                }
                return i -= e
            }, i.prototype.elementAdded = function (t) {
                this.$useVirtualLayout && (e.prototype.elementAdded.call(this, t), this.elementSizeTable.splice(t, 0, this.$typicalHeight))
            }, i.prototype.getIndexInView = function () {
                var t = this.$target;
                if (!t || 0 == t.numElements) return !(this.startIndex = this.endIndex = -1);
                var e = t.$UIComponent;
                if (0 == e[10] || 0 == e[11]) return !(this.startIndex = this.endIndex = -1);
                var i = t.numElements,
                    r = this.getStartPosition(i - 1) + this.elementSizeTable[i - 1] + this.$paddingBottom,
                    n = t.scrollV;
                if (n > r - this.$paddingBottom) return this.startIndex = -1, !(this.endIndex = -1);
                r = t.scrollV + e[11];
                if (r < this.$paddingTop) return this.startIndex = -1, !(this.endIndex = -1);
                t = this.startIndex, e = this.endIndex;
                return this.startIndex = this.findIndexAt(n, 0, i - 1), -1 == this.startIndex && (this.startIndex = 0), this.endIndex = this.findIndexAt(r, 0, i - 1), -1 == this.endIndex && (this.endIndex = i - 1), t != this.startIndex || e != this.endIndex
            }, i);

        function i() {
            return null !== e && e.apply(this, arguments) || this
        }
        V.VerticalLayout = t, __reflect(t.prototype, "eui.VerticalLayout")
    }(eui = eui || {}),
    function (t) {
        var h, e = (h = t.ScrollBarBase, __extends(i, h), i.prototype.updateDisplayList = function (t, e) {
            h.prototype.updateDisplayList.call(this, t, e);
            var i, r, n, o, s = this.thumb,
                a = this.$viewport;
            s && a && (n = egret.$TempRectangle, s.getPreferredBounds(n), i = n.width, r = n.y, e = a.scrollH, n = a.contentWidth, a = a.width, e <= 0 ? (o = i * (1 - -e / (.5 * a)), o = Math.max(5, Math.round(o)), s.setLayoutBoundsSize(o, NaN), s.setLayoutBoundsPosition(0, r)) : n - a <= e ? (o = i * (1 - (e - n + a) / (.5 * a)), o = Math.max(5, Math.round(o)), s.setLayoutBoundsSize(o, NaN), s.setLayoutBoundsPosition(t - o, r)) : (a = (t - i) * e / (n - a), s.setLayoutBoundsSize(NaN, NaN), s.setLayoutBoundsPosition(a, r)))
        }, i.prototype.onPropertyChanged = function (t) {
            switch (t.property) {
                case "scrollH":
                case "contentWidth":
                    this.invalidateDisplayList()
            }
        }, i);

        function i() {
            return null !== h && h.apply(this, arguments) || this
        }
        t.HScrollBar = e, __reflect(e.prototype, "eui.HScrollBar")
    }(eui = eui || {}),
    function (t) {
        var e = (i.prototype.apply = function (t, e) {
            var i, r = t[this.relativeTo],
                n = t[this.target],
                o = this.propertyName ? t[this.propertyName] : e;
            if (n && o) {
                switch (this.position) {
                    case 0:
                        i = 0;
                        break;
                    case 1:
                        i = -1;
                        break;
                    case 2:
                        i = o.getChildIndex(r);
                        break;
                    case 3:
                        i = o.getChildIndex(r) + 1
                } - 1 == i && (i = o.numChildren), egret.is(o, "eui.Component") && o.$Component[8].$elementsContent.push(n), o.addChildAt(n, i)
            }
        }, i.prototype.remove = function (t, e) {
            e = this.propertyName ? t[this.propertyName] : e, t = t[this.target];
            t && e && (t.$parent === e && e.removeChild(t), !egret.is(e, "eui.Component") || -1 < (t = (e = e.$Component[8].$elementsContent).indexOf(t)) && e.splice(t, 1))
        }, i);

        function i(t, e, i, r) {
            this.target = t, this.propertyName = e, this.position = i, this.relativeTo = r
        }
        t.AddItems = e, __reflect(e.prototype, "eui.AddItems", ["eui.IOverride"])
    }(eui = eui || {}),
    function (t) {
        var e = (i.prototype.apply = function (t, e) {
            t = this.target ? t[this.target] : t;
            t && (this.oldValue = t[this.name], this.setPropertyValue(t, this.name, this.value, this.oldValue))
        }, i.prototype.remove = function (t, e) {
            t = this.target ? t[this.target] : t;
            t && (this.setPropertyValue(t, this.name, this.oldValue, this.oldValue), this.oldValue = null)
        }, i.prototype.setPropertyValue = function (t, e, i, r) {
            t[e] = null == i ? i : "number" == typeof r ? +i : "boolean" == typeof r ? this.toBoolean(i) : i
        }, i.prototype.toBoolean = function (t) {
            return "string" == typeof t ? "true" == t.toLowerCase() : 0 != t
        }, i);

        function i(t, e, i) {
            this.target = t, this.name = e, this.value = i
        }
        t.SetProperty = e, __reflect(e.prototype, "eui.SetProperty", ["eui.IOverride"])
    }(eui = eui || {}),
    function (r) {
        var t = (e.prototype.apply = function (t, e) {
            var i;
            this.target && (i = this.target[this.prop], this.oldValue && this.setPropertyValue(this.target, this.prop, this.oldValue, this.oldValue), i && (this.oldValue = i), r.Binding.$bindProperties(this.host, this.templates.concat(), this.chainIndex.concat(), this.target, this.prop))
        }, e.prototype.remove = function (t, e) {
            var i;
            this.target && (i = this.oldValue, this.target[this.prop] && (this.oldValue = this.target[this.prop]), i && this.setPropertyValue(this.target, this.prop, i, i))
        }, e.prototype.setPropertyValue = function (t, e, i, r) {
            t[e] = null == i ? i : "number" == typeof r ? +i : "boolean" == typeof r ? this.toBoolean(i) : i
        }, e.prototype.toBoolean = function (t) {
            return "string" == typeof t ? "true" == t.toLowerCase() : 0 != t
        }, e);

        function e(t, e, i, r, n) {
            this.host = t, this.templates = e, this.chainIndex = i, this.target = r, this.prop = n
        }
        r.SetStateProperty = t, __reflect(t.prototype, "eui.SetStateProperty", ["eui.IOverride"])
    }(eui = eui || {}),
    function (t) {
        var e;

        function i() {}

        function f(t, e, i, r, n, o, s, a, h, l) {
            var u;
            if (!isNaN(i) && isNaN(r)) {
                if (u = p(t, e, i, o, i, a, i, l)) return u
            } else if (isNaN(i) && !isNaN(r) && (u = p(t, e, n, r, s, r, h, r))) return u;
            return u = p(t, e, n, o, s, a, h, l)
        }

        function g(t, e, i, r, n, o, s, a, h, l) {
            var u;
            if (!isNaN(i) && isNaN(r)) {
                if (u = c(t, e, i, o, i, a, i, l)) return u
            } else if (isNaN(i) && !isNaN(r) && (u = c(t, e, n, r, s, r, h, r))) return u;
            return u = c(t, e, n, o, s, a, h, l)
        }

        function c(t, e, i, r, n, o, s, a) {
            var h = e.b,
                l = e.d;
            if (-1e-9 < l && l < 1e-9 && (l = 0), 0 == (h = -1e-9 < h && h < 1e-9 ? 0 : h) && 0 == l) return null;
            if (0 == h && 0 == l) return null;
            if (0 == h) return egret.Point.create(i, t / Math.abs(l));
            if (0 == l) return egret.Point.create(t / Math.abs(h), r);
            var u, c, p, l = 0 <= h * l ? l : -l;
            if (0 != l && 0 < i && (p = 1 / l, o <= (c = (t - h * (u = i = Math.max(n, Math.min(s, i)))) * p) && c <= a && 0 <= h * u + l * c && (d = egret.Point.create(u, c)), o <= (c = (-t - h * u) * p) && c <= a && h * u + l * c < 0 && (!d || v(d.x, d.y, e).width > v(u, c, e).width) && (egret.Point.release(d), d = egret.Point.create(u, c))), 0 != h && 0 < r && (p = 1 / h, n <= (u = (t - l * (c = r = Math.max(o, Math.min(a, r)))) * p) && u <= s && 0 <= h * u + l * c && (!d || v(d.x, d.y, e).width > v(u, c, e).width) && (d = egret.Point.create(u, c)), n <= (u = (-t - l * c) * p) && u <= s && h * u + l * c < 0 && (!d || v(d.x, d.y, e).width > v(u, c, e).width) && (egret.Point.release(d), d = egret.Point.create(u, c))), d) return d;
            var d = e.a,
                e = e.c;
            return y(h, l, t, n, o, s, a, d, 0 <= d * e ? e : -e)
        }

        function p(t, e, i, r, n, o, s, a) {
            var h = e.a,
                l = e.c;
            if (-1e-9 < l && l < 1e-9 && (l = 0), 0 == (h = -1e-9 < h && h < 1e-9 ? 0 : h) && 0 == l) return null;
            if (0 == h) return egret.Point.create(i, t / Math.abs(l));
            if (0 == l) return egret.Point.create(t / Math.abs(h), r);
            var u, c, p, l = 0 <= h * l ? l : -l;
            if (0 != l && 0 < i && (p = 1 / l, o <= (c = (t - h * (u = i = Math.max(n, Math.min(s, i)))) * p) && c <= a && 0 <= h * u + l * c && (d = egret.Point.create(u, c)), o <= (c = (-t - h * u) * p) && c <= a && h * u + l * c < 0 && (!d || v(d.x, d.y, e).height > v(u, c, e).height) && (egret.Point.release(d), d = egret.Point.create(u, c))), 0 != h && 0 < r && (p = 1 / h, n <= (u = (t - l * (c = r = Math.max(o, Math.min(a, r)))) * p) && u <= s && 0 <= h * u + l * c && (!d || v(d.x, d.y, e).height > v(u, c, e).height) && (egret.Point.release(d), d = egret.Point.create(u, c)), n <= (u = (-t - l * c) * p) && u <= s && h * u + l * c < 0 && (!d || v(d.x, d.y, e).height > v(u, c, e).height) && (egret.Point.release(d), d = egret.Point.create(u, c))), d) return d;
            var d = e.b,
                e = e.d;
            return y(h, l, t, n, o, s, a, d, 0 <= d * e ? e : -e)
        }

        function y(t, e, i, r, n, o, s, a, h) {
            if (0 == t || 0 == e) return null;
            var l, u = (i - r * t) / e,
                c = (i - o * t) / e,
                p = Math.max(n, Math.min(u, c)),
                d = Math.min(s, Math.max(u, c)),
                h = a * e - t * h;
            return p <= d ? (l = Math.abs(h) < 1e-9 ? i / (t + e) : a * i / h, l = Math.max(p, Math.min(l, d)), egret.Point.create((i - e * l) / t, l)) : (u = -(r * t + i) / e, c = -(o * t + i) / e, (p = Math.max(n, Math.min(u, c))) <= (d = Math.min(s, Math.max(u, c))) ? (l = Math.abs(h) < 1e-9 ? -i / (t + e) : -a * i / h, l = Math.max(p, Math.min(l, d)), egret.Point.create((-i - e * l) / t, l)) : null)
        }

        function v(t, e, i) {
            e = egret.$TempRectangle.setTo(0, 0, t, e);
            return i.$transformBounds(e), e
        }

        function m(t, e, i, r, n, o) {
            return egret.Point.create(r * n - e * o, t * o - i * n)
        }
        e = t.sys || (t.sys = {}), i.fitBounds = function (t, e, i, r, n, o, s, a, h, l, u) {
            if (isNaN(t) && isNaN(e)) return egret.Point.create(o, s);
            var c = a < .1 ? 0 : a - .1,
                p = h < .1 ? 0 : h - .1,
                d = l + .1,
                a = u + .1;
            return isNaN(t) || isNaN(e) ? isNaN(t) ? g(e, i, r, n, o, s, c, p, d, a) : f(t, i, r, n, o, s, c, p, d, a) : ((h = function (t, e, i, r, n, o, s) {
                var a = i.a,
                    h = i.b,
                    l = i.c,
                    u = i.d; - 1e-9 < a && a < 1e-9 && (a = 0); - 1e-9 < h && h < 1e-9 && (h = 0); - 1e-9 < l && l < 1e-9 && (l = 0); - 1e-9 < u && u < 1e-9 && (u = 0);
                if (0 == h && 0 == l) return 0 == a || 0 == u ? null : egret.Point.create(t / Math.abs(a), e / Math.abs(u));
                if (0 == a && 0 == u) return 0 == h || 0 == l ? null : egret.Point.create(e / Math.abs(h), t / Math.abs(l));
                i = 0 <= a * l ? l : -l, l = 0 <= h * u ? u : -u, u = a * l - h * i;
                if (Math.abs(u) < 1e-9) return 0 == i || 0 == a || a == -i || 1e-9 < Math.abs(a * e - h * t) ? null : y(a, i, t, r, r, o, s, h, l);
                u = 1 / u;
                return (u = m(a, i, h, l, t *= u, e *= u)) && r <= u.x && u.x <= o && n <= u.y && u.y <= s && 0 <= a * u.x + i * u.x && 0 <= h * u.x + l * u.y || (u = m(a, i, h, l, t, -e)) && r <= u.x && u.x <= o && n <= u.y && u.y <= s && 0 <= a * u.x + i * u.x && h * u.x + l * u.y < 0 || (u = m(a, i, h, l, -t, e)) && r <= u.x && u.x <= o && n <= u.y && u.y <= s && a * u.x + i * u.x < 0 && 0 <= h * u.x + l * u.y || (u = m(a, i, h, l, -t, -e)) && r <= u.x && u.x <= o && n <= u.y && u.y <= s && a * u.x + i * u.x < 0 && h * u.x + l * u.y < 0 ? u : (egret.Point.release(u), null)
            }(t, e, i, c, p, d, a)) || (l = void 0, (l = f(t, i, r, n, o, s, c, p, d, a)) && e < v(l.x, l.y, i).height - .1 && (egret.Point.release(l), l = null), u = void 0, (u = g(e, i, r, n, o, s, c, p, d, a)) && t < v(u.x, u.y, i).width - .1 && (egret.Point.release(u), u = null), h = l && u ? l.x * l.y > u.x * u.y ? l : u : l || u, egret.Point.release(l), egret.Point.release(u)), h)
        }, t = i, e.MatrixUtil = t, __reflect(t.prototype, "eui.sys.MatrixUtil")
    }(eui = eui || {});
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret, egret;
! function (t) {
    var e = (i.BINARY = "binary", i.TEXT = "text", i.VARIABLES = "variables", i.TEXTURE = "texture", i.SOUND = "sound", i);

    function i() {}
    t.URLLoaderDataFormat = e, __reflect(e.prototype, "egret.URLLoaderDataFormat")
}(egret = egret || {}),
function (t) {
    var n, e = (n = t.EventDispatcher, __extends(i, n), Object.defineProperty(i.prototype, "name", {
        get: function () {
            return this._name
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "frame", {
        get: function () {
            return this._frame
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(i.prototype, "end", {
        get: function () {
            return this._end
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.clone = function () {
        return new i(this._name, this._frame, this._end)
    }, i);

    function i(t, e, i) {
        var r = n.call(this) || this;
        return r._name = t, r._frame = 0 | e, i && (r._end = 0 | i), r
    }
    t.FrameLabel = e, __reflect(e.prototype, "egret.FrameLabel")
}(egret = egret || {}),
function (n) {
    var e, t = (e = n.HashObject, __extends(i, e), i.prototype.$init = function (t, e, i) {
        this.textureData = e, this.spriteSheet = i, this.setMCData(t)
    }, i.prototype.getKeyFrameData = function (t) {
        t = this.frames[t - 1];
        return t = t.frame ? this.frames[t.frame - 1] : t
    }, i.prototype.getTextureByFrame = function (t) {
        t = this.getKeyFrameData(t);
        return t.res ? this.getTextureByResName(t.res) : null
    }, i.prototype.$getOffsetByFrame = function (t, e) {
        t = this.getKeyFrameData(t);
        t.res && e.setTo(0 | t.x, 0 | t.y)
    }, i.prototype.getTextureByResName = function (t) {
        if (null == this.spriteSheet) return null;
        var e, i = this.spriteSheet.getTexture(t);
        return i || (e = this.textureData[t], i = this.spriteSheet.createTexture(t, e.x, e.y, e.w, e.h)), i
    }, i.prototype.$isDataValid = function () {
        return 0 < this.frames.length
    }, i.prototype.$isTextureValid = function () {
        return null != this.textureData && null != this.spriteSheet
    }, i.prototype.$fillMCData = function (t) {
        this.frameRate = t.frameRate || 24, this.fillFramesData(t.frames), this.fillFrameLabelsData(t.labels), this.fillFrameEventsData(t.events)
    }, i.prototype.fillFramesData = function (t) {
        for (var e = this.frames, i = t ? t.length : 0, r = 0; r < i; r++) {
            var n = t[r];
            if (e.push(n), n.duration) {
                var o = parseInt(n.duration);
                if (1 < o)
                    for (var s = e.length, a = 1; a < o; a++) e.push({
                        frame: s
                    })
            }
        }
        this.numFrames = e.length
    }, i.prototype.fillFrameLabelsData = function (t) {
        if (t) {
            var e = t.length;
            if (0 < e) {
                this.labels = [];
                for (var i = 0; i < e; i++) {
                    var r = t[i];
                    this.labels.push(new n.FrameLabel(r.name, r.frame, r.end))
                }
            }
        }
    }, i.prototype.fillFrameEventsData = function (t) {
        if (t) {
            var e = t.length;
            if (0 < e) {
                this.events = [];
                for (var i = 0; i < e; i++) {
                    var r = t[i];
                    this.events[r.frame] = r.name
                }
            }
        }
    }, Object.defineProperty(i.prototype, "mcData", {
        get: function () {
            return this.$mcData
        },
        set: function (t) {
            this.setMCData(t)
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.setMCData = function (t) {
        this.$mcData != t && (this.$mcData = t) && this.$fillMCData(t)
    }, i);

    function i() {
        var t = e.call(this) || this;
        return t.$mcData = null, t.numFrames = 1, t.frames = [], t.labels = null, t.events = [], t.frameRate = 0, t.textureData = null, t.spriteSheet = null, t
    }
    n.MovieClipData = t, __reflect(t.prototype, "egret.MovieClipData")
}(egret = egret || {}),
function (i) {
    var r, t = (r = i.EventDispatcher, __extends(e, r), e.prototype.clearCache = function () {
        this.$mcDataCache = {}
    }, e.prototype.generateMovieClipData = function (t) {
        if ("" == (t = void 0 === t ? "" : t) && this.$mcDataSet)
            for (t in this.$mcDataSet.mc) break;
        if ("" == t) return null;
        var e = this.findFromCache(t, this.$mcDataCache);
        return e || (e = new i.MovieClipData, this.fillData(t, e, this.$mcDataCache)), e
    }, e.prototype.findFromCache = function (t, e) {
        return this.enableCache && e[t] ? e[t] : null
    }, e.prototype.fillData = function (t, e, i) {
        var r;
        !this.$mcDataSet || (r = this.$mcDataSet.mc[t]) && (e.$init(r, this.$mcDataSet.res, this.$spriteSheet), this.enableCache && (i[t] = e))
    }, Object.defineProperty(e.prototype, "mcDataSet", {
        get: function () {
            return this.$mcDataSet
        },
        set: function (t) {
            this.$mcDataSet = t
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "texture", {
        set: function (t) {
            this.setTexture(t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "spriteSheet", {
        get: function () {
            return this.$spriteSheet
        },
        enumerable: !0,
        configurable: !0
    }), e.prototype.setTexture = function (t) {
        this.$spriteSheet = t ? new i.SpriteSheet(t) : null
    }, e);

    function e(t, e) {
        var i = r.call(this) || this;
        return i.enableCache = !0, i.$mcDataCache = {}, i.$mcDataSet = t, i.setTexture(e), i
    }
    i.MovieClipDataFactory = t, __reflect(t.prototype, "egret.MovieClipDataFactory")
}(egret = egret || {}),
function (r) {
    var n, t = (n = r.Event, __extends(o, n), o.dispatchMovieClipEvent = function (t, e, i) {
        void 0 === i && (i = null);
        e = r.Event.create(o, e);
        e.frameLabel = i;
        t = t.dispatchEvent(e);
        return r.Event.release(e), t
    }, o.FRAME_LABEL = "frame_label", o);

    function o(t, e, i, r) {
        void 0 === r && (r = null);
        i = n.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this;
        return i.frameLabel = null, i.frameLabel = r, i
    }
    r.MovieClipEvent = t, __reflect(t.prototype, "egret.MovieClipEvent")
}(egret = egret || {}),
function (o) {
    var t = (e.get = function (e) {
        return 1 < (e = e < -1 ? -1 : e) && (e = 1),
            function (t) {
                return 0 == e ? t : e < 0 ? t * (t * -e + 1 + e) : t * ((2 - t) * e + (1 - e))
            }
    }, e.quintOut = (e.getPowOut = function (e) {
        return function (t) {
            return 1 - Math.pow(1 - t, e)
        }
    })(5), e.quartOut = e.getPowOut(4), e);

    function e() {
        o.$error(1014)
    }
    o.ScrollEase = t, __reflect(t.prototype, "egret.ScrollEase");
    var n, t = (n = o.EventDispatcher, __extends(d, n), d.get = function (t, e, i, r) {
        return void 0 === e && (e = null), void 0 === i && (i = null), (r = void 0 === r ? !1 : r) && d.removeTweens(t), new d(t, e, i)
    }, d.removeTweens = function (t) {
        if (t.tween_count) {
            for (var e = d._tweens, i = e.length - 1; 0 <= i; i--) e[i]._target == t && (e[i].paused = !0, e.splice(i, 1));
            t.tween_count = 0
        }
    }, d.tick = function (t, e) {
        void 0 === e && (e = !1);
        var i = t - d._lastTime;
        d._lastTime = t;
        for (var r = d._tweens.concat(), n = r.length - 1; 0 <= n; n--) {
            var o = r[n];
            e && !o.ignoreGlobalPause || o.paused || o.tick(o._useTicks ? 1 : i)
        }
        return !1
    }, d._register = function (t, e) {
        var i = t._target,
            r = d._tweens;
        if (e) i && (i.tween_count = 0 < i.tween_count ? i.tween_count + 1 : 1), r.push(t), d._inited || (d._lastTime = o.getTimer(), o.ticker.$startTick(d.tick, null), d._inited = !0);
        else {
            i && i.tween_count--;
            for (var n = r.length; n--;)
                if (r[n] == t) return void r.splice(n, 1)
        }
    }, d.prototype.initialize = function (t, e, i) {
        this._target = t, e && (this._useTicks = e.useTicks, this.ignoreGlobalPause = e.ignoreGlobalPause, this.loop = e.loop, e.onChange && this.addEventListener("change", e.onChange, e.onChangeObj), e.override && d.removeTweens(t)), this.pluginData = i || {}, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], this._actions = [], e && e.paused ? this.paused = !0 : d._register(this, !0), e && null != e.position && this.setPosition(e.position)
    }, d.prototype.setPosition = function (t, e) {
        void 0 === e && (e = 1);
        var i = t = t < 0 ? 0 : t,
            r = !1;
        if (i >= this.duration && (this.loop ? i %= this.duration : (i = this.duration, r = !0)), i == this._prevPos) return r;
        var n = this._prevPos;
        if (this.position = this._prevPos = i, this._prevPosition = t, this._target)
            if (r) this._updateTargetProps(null, 1);
            else if (0 < this._steps.length) {
            for (var o = void 0, s = this._steps.length, o = 0; o < s && !(this._steps[o].t > i); o++);
            t = this._steps[o - 1];
            this._updateTargetProps(t, (this._stepPosition = i - t.t) / t.d)
        }
        return r && this.setPaused(!0), 0 != e && 0 < this._actions.length && (this._useTicks ? this._runActions(i, i) : 1 == e && i < n ? (n != this.duration && this._runActions(n, this.duration), this._runActions(0, i, !0)) : this._runActions(n, i)), this.dispatchEventWith("change"), r
    }, d.prototype._runActions = function (t, e, i) {
        void 0 === i && (i = !1);
        var r = t,
            n = e,
            o = -1,
            s = this._actions.length,
            a = 1;
        for (e < t && (r = e, n = t, o = s, s = a = -1);
            (o += a) != s;) {
            var h = this._actions[o],
                l = h.t;
            (l == n || r < l && l < n || i && l == t) && h.f.apply(h.o, h.p)
        }
    }, d.prototype._updateTargetProps = function (t, e) {
        var i, r, n, o, s, a;
        if (t || 1 != e) {
            if (this.passive = !!t.v, this.passive) return;
            t.e && (e = t.e(e, 0, 1, 1)), i = t.p0, r = t.p1
        } else this.passive = !1, i = r = this._curQueueProps;
        for (a in this._initQueueProps) {
            null == (n = i[a]) && (i[a] = n = this._initQueueProps[a]), null == (o = r[a]) && (r[a] = o = n);
            var h = n == o || 0 == e || 1 == e || "number" != typeof n ? 1 == e ? o : n : n + (o - n) * e,
                l = !1;
            if (s = d._plugins[a])
                for (var u = 0, c = s.length; u < c; u++) {
                    var p = s[u].tween(this, a, h, i, r, e, !!t && i == r, !t);
                    p == d.IGNORE ? l = !0 : h = p
                }
            l || (this._target[a] = h)
        }
    }, d.prototype.setPaused = function (t) {
        return this.paused = t, d._register(this, !t), this
    }, d.prototype._cloneProps = function (t) {
        var e, i = {};
        for (e in t) i[e] = t[e];
        return i
    }, d.prototype._addStep = function (t) {
        return 0 < t.d && (this._steps.push(t), t.t = this.duration, this.duration += t.d), this
    }, d.prototype._appendQueueProps = function (t) {
        var e, i, r, n, o, s;
        for (s in t)
            if (void 0 === this._initQueueProps[s]) {
                if (i = this._target[s], e = d._plugins[s])
                    for (r = 0, n = e.length; r < n; r++) i = e[r].init(this, s, i);
                this._initQueueProps[s] = this._curQueueProps[s] = void 0 === i ? null : i
            } else i = this._curQueueProps[s];
        for (s in t) {
            if (i = this._curQueueProps[s], e = d._plugins[s])
                for (o = o || {}, r = 0, n = e.length; r < n; r++) e[r].step && e[r].step(this, s, i, t[s], o);
            this._curQueueProps[s] = t[s]
        }
        return o && this._appendQueueProps(o), this._curQueueProps
    }, d.prototype._addAction = function (t) {
        return t.t = this.duration, this._actions.push(t), this
    }, d.prototype.to = function (t, e, i) {
        return void 0 === i && (i = void 0), (isNaN(e) || e < 0) && (e = 0), this._addStep({
            d: e || 0,
            p0: this._cloneProps(this._curQueueProps),
            e: i,
            p1: this._cloneProps(this._appendQueueProps(t))
        })
    }, d.prototype.call = function (t, e, i) {
        return this._addAction({
            f: t,
            p: (i = void 0 === i ? void 0 : i) || [],
            o: (e = void 0 === e ? void 0 : e) || this._target
        })
    }, d.prototype.tick = function (t) {
        this.paused || this.setPosition(this._prevPosition + t)
    }, d._tweens = [], d.IGNORE = {}, d._plugins = {}, d._inited = !1, d._lastTime = 0, d);

    function d(t, e, i) {
        var r = n.call(this) || this;
        return r._target = null, r._useTicks = !1, r.ignoreGlobalPause = !1, r.loop = !1, r.pluginData = null, r._steps = null, r._actions = null, r.paused = !1, r.duration = 0, r._prevPos = -1, r.position = null, r._prevPosition = 0, r._stepPosition = 0, r.passive = !1, r.initialize(t, e, i), r
    }
    o.ScrollTween = t, __reflect(t.prototype, "egret.ScrollTween")
}(egret = egret || {}),
function (s) {
    var i, t = (i = s.DisplayObjectContainer, __extends(c, i), Object.defineProperty(c.prototype, "bounces", {
        get: function () {
            return this._ScrV_Props_._bounces
        },
        set: function (t) {
            this._ScrV_Props_._bounces = !!t
        },
        enumerable: !0,
        configurable: !0
    }), c.prototype.setContent = function (t) {
        this._content !== t && (this.removeContent(), t && (this._content = t, i.prototype.addChild.call(this, t), this._addEvents()))
    }, c.prototype.removeContent = function () {
        this._content && (this._removeEvents(), i.prototype.removeChildAt.call(this, 0)), this._content = null
    }, Object.defineProperty(c.prototype, "verticalScrollPolicy", {
        get: function () {
            return this._ScrV_Props_._verticalScrollPolicy
        },
        set: function (t) {
            t != this._ScrV_Props_._verticalScrollPolicy && (this._ScrV_Props_._verticalScrollPolicy = t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(c.prototype, "horizontalScrollPolicy", {
        get: function () {
            return this._ScrV_Props_._horizontalScrollPolicy
        },
        set: function (t) {
            t != this._ScrV_Props_._horizontalScrollPolicy && (this._ScrV_Props_._horizontalScrollPolicy = t)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(c.prototype, "scrollLeft", {
        get: function () {
            return this._ScrV_Props_._scrollLeft
        },
        set: function (t) {
            t != this._ScrV_Props_._scrollLeft && (this._ScrV_Props_._scrollLeft = t, this._validatePosition(!1, !0), this._updateContentPosition())
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(c.prototype, "scrollTop", {
        get: function () {
            return this._ScrV_Props_._scrollTop
        },
        set: function (t) {
            t != this._ScrV_Props_._scrollTop && (this._ScrV_Props_._scrollTop = t, this._validatePosition(!0, !1), this._updateContentPosition())
        },
        enumerable: !0,
        configurable: !0
    }), c.prototype.setScrollPosition = function (t, e, i) {
        var r, n, o;
        (i = void 0 === i ? !1 : i) && 0 == t && 0 == e || !i && this._ScrV_Props_._scrollTop == t && this._ScrV_Props_._scrollLeft == e || (n = this._ScrV_Props_._scrollTop, o = this._ScrV_Props_._scrollLeft, i ? (r = this.getMaxScrollLeft(), i = this.getMaxScrollTop(), (n <= 0 || i <= n) && (t /= 2), (o <= 0 || r <= o) && (e /= 2), n = n + t, o = o + e, this._ScrV_Props_._bounces || ((n <= 0 || i <= n) && (n = Math.max(0, Math.min(n, i))), (o <= 0 || r <= o) && (o = Math.max(0, Math.min(o, r)))), this._ScrV_Props_._scrollTop = n, this._ScrV_Props_._scrollLeft = o) : (this._ScrV_Props_._scrollTop = t, this._ScrV_Props_._scrollLeft = e), this._validatePosition(!0, !0), this._updateContentPosition())
    }, c.prototype._validatePosition = function (t, e) {
        var i;
        void 0 === e && (e = !1), (t = void 0 === t ? !1 : t) && (i = this.height, t = this._getContentHeight(), this._ScrV_Props_._scrollTop = Math.max(this._ScrV_Props_._scrollTop, (0 - i) / 2), this._ScrV_Props_._scrollTop = Math.min(this._ScrV_Props_._scrollTop, i < t ? t - i / 2 : i / 2)), e && (i = this.width, e = this._getContentWidth(), this._ScrV_Props_._scrollLeft = Math.max(this._ScrV_Props_._scrollLeft, (0 - i) / 2), this._ScrV_Props_._scrollLeft = Math.min(this._ScrV_Props_._scrollLeft, i < e ? e - i / 2 : i / 2))
    }, c.prototype.$setWidth = function (t) {
        if (this.$getExplicitWidth() == t) return !1;
        t = i.prototype.$setWidth.call(this, t);
        return this._updateContentPosition(), t
    }, c.prototype.$setHeight = function (t) {
        if (this.$getExplicitHeight() == t) return !1;
        i.prototype.$setHeight.call(this, t);
        return this._updateContentPosition(), !0
    }, c.prototype._updateContentPosition = function () {
        var t = this.height,
            e = this.width;
        this.scrollRect = new s.Rectangle(Math.round(this._ScrV_Props_._scrollLeft), Math.round(this._ScrV_Props_._scrollTop), e, t), this.dispatchEvent(new s.Event(s.Event.CHANGE))
    }, c.prototype._checkScrollPolicy = function () {
        var t = this._ScrV_Props_._horizontalScrollPolicy,
            e = this.__checkScrollPolicy(t, this._getContentWidth(), this.width);
        this._ScrV_Props_._hCanScroll = e;
        t = this._ScrV_Props_._verticalScrollPolicy, t = this.__checkScrollPolicy(t, this._getContentHeight(), this.height);
        return this._ScrV_Props_._vCanScroll = t, e || t
    }, c.prototype.__checkScrollPolicy = function (t, e, i) {
        return "on" == t || "off" != t && i < e
    }, c.prototype._addEvents = function () {
        this.addEventListener(s.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this), this.addEventListener(s.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0), this.addEventListener(s.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
    }, c.prototype._removeEvents = function () {
        this.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this._onTouchBegin, this), this.removeEventListener(s.TouchEvent.TOUCH_BEGIN, this._onTouchBeginCapture, this, !0), this.removeEventListener(s.TouchEvent.TOUCH_END, this._onTouchEndCapture, this, !0)
    }, c.prototype._onTouchBegin = function (t) {
        t.$isDefaultPrevented || this._checkScrollPolicy() && (this._ScrV_Props_._touchStartPosition.x = t.stageX, this._ScrV_Props_._touchStartPosition.y = t.stageY, (this._ScrV_Props_._isHTweenPlaying || this._ScrV_Props_._isVTweenPlaying) && this._onScrollFinished(), this._tempStage = this.stage, this._tempStage.addEventListener(s.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this._tempStage.addEventListener(s.TouchEvent.TOUCH_END, this._onTouchEnd, this), this._tempStage.addEventListener(s.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this), this.addEventListener(s.Event.ENTER_FRAME, this._onEnterFrame, this), this._logTouchEvent(t), t.preventDefault())
    }, c.prototype._onTouchBeginCapture = function (t) {
        if (this._checkScrollPolicy()) {
            for (var e = t.target; e != this;) {
                if ("_checkScrollPolicy" in e && e._checkScrollPolicy()) return;
                e = e.parent
            }
            t.stopPropagation();
            var i = this.cloneTouchEvent(t);
            this.delayTouchBeginEvent = i, this.touchBeginTimer || (this.touchBeginTimer = new s.Timer(100, 1), this.touchBeginTimer.addEventListener(s.TimerEvent.TIMER_COMPLETE, this._onTouchBeginTimer, this)), this.touchBeginTimer.start(), this._onTouchBegin(t)
        }
    }, c.prototype._onTouchEndCapture = function (t) {
        var e, i = this;
        this.delayTouchBeginEvent && (this._onTouchBeginTimer(), t.stopPropagation(), e = this.cloneTouchEvent(t), s.callLater(function () {
            i.stage && i.dispatchPropagationEvent(e)
        }, this))
    }, c.prototype._onTouchBeginTimer = function () {
        this.touchBeginTimer.stop();
        var t = this.delayTouchBeginEvent;
        this.delayTouchBeginEvent = null, this.stage && this.dispatchPropagationEvent(t)
    }, c.prototype.dispatchPropagationEvent = function (t) {
        for (var e = t.$target, i = this.$getPropagationList(e), r = i.length, e = .5 * i.length, n = -1, o = 0; o < r; o++)
            if (i[o] === this._content) {
                n = o;
                break
            } i.splice(0, n + 1), this.$dispatchPropagationEvent(t, i, e -= n + 1), s.Event.release(t)
    }, c.prototype._onTouchMove = function (t) {
        if (this._ScrV_Props_._lastTouchPosition.x != t.stageX || this._ScrV_Props_._lastTouchPosition.y != t.stageY) {
            if (!this._ScrV_Props_._scrollStarted) {
                var e = t.stageX - this._ScrV_Props_._touchStartPosition.x,
                    i = t.stageY - this._ScrV_Props_._touchStartPosition.y;
                if (Math.sqrt(e * e + i * i) < this.scrollBeginThreshold) return void this._logTouchEvent(t)
            }
            this._ScrV_Props_._scrollStarted = !0, this.delayTouchBeginEvent && (this.delayTouchBeginEvent = null, this.touchBeginTimer.stop()), this.touchChildren = !1;
            i = this._getPointChange(t);
            this.setScrollPosition(i.y, i.x, !0), this._calcVelocitys(t), this._logTouchEvent(t)
        }
    }, c.prototype._onTouchEnd = function (t) {
        this.touchChildren = !0, this._ScrV_Props_._scrollStarted = !1, this._tempStage.removeEventListener(s.TouchEvent.TOUCH_MOVE, this._onTouchMove, this), this._tempStage.removeEventListener(s.TouchEvent.TOUCH_END, this._onTouchEnd, this), this._tempStage.removeEventListener(s.TouchEvent.LEAVE_STAGE, this._onTouchEnd, this), this.removeEventListener(s.Event.ENTER_FRAME, this._onEnterFrame, this), this._moveAfterTouchEnd()
    }, c.prototype._onEnterFrame = function (t) {
        var e = s.getTimer();
        100 < e - this._ScrV_Props_._lastTouchTime && e - this._ScrV_Props_._lastTouchTime < 300 && this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)
    }, c.prototype._logTouchEvent = function (t) {
        this._ScrV_Props_._lastTouchPosition.x = t.stageX, this._ScrV_Props_._lastTouchPosition.y = t.stageY, this._ScrV_Props_._lastTouchEvent = this.cloneTouchEvent(t), this._ScrV_Props_._lastTouchTime = s.getTimer()
    }, c.prototype._getPointChange = function (t) {
        return {
            x: !1 === this._ScrV_Props_._hCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.x - t.stageX,
            y: !1 === this._ScrV_Props_._vCanScroll ? 0 : this._ScrV_Props_._lastTouchPosition.y - t.stageY
        }
    }, c.prototype._calcVelocitys = function (t) {
        var e, i, r = s.getTimer();
        0 != this._ScrV_Props_._lastTouchTime ? (e = this._getPointChange(t), i = r - this._ScrV_Props_._lastTouchTime, e.x /= i, e.y /= i, this._ScrV_Props_._velocitys.push(e), 5 < this._ScrV_Props_._velocitys.length && this._ScrV_Props_._velocitys.shift(), this._ScrV_Props_._lastTouchPosition.x = t.stageX, this._ScrV_Props_._lastTouchPosition.y = t.stageY) : this._ScrV_Props_._lastTouchTime = r
    }, c.prototype._getContentWidth = function () {
        return this._content.$getExplicitWidth() || this._content.width
    }, c.prototype._getContentHeight = function () {
        return this._content.$getExplicitHeight() || this._content.height
    }, c.prototype.getMaxScrollLeft = function () {
        var t = this._getContentWidth() - this.width;
        return Math.max(0, t)
    }, c.prototype.getMaxScrollTop = function () {
        var t = this._getContentHeight() - this.height;
        return Math.max(0, t)
    }, c.prototype._moveAfterTouchEnd = function () {
        if (0 != this._ScrV_Props_._velocitys.length) {
            for (var t = {
                    x: 0,
                    y: 0
                }, e = 0, i = 0; i < this._ScrV_Props_._velocitys.length; i++) {
                var r = this._ScrV_Props_._velocitys[i],
                    n = c.weight[i];
                t.x += r.x * n, t.y += r.y * n, e += n
            }
            this._ScrV_Props_._velocitys.length = 0, this.scrollSpeed <= 0 && (this.scrollSpeed = 1);
            var o = t.x / e * this.scrollSpeed,
                s = t.y / e * this.scrollSpeed,
                a = Math.abs(o),
                h = Math.abs(s),
                l = this.getMaxScrollLeft(),
                u = this.getMaxScrollTop(),
                l = .02 < a ? this.getAnimationDatas(o, this._ScrV_Props_._scrollLeft, l) : {
                    position: this._ScrV_Props_._scrollLeft,
                    duration: 1
                },
                u = .02 < h ? this.getAnimationDatas(s, this._ScrV_Props_._scrollTop, u) : {
                    position: this._ScrV_Props_._scrollTop,
                    duration: 1
                };
            this.setScrollLeft(l.position, l.duration), this.setScrollTop(u.position, u.duration)
        }
    }, c.prototype.onTweenFinished = function (t) {
        t == this._ScrV_Props_._vScrollTween && (this._ScrV_Props_._isVTweenPlaying = !1), t == this._ScrV_Props_._hScrollTween && (this._ScrV_Props_._isHTweenPlaying = !1), 0 == this._ScrV_Props_._isHTweenPlaying && 0 == this._ScrV_Props_._isVTweenPlaying && this._onScrollFinished()
    }, c.prototype._onScrollStarted = function () {}, c.prototype._onScrollFinished = function () {
        s.ScrollTween.removeTweens(this), this._ScrV_Props_._hScrollTween = null, this._ScrV_Props_._vScrollTween = null, this._ScrV_Props_._isHTweenPlaying = !1, this._ScrV_Props_._isVTweenPlaying = !1, this.dispatchEvent(new s.Event(s.Event.COMPLETE))
    }, c.prototype.setScrollTop = function (t, e) {
        void 0 === e && (e = 0);
        var i = Math.min(this.getMaxScrollTop(), Math.max(t, 0));
        0 != e ? (0 == this._ScrV_Props_._bounces && (t = i), e = s.ScrollTween.get(this).to({
            scrollTop: t
        }, e, s.ScrollEase.quartOut), i != t && e.to({
            scrollTop: i
        }, 300, s.ScrollEase.quintOut), this._ScrV_Props_._isVTweenPlaying = !0, (this._ScrV_Props_._vScrollTween = e).call(this.onTweenFinished, this, [e]), this._ScrV_Props_._isHTweenPlaying || this._onScrollStarted()) : this.scrollTop = i
    }, c.prototype.setScrollLeft = function (t, e) {
        void 0 === e && (e = 0);
        var i = Math.min(this.getMaxScrollLeft(), Math.max(t, 0));
        0 != e ? (0 == this._ScrV_Props_._bounces && (t = i), e = s.ScrollTween.get(this).to({
            scrollLeft: t
        }, e, s.ScrollEase.quartOut), i != t && e.to({
            scrollLeft: i
        }, 300, s.ScrollEase.quintOut), this._ScrV_Props_._isHTweenPlaying = !0, (this._ScrV_Props_._hScrollTween = e).call(this.onTweenFinished, this, [e]), this._ScrV_Props_._isVTweenPlaying || this._onScrollStarted()) : this.scrollLeft = i
    }, c.prototype.getAnimationDatas = function (t, e, i) {
        var r = Math.abs(t),
            n = 0,
            o = e + 500 * t;
        if (o < 0 || i < o)
            for (o = e; Math.abs(t) != 1 / 0 && .02 < Math.abs(t);) t *= (o += t) < 0 || i < o ? .998 * .95 : .998, n++;
        else n = 500 * -Math.log(.02 / r);
        return {
            position: Math.min(i + 50, Math.max(o, -50)),
            duration: n
        }
    }, c.prototype.cloneTouchEvent = function (t) {
        var e = new s.TouchEvent(t.type, t.bubbles, t.cancelable);
        return e.touchPointID = t.touchPointID, e.$stageX = t.stageX, e.$stageY = t.stageY, e.touchDown = t.touchDown, e.$isDefaultPrevented = !1, e.$target = t.target, e
    }, c.prototype.throwNotSupportedError = function () {
        s.$error(1023)
    }, c.prototype.addChild = function (t) {
        return this.throwNotSupportedError(), null
    }, c.prototype.addChildAt = function (t, e) {
        return this.throwNotSupportedError(), null
    }, c.prototype.removeChild = function (t) {
        return this.throwNotSupportedError(), null
    }, c.prototype.removeChildAt = function (t) {
        return this.throwNotSupportedError(), null
    }, c.prototype.setChildIndex = function (t, e) {
        this.throwNotSupportedError()
    }, c.prototype.swapChildren = function (t, e) {
        this.throwNotSupportedError()
    }, c.prototype.swapChildrenAt = function (t, e) {
        this.throwNotSupportedError()
    }, c.weight = [1, 1.33, 1.66, 2, 2.33], c);

    function c(t) {
        void 0 === t && (t = null);
        var e = i.call(this) || this;
        return e.scrollBeginThreshold = 10, e.scrollSpeed = 1, e._content = null, e.delayTouchBeginEvent = null, e.touchBeginTimer = null, e.touchEnabled = !0, e._ScrV_Props_ = new s.ScrollViewProperties, t && e.setContent(t), e
    }
    s.ScrollView = t, __reflect(t.prototype, "egret.ScrollView")
}(egret = egret || {}),
function (t) {
    function e() {
        this._verticalScrollPolicy = "auto", this._horizontalScrollPolicy = "auto", this._scrollLeft = 0, this._scrollTop = 0, this._hCanScroll = !1, this._vCanScroll = !1, this._lastTouchPosition = new t.Point(0, 0), this._touchStartPosition = new t.Point(0, 0), this._scrollStarted = !1, this._lastTouchTime = 0, this._lastTouchEvent = null, this._velocitys = [], this._isHTweenPlaying = !1, this._isVTweenPlaying = !1, this._hScrollTween = null, this._vScrollTween = null, this._bounces = !0
    }
    t.ScrollViewProperties = e, __reflect(e.prototype, "egret.ScrollViewProperties")
}(egret = egret || {}),
function (l) {
    var i, t = (i = l.EventDispatcher, __extends(e, i), e.prototype.load = function (t) {
        this._request = t, this.data = null;
        var e = this;
        if (e.dataFormat != l.URLLoaderDataFormat.TEXTURE)
            if (e.dataFormat != l.URLLoaderDataFormat.SOUND) {
                var i, r, n, r = r = -1 == (r = (i = t).url).indexOf("?") && i.method == l.URLRequestMethod.GET && i.data && i.data instanceof l.URLVariables ? r + "?" + i.data.toString() : r,
                    o = new l.HttpRequest;
                o.open(r, t.method == l.URLRequestMethod.POST ? l.HttpMethod.POST : l.HttpMethod.GET), t.method != l.URLRequestMethod.GET && t.data && (n = t.data instanceof l.URLVariables ? (l.Capabilities.runtimeType == l.RuntimeType.WEB && o.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), t.data.toString()) : (l.Capabilities.runtimeType == l.RuntimeType.WEB && o.setRequestHeader("Content-Type", "multipart/form-data"), t.data));
                for (var s = t.requestHeaders.length, a = 0; a < s; a++) {
                    var h = t.requestHeaders[a];
                    o.setRequestHeader(h.name, h.value)
                }
                o.addEventListener(l.Event.COMPLETE, function () {
                    e.data = o.response, l.Event.dispatchEvent(e, l.Event.COMPLETE)
                }, this), o.addEventListener(l.IOErrorEvent.IO_ERROR, function () {
                    l.IOErrorEvent.dispatchIOErrorEvent(e)
                }, this), o.responseType = e.dataFormat == l.URLLoaderDataFormat.BINARY ? l.HttpResponseType.ARRAY_BUFFER : l.HttpResponseType.TEXT, o.send(n)
            } else this.loadSound(e);
        else this.loadTexture(e)
    }, e.prototype.getResponseType = function (t) {
        switch (t) {
            case l.URLLoaderDataFormat.TEXT:
            case l.URLLoaderDataFormat.VARIABLES:
                return l.URLLoaderDataFormat.TEXT;
            case l.URLLoaderDataFormat.BINARY:
                return "arraybuffer";
            default:
                return t
        }
    }, e.prototype.loadSound = function (e) {
        var t = this,
            i = e._request.url,
            r = new l.Sound;

        function n(t) {
            e.dispatchEvent(t)
        }

        function o(t) {
            a(), e.dispatchEvent(t)
        }

        function s(t) {
            a(), e.data = r, window.setTimeout(function () {
                e.dispatchEventWith(l.Event.COMPLETE)
            }, 0)
        }

        function a() {
            r.removeEventListener(l.Event.COMPLETE, s, t), r.removeEventListener(l.IOErrorEvent.IO_ERROR, o, t), r.removeEventListener(l.ProgressEvent.PROGRESS, n, t)
        }
        r.addEventListener(l.Event.COMPLETE, s, t), r.addEventListener(l.IOErrorEvent.IO_ERROR, o, t), r.addEventListener(l.ProgressEvent.PROGRESS, n, t), r.load(i)
    }, e.prototype.loadTexture = function (r) {
        var n = this,
            o = r._request.url,
            s = new l.ImageLoader;

        function t(t) {
            r.dispatchEvent(t)
        }

        function e(t) {
            a(), r.dispatchEvent(t)
        }

        function i(t) {
            a();
            var e = s.data;
            l.Capabilities.runtimeType == l.RuntimeType.WEB && e.source.setAttribute("bitmapSrc", o);
            var i = new l.Texture;
            i._setBitmapData(e), r.data = i, window.setTimeout(function () {
                r.dispatchEventWith(l.Event.COMPLETE)
            }, n)
        }

        function a() {
            s.removeEventListener(l.Event.COMPLETE, i, n), s.removeEventListener(l.IOErrorEvent.IO_ERROR, e, n), s.removeEventListener(l.ProgressEvent.PROGRESS, t, n)
        }
        s.addEventListener(l.Event.COMPLETE, i, n), s.addEventListener(l.IOErrorEvent.IO_ERROR, e, n), s.addEventListener(l.ProgressEvent.PROGRESS, t, n), s.load(o)
    }, e.prototype.__recycle = function () {
        this._request = null, this.data = null
    }, e);

    function e(t) {
        void 0 === t && (t = null);
        var e = i.call(this) || this;
        return e.dataFormat = l.URLLoaderDataFormat.TEXT, e.data = null, e._request = null, e._status = -1, t && e.load(t), e
    }
    l.URLLoader = t, __reflect(t.prototype, "egret.URLLoader")
}(egret = egret || {}),
function (c) {
    var i, t = (i = c.DisplayObject, __extends(e, i), Object.defineProperty(e.prototype, "smoothing", {
        get: function () {
            return this.$smoothing
        },
        set: function (t) {
            (t = !!t) != this.$smoothing && (this.$smoothing = t, this.$invalidate())
        },
        enumerable: !0,
        configurable: !0
    }), e.prototype.$init = function () {
        this.$reset();
        var t = this.$movieClipData;
        t && t.$isDataValid() && (this.frames = t.frames, this.$totalFrames = t.numFrames, this.frameLabels = t.labels, this.frameEvents = t.events, this.$frameRate = t.frameRate, this.frameIntervalTime = 1e3 / this.$frameRate, this._initFrame())
    }, e.prototype.$reset = function () {
        this.frames = null, this.playTimes = 0, this.$isPlaying = !1, this.setIsStopped(!0), this.$currentFrameNum = 0, this.$nextFrameNum = 1, this.displayedKeyFrameNum = 0, this.passedTime = 0, this.$eventPool = []
    }, e.prototype._initFrame = function () {
        this.$movieClipData.$isTextureValid() && (this.advanceFrame(), this.constructFrame())
    }, e.prototype.$render = function () {
        var t, e, i, r, n, o, s, a, h, l, u = this.$bitmapData;
        u && (t = Math.round(this.offsetPoint.x), e = Math.round(this.offsetPoint.y), i = u._bitmapWidth, r = u._bitmapHeight, n = u.$getTextureWidth(), o = u.$getTextureHeight(), s = Math.round(u.$getScaleBitmapWidth()), a = Math.round(u.$getScaleBitmapHeight()), h = u._sourceWidth, l = u._sourceHeight, c.sys.BitmapNode.$updateTextureData(this.$renderNode, u._bitmapData, u._bitmapX, u._bitmapY, i, r, t, e, n, o, s, a, h, l, null, c.BitmapFillMode.SCALE, this.$smoothing))
    }, e.prototype.$measureContentBounds = function (t) {
        var e, i, r, n = this.$bitmapData;
        n ? (e = this.offsetPoint.x, i = this.offsetPoint.y, r = n.$getTextureWidth(), n = n.$getTextureHeight(), t.setTo(e, i, r, n)) : t.setEmpty()
    }, e.prototype.$onAddToStage = function (t, e) {
        i.prototype.$onAddToStage.call(this, t, e), this.$isPlaying && 1 < this.$totalFrames && this.setIsStopped(!1)
    }, e.prototype.$onRemoveFromStage = function () {
        i.prototype.$onRemoveFromStage.call(this), this.setIsStopped(!0)
    }, e.prototype.getFrameLabelByName = function (t, e) {
        (e = void 0 === e ? !1 : e) && (t = t.toLowerCase());
        var i = this.frameLabels;
        if (i)
            for (var r = null, n = 0; n < i.length; n++)
                if (r = i[n], e ? r.name.toLowerCase() == t : r.name == t) return r;
        return null
    }, e.prototype.getFrameStartEnd = function (t) {
        var e = this.frameLabels;
        if (e)
            for (var i, r = 0; r < e.length; r++)
                if (t == (i = e[r]).name) {
                    this.$frameLabelStart = i.frame, this.$frameLabelEnd = i.end;
                    break
                }
    }, e.prototype.getFrameLabelByFrame = function (t) {
        var e = this.frameLabels;
        if (e)
            for (var i, r = 0; r < e.length; r++)
                if ((i = e[r]).frame == t) return i;
        return null
    }, e.prototype.getFrameLabelForFrame = function (t) {
        var e, i = null,
            r = this.frameLabels;
        if (r)
            for (var n = 0; n < r.length; n++) {
                if ((e = r[n]).frame > t) return i;
                i = e
            }
        return i
    }, e.prototype.play = function (t) {
        void 0 === t && (t = 0), this.$isPlaying = !0, this.setPlayTimes(t), 1 < this.$totalFrames && this.$stage && this.setIsStopped(!1)
    }, e.prototype.stop = function () {
        this.$isPlaying = !1, this.setIsStopped(!0)
    }, e.prototype.prevFrame = function () {
        this.gotoAndStop(this.$currentFrameNum - 1)
    }, e.prototype.nextFrame = function () {
        this.gotoAndStop(this.$currentFrameNum + 1)
    }, e.prototype.gotoAndPlay = function (t, e) {
        void 0 === e && (e = 0), (0 == arguments.length || 2 < arguments.length) && c.$error(1022, "MovieClip.gotoAndPlay()"), "string" == typeof t ? this.getFrameStartEnd(t) : (this.$frameLabelStart = 0, this.$frameLabelEnd = 0), this.play(e), this.gotoFrame(t)
    }, e.prototype.gotoAndStop = function (t) {
        1 != arguments.length && c.$error(1022, "MovieClip.gotoAndStop()"), this.stop(), this.gotoFrame(t)
    }, e.prototype.gotoFrame = function (t) {
        var e;
        "string" == typeof t ? e = this.getFrameLabelByName(t).frame : (e = parseInt(t + "", 10)) != t && c.$error(1022, "Frame Label Not Found"), e < 1 ? e = 1 : e > this.$totalFrames && (e = this.$totalFrames), e != this.$nextFrameNum && (this.$nextFrameNum = e, this.advanceFrame(), this.constructFrame(), this.handlePendingEvent())
    }, e.prototype.advanceTime = function (t) {
        var e = this,
            i = t - e.lastTime;
        e.lastTime = t;
        t = e.frameIntervalTime, i = e.passedTime + i;
        e.passedTime = i % t;
        var r = i / t;
        if (r < 1) return !1;
        for (; 1 <= r;) {
            if (r--, e.$nextFrameNum++, e.$nextFrameNum > e.$totalFrames || 0 < e.$frameLabelStart && e.$nextFrameNum > e.$frameLabelEnd)
                if (-1 == e.playTimes) e.$eventPool.push(c.Event.LOOP_COMPLETE), e.$nextFrameNum = 1;
                else {
                    if (e.playTimes--, !(0 < e.playTimes)) {
                        e.$nextFrameNum = e.$totalFrames, e.$eventPool.push(c.Event.COMPLETE), e.stop();
                        break
                    }
                    e.$eventPool.push(c.Event.LOOP_COMPLETE), e.$nextFrameNum = 1
                } e.$currentFrameNum == e.$frameLabelEnd && (e.$nextFrameNum = e.$frameLabelStart), e.advanceFrame()
        }
        return e.constructFrame(), e.handlePendingEvent(), !1
    }, e.prototype.advanceFrame = function () {
        this.$currentFrameNum = this.$nextFrameNum;
        var t = this.frameEvents[this.$nextFrameNum];
        t && "" != t && c.MovieClipEvent.dispatchMovieClipEvent(this, c.MovieClipEvent.FRAME_LABEL, t)
    }, e.prototype.constructFrame = function () {
        var t = this.$currentFrameNum;
        this.displayedKeyFrameNum != t && (this.$bitmapData = this.$movieClipData.getTextureByFrame(t), this.$movieClipData.$getOffsetByFrame(t, this.offsetPoint), this.$invalidateContentBounds(), this.displayedKeyFrameNum = t)
    }, e.prototype.$renderFrame = function () {
        this.$bitmapData = this.$movieClipData.getTextureByFrame(this.$currentFrameNum), this.$invalidateContentBounds()
    }, e.prototype.handlePendingEvent = function () {
        if (0 != this.$eventPool.length) {
            this.$eventPool.reverse();
            for (var t = this.$eventPool, e = t.length, i = !1, r = !1, n = 0; n < e; n++) {
                var o = t.pop();
                o == c.Event.LOOP_COMPLETE ? r = !0 : o == c.Event.COMPLETE ? i = !0 : this.dispatchEventWith(o)
            }
            r && this.dispatchEventWith(c.Event.LOOP_COMPLETE), i && this.dispatchEventWith(c.Event.COMPLETE)
        }
    }, Object.defineProperty(e.prototype, "totalFrames", {
        get: function () {
            return this.$totalFrames
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "currentFrame", {
        get: function () {
            return this.$currentFrameNum
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "currentFrameLabel", {
        get: function () {
            var t = this.getFrameLabelByFrame(this.$currentFrameNum);
            return t && t.name
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "currentLabel", {
        get: function () {
            var t = this.getFrameLabelForFrame(this.$currentFrameNum);
            return t ? t.name : null
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "frameRate", {
        get: function () {
            return this.$frameRate
        },
        set: function (t) {
            t != this.$frameRate && (this.$frameRate = t, this.frameIntervalTime = 1e3 / this.$frameRate)
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "isPlaying", {
        get: function () {
            return this.$isPlaying
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(e.prototype, "movieClipData", {
        get: function () {
            return this.$movieClipData
        },
        set: function (t) {
            this.setMovieClipData(t)
        },
        enumerable: !0,
        configurable: !0
    }), e.prototype.setMovieClipData = function (t) {
        this.$movieClipData != t && (this.$movieClipData = t, this.$init())
    }, e.prototype.setPlayTimes = function (t) {
        (t < 0 || 1 <= t) && (this.playTimes = t < 0 ? -1 : Math.floor(t))
    }, e.prototype.setIsStopped = function (t) {
        this.isStopped != t && ((this.isStopped = t) ? c.ticker.$stopTick(this.advanceTime, this) : (this.playTimes = 0 == this.playTimes ? 1 : this.playTimes, this.lastTime = c.getTimer(), c.ticker.$startTick(this.advanceTime, this)))
    }, e);

    function e(t) {
        var e = i.call(this) || this;
        return e.$bitmapData = null, e.offsetPoint = c.Point.create(0, 0), e.$movieClipData = null, e.frames = null, e.$totalFrames = 0, e.frameLabels = null, e.$frameLabelStart = 0, e.$frameLabelEnd = 0, e.frameEvents = null, e.frameIntervalTime = 0, e.$eventPool = null, e.$isPlaying = !1, e.isStopped = !0, e.playTimes = 0, e.$currentFrameNum = 0, e.$nextFrameNum = 1, e.displayedKeyFrameNum = 0, e.passedTime = 0, e.$frameRate = NaN, e.lastTime = 0, e.$smoothing = c.Bitmap.defaultSmoothing, e.$renderNode = new c.sys.BitmapNode, e.setMovieClipData(t), e
    }
    c.MovieClip = t, __reflect(t.prototype, "egret.MovieClip")
}(egret = egret || {}),
function (i) {
    var r, t = (r = i.HashObject, __extends(e, r), e);

    function e(t) {
        void 0 === t && (t = null);
        var e = r.call(this) || this;
        return e.data = null, e.method = i.URLRequestMethod.GET, e.url = "", e.requestHeaders = [], e.url = t, e
    }
    i.URLRequest = t, __reflect(t.prototype, "egret.URLRequest")
}(egret = egret || {}),
function () {
    function t(t, e) {
        this.name = "", this.value = "", this.name = t, this.value = e
    }(egret || (egret = {})).URLRequestHeader = t, __reflect(t.prototype, "egret.URLRequestHeader")
}(),
function (t) {
    var e = (i.GET = "get", i.POST = "post", i);

    function i() {}
    t.URLRequestMethod = e, __reflect(e.prototype, "egret.URLRequestMethod")
}(egret = egret || {}),
function (t) {
    var i, e = (i = t.HashObject, __extends(r, i), r.prototype.decode = function (t) {
        this.variables || (this.variables = {}), t = t.split("+").join(" ");
        for (var e = /[?&]?([^=]+)=([^&]*)/g; i = e.exec(t);) {
            var i, r = decodeURIComponent(i[1]),
                n = decodeURIComponent(i[2]);
            r in this.variables != 0 ? (i = this.variables[r]) instanceof Array ? i.push(n) : this.variables[r] = [i, n] : this.variables[r] = n
        }
    }, r.prototype.toString = function () {
        if (!this.variables) return "";
        var t, e = this.variables,
            i = [];
        for (t in e) i.push(this.encodeValue(t, e[t]));
        return i.join("&")
    }, r.prototype.encodeValue = function (t, e) {
        return e instanceof Array ? this.encodeArray(t, e) : encodeURIComponent(t) + "=" + encodeURIComponent(e)
    }, r.prototype.encodeArray = function (e, t) {
        return e ? 0 == t.length ? encodeURIComponent(e) + "=" : t.map(function (t) {
            return encodeURIComponent(e) + "=" + encodeURIComponent(t)
        }).join("&") : ""
    }, r);

    function r(t) {
        void 0 === t && (t = null);
        var e = i.call(this) || this;
        return (e.variables = null) !== t && e.decode(t), e
    }
    t.URLVariables = e, __reflect(e.prototype, "egret.URLVariables")
}(egret = egret || {}),
function (e) {
    var i, t = (i = e.EventDispatcher, __extends(r, i), r.prototype.update = function (t) {
        var e = t - this._lastTime;
        if (this._lastTime = t, this._paused) return !1;
        var i = e * this._timeScale;
        for (this._callList = this.callBackList.concat(), this._callIndex = 0; this._callIndex < this._callList.length; this._callIndex++) {
            var r = this._callList[this._callIndex];
            r.listener.call(r.thisObject, i)
        }
        return this._callIndex = -1, this._callList = null, !1
    }, r.prototype.register = function (t, e, i) {
        this.$insertEventBin(this.callBackList, "", t, e, !1, i = void 0 === i ? 0 : i, !1)
    }, r.prototype.unregister = function (t, e) {
        this.$removeEventBin(this.callBackList, t, e)
    }, r.prototype.setTimeScale = function (t) {
        this._timeScale = t
    }, r.prototype.getTimeScale = function () {
        return this._timeScale
    }, r.prototype.pause = function () {
        this._paused = !0
    }, r.prototype.resume = function () {
        this._paused = !1
    }, r.getInstance = function () {
        return r.instance = null == r.instance ? new r : r.instance
    }, r);

    function r() {
        var t = i.call(this) || this;
        return t._timeScale = 1, t._paused = !1, t._callIndex = -1, t._lastTime = 0, t.callBackList = [], null != r.instance && e.$error(1033), e.ticker.$startTick(t.update, t), t._lastTime = e.getTimer(), t
    }
    e.Ticker = t, __reflect(t.prototype, "egret.Ticker")
}(egret = egret || {}),
function (t) {
    var e, i = (e = t.EventDispatcher, __extends(r, e), Object.defineProperty(r.prototype, "stage", {
        get: function () {
            return t.sys.$TempStage
        },
        enumerable: !0,
        configurable: !0
    }), Object.defineProperty(r, "runtimeType", {
        get: function () {
            return t.$warn(1041, "egret.MainContext.runtimeType", "egret.Capabilities.runtimeType"), r._runtimeType
        },
        enumerable: !0,
        configurable: !0
    }), r.prototype.run = function () {}, Object.defineProperty(r, "instance", {
        get: function () {
            return r._instance = null == r._instance ? new r : r._instance
        },
        enumerable: !0,
        configurable: !0
    }), r.deviceType = null, r.DEVICE_PC = "web", r.DEVICE_MOBILE = "native", r.RUNTIME_HTML5 = "runtimeHtml5", r.RUNTIME_NATIVE = "runtimeNative", r);

    function r() {
        return e.call(this) || this
    }
    t.MainContext = i, __reflect(i.prototype, "egret.MainContext")
}(egret = egret || {}), egret.testDeviceType1 = function () {
        if (!this.navigator) return !0;
        var t = navigator.userAgent.toLowerCase();
        return -1 != t.indexOf("mobile") || -1 != t.indexOf("android")
    }, egret.testRuntimeType1 = function () {
        return !!this.navigator
    }, egret.MainContext.deviceType = egret.testDeviceType1() ? egret.MainContext.DEVICE_MOBILE : egret.MainContext.DEVICE_PC, egret.MainContext._runtimeType = egret.testRuntimeType1() ? egret.MainContext.RUNTIME_HTML5 : egret.MainContext.RUNTIME_NATIVE, delete egret.testDeviceType1, delete egret.testRuntimeType1,
    function (t) {
        var i, e = (i = t.HashObject, __extends(r, i), r.$init = function () {
            t.ticker.$startTick(r.onUpdate, r)
        }, r.onUpdate = function (t) {
            for (var e = r._callBackList, i = e.length - 1; 0 <= i; i--) e[i].$checkFrame();
            return !1
        }, r.prototype.$checkFrame = function () {
            this.frameCount--, this.frameCount <= 0 && this.dispose()
        }, Object.defineProperty(r.prototype, "length", {
            get: function () {
                return this._length
            },
            enumerable: !0,
            configurable: !0
        }), r.prototype.push = function (t) {
            var e = this.objectPool; - 1 == e.indexOf(t) && (e.push(t), t.__recycle && t.__recycle(), this._length++, 0 == this.frameCount && (this.frameCount = this.autoDisposeTime, r._callBackList.push(this)))
        }, r.prototype.pop = function () {
            return 0 == this._length ? null : (this._length--, this.objectPool.pop())
        }, r.prototype.dispose = function () {
            0 < this._length && (this.objectPool = [], this._length = 0), this.frameCount = 0;
            var t = r._callBackList,
                e = t.indexOf(this); - 1 != e && t.splice(e, 1)
        }, r._callBackList = [], r);

        function r(t) {
            void 0 === t && (t = 300);
            var e = i.call(this) || this;
            return e.objectPool = [], e._length = 0, e.autoDisposeTime = t = t < 1 ? 1 : t, e.frameCount = 0, e
        }
        t.Recycler = e, __reflect(e.prototype, "egret.Recycler"), e.$init()
    }(egret = egret || {}),
    function (s) {
        var a = {},
            h = 0,
            l = 0,
            u = 0;

        function c(t) {
            var e, i = t - u;
            for (e in u = t, a) {
                var r = a[e];
                r.delay -= i, r.delay <= 0 && (r.delay = r.originDelay, r.listener.apply(r.thisObject, r.params))
            }
            return !1
        }
        s.setInterval = function (t, e, i) {
            for (var r = [], n = 3; n < arguments.length; n++) r[n - 3] = arguments[n];
            var o = {
                listener: t,
                thisObject: e,
                delay: i,
                originDelay: i,
                params: r
            };
            return 1 == ++l && (u = s.getTimer(), s.ticker.$startTick(c, null)), a[++h] = o, h
        }, s.clearInterval = function (t) {
            a[t] && (l--, delete a[t], 0 == l && s.ticker.$stopTick(c, null))
        }
    }(egret = egret || {}),
    function (s) {
        var a = {},
            h = 0,
            l = 0,
            u = 0;

        function o(t) {
            a[t] && (l--, delete a[t], 0 == l && s.ticker && s.ticker.$stopTick(c, null))
        }

        function c(t) {
            var e, i = t - u;
            for (e in u = t, a) {
                var r = e,
                    n = a[r];
                n.delay -= i, n.delay <= 0 && (n.listener.apply(n.thisObject, n.params), o(r))
            }
            return !1
        }
        s.setTimeout = function (t, e, i) {
            for (var r = [], n = 3; n < arguments.length; n++) r[n - 3] = arguments[n];
            var o = {
                listener: t,
                thisObject: e,
                delay: i,
                params: r
            };
            return 1 == ++l && s.ticker && (u = s.getTimer(), s.ticker.$startTick(c, null)), a[++h] = o, h
        }, s.clearTimeout = o
    }(egret = egret || {}),
    function (t) {
        var e;
        "object" == typeof exports && "undefined" != typeof module ? module.exports = t() : "function" == typeof define && define.amd ? define([], t) : ("undefined" != typeof window ? e = window : "undefined" != typeof global ? e = global : "undefined" != typeof self && (e = self), e.JSZip = t())
    }(function () {
        return function r(n, o, s) {
            function a(i, t) {
                if (!o[i]) {
                    if (!n[i]) {
                        var e = "function" == typeof require && require;
                        if (!t && e) return e(i, !0);
                        if (h) return h(i, !0);
                        throw new Error("Cannot find module '" + i + "'")
                    }
                    e = o[i] = {
                        exports: {}
                    };
                    n[i][0].call(e.exports, function (t) {
                        var e = n[i][1][t];
                        return a(e || t)
                    }, e, e.exports, r, n, o, s)
                }
                return o[i].exports
            }
            for (var h = "function" == typeof require && require, t = 0; t < s.length; t++) a(s[t]);
            return a
        }({
            1: [function (t, e, i) {
                "use strict";
                var l = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                i.encode = function (t) {
                    for (var e, i, r, n, o, s, a = "", h = 0; h < t.length;) r = (s = t.charCodeAt(h++)) >> 2, n = (3 & s) << 4 | (e = t.charCodeAt(h++)) >> 4, o = (15 & e) << 2 | (i = t.charCodeAt(h++)) >> 6, s = 63 & i, isNaN(e) ? o = s = 64 : isNaN(i) && (s = 64), a = a + l.charAt(r) + l.charAt(n) + l.charAt(o) + l.charAt(s);
                    return a
                }, i.decode = function (t) {
                    var e, i, r, n, o, s, a = "",
                        h = 0;
                    for (t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); h < t.length;) r = l.indexOf(t.charAt(h++)), e = (15 & (n = l.indexOf(t.charAt(h++)))) << 4 | (o = l.indexOf(t.charAt(h++))) >> 2, i = (3 & o) << 6 | (s = l.indexOf(t.charAt(h++))), a += String.fromCharCode(r << 2 | n >> 4), 64 != o && (a += String.fromCharCode(e)), 64 != s && (a += String.fromCharCode(i));
                    return a
                }
            }, {}],
            2: [function (t, e) {
                "use strict";

                function i() {
                    this.compressedSize = 0, this.uncompressedSize = 0, this.crc32 = 0, this.compressionMethod = null, this.compressedContent = null
                }
                i.prototype = {
                    getContent: function () {
                        return null
                    },
                    getCompressedContent: function () {
                        return null
                    }
                }, e.exports = i
            }, {}],
            3: [function (t, e, i) {
                "use strict";
                i.STORE = {
                    magic: "\0\0",
                    compress: function (t) {
                        return t
                    },
                    uncompress: function (t) {
                        return t
                    },
                    compressInputType: null,
                    uncompressInputType: null
                }, i.DEFLATE = t("./flate")
            }, {
                "./flate": 8
            }],
            4: [function (t, e) {
                "use strict";
                var s = t("./utils"),
                    a = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
                e.exports = function (t, e) {
                    if (void 0 === t || !t.length) return 0;
                    var i = "string" !== s.getTypeOf(t);
                    void 0 === e && (e = 0);
                    var r;
                    e ^= -1;
                    for (var n = 0, o = t.length; n < o; n++) r = i ? t[n] : t.charCodeAt(n), e = e >>> 8 ^ a[255 & (e ^ r)];
                    return -1 ^ e
                }
            }, {
                "./utils": 21
            }],
            5: [function (t, e) {
                "use strict";

                function i() {
                    this.data = null, this.length = 0, this.index = 0
                }
                var r = t("./utils");
                i.prototype = {
                    checkOffset: function (t) {
                        this.checkIndex(this.index + t)
                    },
                    checkIndex: function (t) {
                        if (this.length < t || t < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + t + "). Corrupted zip ?")
                    },
                    setIndex: function (t) {
                        this.checkIndex(t), this.index = t
                    },
                    skip: function (t) {
                        this.setIndex(this.index + t)
                    },
                    byteAt: function () {},
                    readInt: function (t) {
                        var e, i = 0;
                        for (this.checkOffset(t), e = this.index + t - 1; e >= this.index; e--) i = (i << 8) + this.byteAt(e);
                        return this.index += t, i
                    },
                    readString: function (t) {
                        return r.transformTo("string", this.readData(t))
                    },
                    readData: function () {},
                    lastIndexOfSignature: function () {},
                    readDate: function () {
                        var t = this.readInt(4);
                        return new Date(1980 + (t >> 25 & 127), (t >> 21 & 15) - 1, t >> 16 & 31, t >> 11 & 31, t >> 5 & 63, (31 & t) << 1)
                    }
                }, e.exports = i
            }, {
                "./utils": 21
            }],
            6: [function (t, e, i) {
                "use strict";
                i.base64 = !1, i.binary = !1, i.dir = !1, i.createFolders = !1, i.date = null, i.compression = null, i.compressionOptions = null, i.comment = null, i.unixPermissions = null, i.dosPermissions = null
            }, {}],
            7: [function (t, e, i) {
                "use strict";
                var r = t("./utils");
                i.string2binary = function (t) {
                    return r.string2binary(t)
                }, i.string2Uint8Array = function (t) {
                    return r.transformTo("uint8array", t)
                }, i.uint8Array2String = function (t) {
                    return r.transformTo("string", t)
                }, i.string2Blob = function (t) {
                    t = r.transformTo("arraybuffer", t);
                    return r.arrayBuffer2Blob(t)
                }, i.arrayBuffer2Blob = function (t) {
                    return r.arrayBuffer2Blob(t)
                }, i.transformTo = function (t, e) {
                    return r.transformTo(t, e)
                }, i.getTypeOf = function (t) {
                    return r.getTypeOf(t)
                }, i.checkSupport = function (t) {
                    return r.checkSupport(t)
                }, i.MAX_VALUE_16BITS = r.MAX_VALUE_16BITS, i.MAX_VALUE_32BITS = r.MAX_VALUE_32BITS, i.pretty = function (t) {
                    return r.pretty(t)
                }, i.findCompression = function (t) {
                    return r.findCompression(t)
                }, i.isRegExp = function (t) {
                    return r.isRegExp(t)
                }
            }, {
                "./utils": 21
            }],
            8: [function (t, e, i) {
                "use strict";
                var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array,
                    n = t("pako");
                i.uncompressInputType = r ? "uint8array" : "array", i.compressInputType = r ? "uint8array" : "array", i.magic = "\b\0", i.compress = function (t, e) {
                    return n.deflateRaw(t, {
                        level: e.level || -1
                    })
                }, i.uncompress = function (t) {
                    return n.inflateRaw(t)
                }
            }, {
                pako: 24
            }],
            9: [function (t, e) {
                "use strict";

                function i(t, e) {
                    return this instanceof i ? (this.files = {}, this.comment = null, this.root = "", t && this.load(t, e), void(this.clone = function () {
                        var t, e = new i;
                        for (t in this) "function" != typeof this[t] && (e[t] = this[t]);
                        return e
                    })) : new i(t, e)
                }
                var r = t("./base64");
                (i.prototype = t("./object")).load = t("./load"), i.support = t("./support"), i.defaults = t("./defaults"), i.utils = t("./deprecatedPublicUtils"), i.base64 = {
                    encode: function (t) {
                        return r.encode(t)
                    },
                    decode: function (t) {
                        return r.decode(t)
                    }
                }, i.compressions = t("./compressions"), e.exports = i
            }, {
                "./base64": 1,
                "./compressions": 3,
                "./defaults": 6,
                "./deprecatedPublicUtils": 7,
                "./load": 10,
                "./object": 13,
                "./support": 17
            }],
            10: [function (t, e) {
                "use strict";
                var o = t("./base64"),
                    s = t("./zipEntries");
                e.exports = function (t, e) {
                    var i, r, n;
                    for ((e = e || {}).base64 && (t = o.decode(t)), i = (t = new s(t, e)).files, r = 0; r < i.length; r++) n = i[r], this.file(n.fileName, n.decompressed, {
                        binary: !0,
                        optimizedBinaryString: !0,
                        date: n.date,
                        dir: n.dir,
                        comment: n.fileComment.length ? n.fileComment : null,
                        unixPermissions: n.unixPermissions,
                        dosPermissions: n.dosPermissions,
                        createFolders: e.createFolders
                    });
                    return t.zipComment.length && (this.comment = t.zipComment), this
                }
            }, {
                "./base64": 1,
                "./zipEntries": 22
            }],
            11: [function (t, e) {
                ! function (i) {
                    "use strict";
                    e.exports = function (t, e) {
                        return new i(t, e)
                    }, e.exports.test = function (t) {
                        return i.isBuffer(t)
                    }
                }.call(this, "undefined" != typeof Buffer ? Buffer : void 0)
            }, {}],
            12: [function (t, e) {
                "use strict";

                function i(t) {
                    this.data = t, this.length = this.data.length, this.index = 0
                }
                t = t("./uint8ArrayReader");
                (i.prototype = new t).readData = function (t) {
                    this.checkOffset(t);
                    var e = this.data.slice(this.index, this.index + t);
                    return this.index += t, e
                }, e.exports = i
            }, {
                "./uint8ArrayReader": 18
            }],
            13: [function (t, e) {
                "use strict";

                function i(t) {
                    var e;
                    return t._data instanceof h && (t._data = t._data.getContent(), t.options.binary = !0, t.options.base64 = !1, "uint8array" === y.getTypeOf(t._data)) && (e = t._data, t._data = new Uint8Array(e.length), 0 !== e.length && t._data.set(e, 0)), t._data
                }

                function o(t) {
                    var e = i(t);
                    return "string" === y.getTypeOf(e) ? !t.options.binary && n.nodebuffer ? l(e, "utf-8") : t.asBinary() : e
                }

                function r(t) {
                    var e = i(this);
                    return null == e ? "" : (this.options.base64 && (e = d.decode(e)), e = t && this.options.binary ? S.utf8decode(e) : y.transformTo("string", e), e = !t && !this.options.binary ? y.transformTo("string", S.utf8encode(e)) : e)
                }

                function s(t, e, i) {
                    this.name = t, this.dir = i.dir, this.date = i.date, this.comment = i.comment, this.unixPermissions = i.unixPermissions, this.dosPermissions = i.dosPermissions, this._data = e, this.options = i, this._initialMetadata = {
                        dir: i.dir,
                        date: i.date
                    }
                }
                var n = t("./support"),
                    y = t("./utils"),
                    v = t("./crc32"),
                    m = t("./signature"),
                    a = t("./defaults"),
                    d = t("./base64"),
                    f = t("./compressions"),
                    h = t("./compressedObject"),
                    l = t("./nodeBuffer"),
                    _ = t("./utf8"),
                    g = t("./stringWriter"),
                    b = t("./uint8ArrayWriter");
                s.prototype = {
                    asText: function () {
                        return r.call(this, !0)
                    },
                    asBinary: function () {
                        return r.call(this, !1)
                    },
                    asNodeBuffer: function () {
                        var t = o(this);
                        return y.transformTo("nodebuffer", t)
                    },
                    asUint8Array: function () {
                        var t = o(this);
                        return y.transformTo("uint8array", t)
                    },
                    asArrayBuffer: function () {
                        return this.asUint8Array().buffer
                    }
                };

                function $(t, e) {
                    for (var i = "", r = 0; r < e; r++) i += String.fromCharCode(255 & t), t >>>= 8;
                    return i
                }

                function x() {
                    for (var t, e = {}, i = 0; i < arguments.length; i++)
                        for (t in arguments[i]) arguments[i].hasOwnProperty(t) && void 0 === e[t] && (e[t] = arguments[i][t]);
                    return e
                }

                function u(t, e, i) {
                    var r, n, o = y.getTypeOf(e);
                    if (!0 !== (n = (n = i) || {}).base64 || null !== n.binary && void 0 !== n.binary || (n.binary = !0), (n = x(n, a)).date = n.date || new Date, null !== n.compression && (n.compression = n.compression.toUpperCase()), "string" == typeof (i = n).unixPermissions && (i.unixPermissions = parseInt(i.unixPermissions, 8)), i.unixPermissions && 16384 & i.unixPermissions && (i.dir = !0), i.dosPermissions && 16 & i.dosPermissions && (i.dir = !0), i.dir && (t = p(t)), i.createFolders && (r = c(t)) && C.call(this, r, !0), i.dir || null == e) i.base64 = !1, i.binary = !1, o = e = null;
                    else if ("string" === o) i.binary && !i.base64 && !0 !== i.optimizedBinaryString && (e = y.string2binary(e));
                    else {
                        if (i.base64 = !1, i.binary = !0, !(o || e instanceof h)) throw new Error("The data of '" + t + "' is in an unsupported format !");
                        "arraybuffer" === o && (e = y.transformTo("uint8array", e))
                    }
                    return i = new s(t, e, i), this.files[t] = i
                }

                function T(t, e, i) {
                    var r, n = new h;
                    return t._data instanceof h ? (n.uncompressedSize = t._data.uncompressedSize, n.crc32 = t._data.crc32, 0 === n.uncompressedSize || t.dir ? (e = f.STORE, n.compressedContent = "", n.crc32 = 0) : t._data.compressionMethod === e.magic ? n.compressedContent = t._data.getCompressedContent() : (r = t._data.getContent(), n.compressedContent = e.compress(y.transformTo(e.compressInputType, r), i))) : ((r = o(t)) && 0 !== r.length && !t.dir || (e = f.STORE, r = ""), n.uncompressedSize = r.length, n.crc32 = v(r), n.compressedContent = e.compress(y.transformTo(e.compressInputType, r), i)), n.compressedSize = n.compressedContent.length, n.compressionMethod = e.magic, n
                }

                function E(t, e, i, r, n) {
                    var o, s = (i.compressedContent, y.transformTo("string", _.utf8encode(e.name))),
                        a = e.comment || "",
                        h = y.transformTo("string", _.utf8encode(a)),
                        l = s.length !== e.name.length,
                        u = h.length !== a.length,
                        c = e.options,
                        p = "",
                        d = (e._initialMetadata.dir !== e.dir ? e : c).dir,
                        f = (e._initialMetadata.date !== e.date ? e : c).date,
                        a = 0,
                        c = 0;
                    d && (a |= 16), "UNIX" === n ? (c = 798, a |= (n = e.unixPermissions, o = d, (65535 & (n ? n : o ? 16893 : 33204)) << 16)) : (c = 20, a |= 63 & (e.dosPermissions || 0)), o = f.getHours(), o <<= 6, o |= f.getMinutes(), o <<= 5, o |= f.getSeconds() / 2, e = f.getFullYear() - 1980, e <<= 4, e |= f.getMonth() + 1, e <<= 5, e |= f.getDate(), l && (f = $(1, 1) + $(v(s), 4) + s, p += "up" + $(f.length, 2) + f), u && (g = $(1, 1) + $(this.crc32(h), 4) + h, p += "uc" + $(g.length, 2) + g);
                    var g = "";
                    return g += "\n\0", g += l || u ? "\0\b" : "\0\0", g += i.compressionMethod, g += $(o, 2), g += $(e, 2), g += $(i.crc32, 4), g += $(i.compressedSize, 4), g += $(i.uncompressedSize, 4), g += $(s.length, 2), g += $(p.length, 2), {
                        fileRecord: m.LOCAL_FILE_HEADER + g + s + p,
                        dirRecord: m.CENTRAL_FILE_HEADER + $(c, 2) + g + $(h.length, 2) + "\0\0\0\0" + $(a, 4) + $(r, 4) + s + p + h,
                        compressedObject: i
                    }
                }
                var c = function (t) {
                        var e = (t = "/" == t.slice(-1) ? t.substring(0, t.length - 1) : t).lastIndexOf("/");
                        return 0 < e ? t.substring(0, e) : ""
                    },
                    p = function (t) {
                        return "/" != t.slice(-1) && (t += "/"), t
                    },
                    C = function (t, e) {
                        return e = void 0 !== e && e, t = p(t), this.files[t] || u.call(this, t, null, {
                            dir: !0,
                            createFolders: e
                        }), this.files[t]
                    },
                    S = {
                        load: function () {
                            throw new Error("Load method is not defined. Is the file jszip.json-load.js included ?")
                        },
                        filter: function (t) {
                            var e, i, r, n = [];
                            for (e in this.files) this.files.hasOwnProperty(e) && (i = this.files[e], r = new s(i.name, i._data, x(i.options)), i = e.slice(this.root.length, e.length), e.slice(0, this.root.length) === this.root && t(i, r) && n.push(r));
                            return n
                        },
                        file: function (i, t, e) {
                            if (1 !== arguments.length) return i = this.root + i, u.call(this, i, t, e), this;
                            if (y.isRegExp(i)) {
                                var r = i;
                                return this.filter(function (t, e) {
                                    return !e.dir && r.test(t)
                                })
                            }
                            return this.filter(function (t, e) {
                                return !e.dir && t === i
                            })[0] || null
                        },
                        folder: function (i) {
                            if (!i) return this;
                            if (y.isRegExp(i)) return this.filter(function (t, e) {
                                return e.dir && i.test(t)
                            });
                            var t = this.root + i,
                                e = C.call(this, t),
                                t = this.clone();
                            return t.root = e.name, t
                        },
                        remove: function (i) {
                            i = this.root + i;
                            var t = this.files[i];
                            if (t || ("/" != i.slice(-1) && (i += "/"), t = this.files[i]), t && !t.dir) delete this.files[i];
                            else
                                for (var e = this.filter(function (t, e) {
                                        return e.name.slice(0, i.length) === i
                                    }), r = 0; r < e.length; r++) delete this.files[e[r].name];
                            return this
                        },
                        generate: function (t) {
                            t = x(t || {}, {
                                base64: !0,
                                compression: "STORE",
                                compressionOptions: null,
                                type: "base64",
                                platform: "DOS",
                                comment: null,
                                mimeType: "application/zip"
                            }), y.checkSupport(t.type), "darwin" !== t.platform && "freebsd" !== t.platform && "linux" !== t.platform && "sunos" !== t.platform || (t.platform = "UNIX"), "win32" === t.platform && (t.platform = "DOS");
                            var e, i = [],
                                r = 0,
                                n = 0,
                                o = y.transformTo("string", this.utf8encode(t.comment || this.comment || ""));
                            for (e in this.files)
                                if (this.files.hasOwnProperty(e)) {
                                    var s = this.files[e],
                                        a = s.options.compression || t.compression.toUpperCase(),
                                        h = f[a];
                                    if (!h) throw new Error(a + " is not a valid compression method !");
                                    a = s.options.compressionOptions || t.compressionOptions || {}, a = T.call(this, s, h, a), s = E.call(this, e, s, a, r, t.platform);
                                    r += s.fileRecord.length + a.compressedSize, n += s.dirRecord.length, i.push(s)
                                } for (var l = m.CENTRAL_DIRECTORY_END + "\0\0\0\0" + $(i.length, 2) + $(i.length, 2) + $(n, 4) + $(r, 4) + $(o.length, 2) + o, o = t.type.toLowerCase(), u = new("uint8array" === o || "arraybuffer" === o || "blob" === o || "nodebuffer" === o ? b : g)(r + n + l.length), c = 0; c < i.length; c++) u.append(i[c].fileRecord), u.append(i[c].compressedObject.compressedContent);
                            for (c = 0; c < i.length; c++) u.append(i[c].dirRecord);
                            u.append(l);
                            var p = u.finalize();
                            switch (t.type.toLowerCase()) {
                                case "uint8array":
                                case "arraybuffer":
                                case "nodebuffer":
                                    return y.transformTo(t.type.toLowerCase(), p);
                                case "blob":
                                    return y.arrayBuffer2Blob(y.transformTo("arraybuffer", p), t.mimeType);
                                case "base64":
                                    return t.base64 ? d.encode(p) : p;
                                default:
                                    return p
                            }
                        },
                        crc32: function (t, e) {
                            return v(t, e)
                        },
                        utf8encode: function (t) {
                            return y.transformTo("string", _.utf8encode(t))
                        },
                        utf8decode: function (t) {
                            return _.utf8decode(t)
                        }
                    };
                e.exports = S
            }, {
                "./base64": 1,
                "./compressedObject": 2,
                "./compressions": 3,
                "./crc32": 4,
                "./defaults": 6,
                "./nodeBuffer": 11,
                "./signature": 14,
                "./stringWriter": 16,
                "./support": 17,
                "./uint8ArrayWriter": 19,
                "./utf8": 20,
                "./utils": 21
            }],
            14: [function (t, e, i) {
                "use strict";
                i.LOCAL_FILE_HEADER = "PK", i.CENTRAL_FILE_HEADER = "PK", i.CENTRAL_DIRECTORY_END = "PK", i.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", i.ZIP64_CENTRAL_DIRECTORY_END = "PK", i.DATA_DESCRIPTOR = "PK\b"
            }, {}],
            15: [function (t, e) {
                "use strict";

                function i(t, e) {
                    this.data = t, e || (this.data = n.string2binary(this.data)), this.length = this.data.length, this.index = 0
                }
                var r = t("./dataReader"),
                    n = t("./utils");
                (i.prototype = new r).byteAt = function (t) {
                    return this.data.charCodeAt(t)
                }, i.prototype.lastIndexOfSignature = function (t) {
                    return this.data.lastIndexOf(t)
                }, i.prototype.readData = function (t) {
                    this.checkOffset(t);
                    var e = this.data.slice(this.index, this.index + t);
                    return this.index += t, e
                }, e.exports = i
            }, {
                "./dataReader": 5,
                "./utils": 21
            }],
            16: [function (t, e) {
                "use strict";
                var i = t("./utils"),
                    t = function () {
                        this.data = []
                    };
                t.prototype = {
                    append: function (t) {
                        t = i.transformTo("string", t), this.data.push(t)
                    },
                    finalize: function () {
                        return this.data.join("")
                    }
                }, e.exports = t
            }, {
                "./utils": 21
            }],
            17: [function (t, e, r) {
                ! function (e) {
                    "use strict";
                    if (r.base64 = !0, r.array = !0, r.string = !0, r.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, r.nodebuffer = void 0 !== e, r.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) r.blob = !1;
                    else {
                        e = new ArrayBuffer(0);
                        try {
                            r.blob = 0 === new Blob([e], {
                                type: "application/zip"
                            }).size
                        } catch (t) {
                            try {
                                var i = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder);
                                i.append(e), r.blob = 0 === i.getBlob("application/zip").size
                            } catch (t) {
                                r.blob = !1
                            }
                        }
                    }
                }.call(this, "undefined" != typeof Buffer ? Buffer : void 0)
            }, {}],
            18: [function (t, e) {
                "use strict";

                function i(t) {
                    t && (this.data = t, this.length = this.data.length, this.index = 0)
                }
                t = t("./dataReader");
                (i.prototype = new t).byteAt = function (t) {
                    return this.data[t]
                }, i.prototype.lastIndexOfSignature = function (t) {
                    for (var e = t.charCodeAt(0), i = t.charCodeAt(1), r = t.charCodeAt(2), n = t.charCodeAt(3), o = this.length - 4; 0 <= o; --o)
                        if (this.data[o] === e && this.data[o + 1] === i && this.data[o + 2] === r && this.data[o + 3] === n) return o;
                    return -1
                }, i.prototype.readData = function (t) {
                    if (this.checkOffset(t), 0 === t) return new Uint8Array(0);
                    var e = this.data.subarray(this.index, this.index + t);
                    return this.index += t, e
                }, e.exports = i
            }, {
                "./dataReader": 5
            }],
            19: [function (t, e) {
                "use strict";
                var i = t("./utils"),
                    t = function (t) {
                        this.data = new Uint8Array(t), this.index = 0
                    };
                t.prototype = {
                    append: function (t) {
                        0 !== t.length && (t = i.transformTo("uint8array", t), this.data.set(t, this.index), this.index += t.length)
                    },
                    finalize: function () {
                        return this.data
                    }
                }, e.exports = t
            }, {
                "./utils": 21
            }],
            20: [function (t, e, i) {
                "use strict";
                for (var a = t("./utils"), h = t("./support"), r = t("./nodeBuffer"), l = new Array(256), n = 0; n < 256; n++) l[n] = 252 <= n ? 6 : 248 <= n ? 5 : 240 <= n ? 4 : 224 <= n ? 3 : 192 <= n ? 2 : 1;
                l[254] = l[254] = 1;

                function o(t) {
                    for (var e, i, r = t.length, n = new Array(2 * r), o = 0, s = 0; s < r;)
                        if ((e = t[s++]) < 128) n[o++] = e;
                        else if (4 < (i = l[e])) n[o++] = 65533, s += i - 1;
                    else {
                        for (e &= 2 === i ? 31 : 3 === i ? 15 : 7; 1 < i && s < r;) e = e << 6 | 63 & t[s++], i--;
                        1 < i ? n[o++] = 65533 : e < 65536 ? n[o++] = e : (e -= 65536, n[o++] = 55296 | e >> 10 & 1023, n[o++] = 56320 | 1023 & e)
                    }
                    return n.length !== o && (n.subarray ? n = n.subarray(0, o) : n.length = o), a.applyFromCharCode(n)
                }
                i.utf8encode = function (t) {
                    return h.nodebuffer ? r(t, "utf-8") : function (t) {
                        for (var e, i, r, n, o = t.length, s = 0, a = 0; a < o; a++) 55296 == (64512 & (i = t.charCodeAt(a))) && a + 1 < o && (56320 == (64512 & (r = t.charCodeAt(a + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), a++)), s += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4;
                        for (e = new(h.uint8array ? Uint8Array : Array)(s), a = n = 0; n < s; a++) 55296 == (64512 & (i = t.charCodeAt(a))) && a + 1 < o && (56320 == (64512 & (r = t.charCodeAt(a + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), a++)), i < 128 ? e[n++] = i : (i < 2048 ? e[n++] = 192 | i >>> 6 : (i < 65536 ? e[n++] = 224 | i >>> 12 : (e[n++] = 240 | i >>> 18, e[n++] = 128 | i >>> 12 & 63), e[n++] = 128 | i >>> 6 & 63), e[n++] = 128 | 63 & i);
                        return e
                    }(t)
                }, i.utf8decode = function (t) {
                    if (h.nodebuffer) return a.transformTo("nodebuffer", t).toString("utf-8");
                    for (var e = [], i = 0, r = (t = a.transformTo(h.uint8array ? "uint8array" : "array", t)).length; i < r;) {
                        var n = function (t, e) {
                            for (var i = (e = (e = e || t.length) > t.length ? t.length : e) - 1; 0 <= i && 128 == (192 & t[i]);) i--;
                            return !(i < 0) && 0 !== i && i + l[t[i]] > e ? i : e
                        }(t, Math.min(i + 65536, r));
                        e.push(h.uint8array ? o(t.subarray(i, n)) : o(t.slice(i, n))), i = n
                    }
                    return e.join("")
                }
            }, {
                "./nodeBuffer": 11,
                "./support": 17,
                "./utils": 21
            }],
            21: [function (t, e, l) {
                "use strict";

                function i(t) {
                    return t
                }

                function r(t, e) {
                    for (var i = 0; i < t.length; ++i) e[i] = 255 & t.charCodeAt(i);
                    return e
                }

                function n(t) {
                    var e = 65536,
                        i = [],
                        r = t.length,
                        n = l.getTypeOf(t),
                        o = 0,
                        s = !0;
                    try {
                        switch (n) {
                            case "uint8array":
                                String.fromCharCode.apply(null, new Uint8Array(0));
                                break;
                            case "nodebuffer":
                                String.fromCharCode.apply(null, u(0))
                        }
                    } catch (t) {
                        s = !1
                    }
                    if (!s) {
                        for (var a = "", h = 0; h < t.length; h++) a += String.fromCharCode(t[h]);
                        return a
                    }
                    for (; o < r && 1 < e;) try {
                        i.push("array" === n || "nodebuffer" === n ? String.fromCharCode.apply(null, t.slice(o, Math.min(o + e, r))) : String.fromCharCode.apply(null, t.subarray(o, Math.min(o + e, r)))), o += e
                    } catch (t) {
                        e = Math.floor(e / 2)
                    }
                    return i.join("")
                }

                function o(t, e) {
                    for (var i = 0; i < t.length; i++) e[i] = t[i];
                    return e
                }
                var s = t("./support"),
                    a = t("./compressions"),
                    u = t("./nodeBuffer");
                l.string2binary = function (t) {
                    for (var e = "", i = 0; i < t.length; i++) e += String.fromCharCode(255 & t.charCodeAt(i));
                    return e
                }, l.arrayBuffer2Blob = function (e, i) {
                    l.checkSupport("blob"), i = i || "application/zip";
                    try {
                        return new Blob([e], {
                            type: i
                        })
                    } catch (t) {
                        try {
                            var r = new(window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder);
                            return r.append(e), r.getBlob(i)
                        } catch (t) {
                            throw new Error("Bug : can't construct the Blob.")
                        }
                    }
                }, l.applyFromCharCode = n;
                var h = {};
                h.string = {
                    string: i,
                    array: function (t) {
                        return r(t, new Array(t.length))
                    },
                    arraybuffer: function (t) {
                        return h.string.uint8array(t).buffer
                    },
                    uint8array: function (t) {
                        return r(t, new Uint8Array(t.length))
                    },
                    nodebuffer: function (t) {
                        return r(t, u(t.length))
                    }
                }, h.array = {
                    string: n,
                    array: i,
                    arraybuffer: function (t) {
                        return new Uint8Array(t).buffer
                    },
                    uint8array: function (t) {
                        return new Uint8Array(t)
                    },
                    nodebuffer: function (t) {
                        return u(t)
                    }
                }, h.arraybuffer = {
                    string: function (t) {
                        return n(new Uint8Array(t))
                    },
                    array: function (t) {
                        return o(new Uint8Array(t), new Array(t.byteLength))
                    },
                    arraybuffer: i,
                    uint8array: function (t) {
                        return new Uint8Array(t)
                    },
                    nodebuffer: function (t) {
                        return u(new Uint8Array(t))
                    }
                }, h.uint8array = {
                    string: n,
                    array: function (t) {
                        return o(t, new Array(t.length))
                    },
                    arraybuffer: function (t) {
                        return t.buffer
                    },
                    uint8array: i,
                    nodebuffer: function (t) {
                        return u(t)
                    }
                }, h.nodebuffer = {
                    string: n,
                    array: function (t) {
                        return o(t, new Array(t.length))
                    },
                    arraybuffer: function (t) {
                        return h.nodebuffer.uint8array(t).buffer
                    },
                    uint8array: function (t) {
                        return o(t, new Uint8Array(t.length))
                    },
                    nodebuffer: i
                }, l.transformTo = function (t, e) {
                    if (e = e || "", !t) return e;
                    l.checkSupport(t);
                    var i = l.getTypeOf(e);
                    return h[i][t](e)
                }, l.getTypeOf = function (t) {
                    return "string" == typeof t ? "string" : "[object Array]" === Object.prototype.toString.call(t) ? "array" : s.nodebuffer && u.test(t) ? "nodebuffer" : s.uint8array && t instanceof Uint8Array ? "uint8array" : s.arraybuffer && t instanceof ArrayBuffer ? "arraybuffer" : void 0
                }, l.checkSupport = function (t) {
                    if (!s[t.toLowerCase()]) throw new Error(t + " is not supported by this browser")
                }, l.MAX_VALUE_16BITS = 65535, l.MAX_VALUE_32BITS = -1, l.pretty = function (t) {
                    for (var e, i = "", r = 0; r < (t || "").length; r++) i += "\\x" + ((e = t.charCodeAt(r)) < 16 ? "0" : "") + e.toString(16).toUpperCase();
                    return i
                }, l.findCompression = function (t) {
                    for (var e in a)
                        if (a.hasOwnProperty(e) && a[e].magic === t) return a[e];
                    return null
                }, l.isRegExp = function (t) {
                    return "[object RegExp]" === Object.prototype.toString.call(t)
                }
            }, {
                "./compressions": 3,
                "./nodeBuffer": 11,
                "./support": 17
            }],
            22: [function (t, e) {
                "use strict";

                function i(t, e) {
                    this.files = [], this.loadOptions = e, t && this.load(t)
                }
                var r = t("./stringReader"),
                    n = t("./nodeBufferReader"),
                    o = t("./uint8ArrayReader"),
                    s = t("./utils"),
                    a = t("./signature"),
                    h = t("./zipEntry"),
                    l = t("./support"),
                    u = t("./object");
                i.prototype = {
                    checkSignature: function (t) {
                        var e = this.reader.readString(4);
                        if (e !== t) throw new Error("Corrupted zip or bug : unexpected signature (" + s.pretty(e) + ", expected " + s.pretty(t) + ")")
                    },
                    readBlockEndOfCentral: function () {
                        this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2), this.zipComment = this.reader.readString(this.zipCommentLength), this.zipComment = u.utf8decode(this.zipComment)
                    },
                    readBlockZip64EndOfCentral: function () {
                        this.zip64EndOfCentralSize = this.reader.readInt(8), this.versionMadeBy = this.reader.readString(2), this.versionNeeded = this.reader.readInt(2), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
                        for (var t, e, i, r = this.zip64EndOfCentralSize - 44; 0 < r;) t = this.reader.readInt(2), e = this.reader.readInt(4), i = this.reader.readString(e), this.zip64ExtensibleData[t] = {
                            id: t,
                            length: e,
                            value: i
                        }
                    },
                    readBlockZip64EndOfCentralLocator: function () {
                        if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount) throw new Error("Multi-volumes zip are not supported")
                    },
                    readLocalFiles: function () {
                        for (var t, e = 0; e < this.files.length; e++) t = this.files[e], this.reader.setIndex(t.localHeaderOffset), this.checkSignature(a.LOCAL_FILE_HEADER), t.readLocalPart(this.reader), t.handleUTF8(), t.processAttributes()
                    },
                    readCentralDir: function () {
                        var t;
                        for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === a.CENTRAL_FILE_HEADER;)(t = new h({
                            zip64: this.zip64
                        }, this.loadOptions)).readCentralPart(this.reader), this.files.push(t)
                    },
                    readEndOfCentral: function () {
                        var t = this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);
                        if (-1 === t) {
                            var e = !0;
                            try {
                                this.reader.setIndex(0), this.checkSignature(a.LOCAL_FILE_HEADER), e = !1
                            } catch (t) {}
                            throw new Error(e ? "Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip.json/documentation/howto/read_zip.html" : "Corrupted zip : can't find end of central directory")
                        }
                        if (this.reader.setIndex(t), this.checkSignature(a.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === s.MAX_VALUE_16BITS || this.diskWithCentralDirStart === s.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === s.MAX_VALUE_16BITS || this.centralDirRecords === s.MAX_VALUE_16BITS || this.centralDirSize === s.MAX_VALUE_32BITS || this.centralDirOffset === s.MAX_VALUE_32BITS) {
                            if (this.zip64 = !0, -1 === (t = this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
                            this.reader.setIndex(t), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral()
                        }
                    },
                    prepareReader: function (t) {
                        var e = s.getTypeOf(t);
                        this.reader = "string" !== e || l.uint8array ? "nodebuffer" === e ? new n(t) : new o(s.transformTo("uint8array", t)) : new r(t, this.loadOptions.optimizedBinaryString)
                    },
                    load: function (t) {
                        this.prepareReader(t), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles()
                    }
                }, e.exports = i
            }, {
                "./nodeBufferReader": 12,
                "./object": 13,
                "./signature": 14,
                "./stringReader": 15,
                "./support": 17,
                "./uint8ArrayReader": 18,
                "./utils": 21,
                "./zipEntry": 23
            }],
            23: [function (t, e) {
                "use strict";

                function i(t, e) {
                    this.options = t, this.loadOptions = e
                }
                var r = t("./stringReader"),
                    o = t("./utils"),
                    n = t("./compressedObject"),
                    s = t("./object");
                i.prototype = {
                    isEncrypted: function () {
                        return 1 == (1 & this.bitFlag)
                    },
                    useUTF8: function () {
                        return 2048 == (2048 & this.bitFlag)
                    },
                    prepareCompressedContent: function (i, r, n) {
                        return function () {
                            var t = i.index;
                            i.setIndex(r);
                            var e = i.readData(n);
                            return i.setIndex(t), e
                        }
                    },
                    prepareContent: function (t, e, i, r, n) {
                        return function () {
                            var t = o.transformTo(r.uncompressInputType, this.getCompressedContent()),
                                t = r.uncompress(t);
                            if (t.length !== n) throw new Error("Bug : uncompressed data size mismatch");
                            return t
                        }
                    },
                    readLocalPart: function (t) {
                        var e;
                        if (t.skip(22), this.fileNameLength = t.readInt(2), e = t.readInt(2), this.fileName = t.readString(this.fileNameLength), t.skip(e), -1 == this.compressedSize || -1 == this.uncompressedSize) throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
                        if (null === (e = o.findCompression(this.compressionMethod))) throw new Error("Corrupted zip : compression " + o.pretty(this.compressionMethod) + " unknown (inner file : " + this.fileName + ")");
                        if (this.decompressed = new n, this.decompressed.compressedSize = this.compressedSize, this.decompressed.uncompressedSize = this.uncompressedSize, this.decompressed.crc32 = this.crc32, this.decompressed.compressionMethod = this.compressionMethod, this.decompressed.getCompressedContent = this.prepareCompressedContent(t, t.index, this.compressedSize, e), this.decompressed.getContent = this.prepareContent(t, t.index, this.compressedSize, e, this.uncompressedSize), this.loadOptions.checkCRC32 && (this.decompressed = o.transformTo("string", this.decompressed.getContent()), s.crc32(this.decompressed) !== this.crc32)) throw new Error("Corrupted zip : CRC32 mismatch")
                    },
                    readCentralPart: function (t) {
                        if (this.versionMadeBy = t.readInt(2), this.versionNeeded = t.readInt(2), this.bitFlag = t.readInt(2), this.compressionMethod = t.readString(2), this.date = t.readDate(), this.crc32 = t.readInt(4), this.compressedSize = t.readInt(4), this.uncompressedSize = t.readInt(4), this.fileNameLength = t.readInt(2), this.extraFieldsLength = t.readInt(2), this.fileCommentLength = t.readInt(2), this.diskNumberStart = t.readInt(2), this.internalFileAttributes = t.readInt(2), this.externalFileAttributes = t.readInt(4), this.localHeaderOffset = t.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");
                        this.fileName = t.readString(this.fileNameLength), this.readExtraFields(t), this.parseZIP64ExtraField(t), this.fileComment = t.readString(this.fileCommentLength)
                    },
                    processAttributes: function () {
                        this.unixPermissions = null, this.dosPermissions = null;
                        var t = this.versionMadeBy >> 8;
                        this.dir = !!(16 & this.externalFileAttributes), 0 == t && (this.dosPermissions = 63 & this.externalFileAttributes), 3 == t && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || "/" !== this.fileName.slice(-1) || (this.dir = !0)
                    },
                    parseZIP64ExtraField: function () {
                        var t;
                        this.extraFields[1] && (t = new r(this.extraFields[1].value), this.uncompressedSize === o.MAX_VALUE_32BITS && (this.uncompressedSize = t.readInt(8)), this.compressedSize === o.MAX_VALUE_32BITS && (this.compressedSize = t.readInt(8)), this.localHeaderOffset === o.MAX_VALUE_32BITS && (this.localHeaderOffset = t.readInt(8)), this.diskNumberStart === o.MAX_VALUE_32BITS && (this.diskNumberStart = t.readInt(4)))
                    },
                    readExtraFields: function (t) {
                        var e, i, r, n = t.index;
                        for (this.extraFields = this.extraFields || {}; t.index < n + this.extraFieldsLength;) e = t.readInt(2), i = t.readInt(2), r = t.readString(i), this.extraFields[e] = {
                            id: e,
                            length: i,
                            value: r
                        }
                    },
                    handleUTF8: function () {
                        var t;
                        this.useUTF8() ? (this.fileName = s.utf8decode(this.fileName), this.fileComment = s.utf8decode(this.fileComment)) : (null !== (t = this.findExtraFieldUnicodePath()) && (this.fileName = t), null !== (t = this.findExtraFieldUnicodeComment()) && (this.fileComment = t))
                    },
                    findExtraFieldUnicodePath: function () {
                        var t = this.extraFields[28789];
                        if (t) {
                            var e = new r(t.value);
                            return 1 !== e.readInt(1) || s.crc32(this.fileName) !== e.readInt(4) ? null : s.utf8decode(e.readString(t.length - 5))
                        }
                        return null
                    },
                    findExtraFieldUnicodeComment: function () {
                        var t = this.extraFields[25461];
                        if (t) {
                            var e = new r(t.value);
                            return 1 !== e.readInt(1) || s.crc32(this.fileComment) !== e.readInt(4) ? null : s.utf8decode(e.readString(t.length - 5))
                        }
                        return null
                    }
                }, e.exports = i
            }, {
                "./compressedObject": 2,
                "./object": 13,
                "./stringReader": 15,
                "./utils": 21
            }],
            24: [function (t, e) {
                "use strict";
                var i = {};
                (0, t("./lib/utils/common").assign)(i, t("./lib/deflate"), t("./lib/inflate"), t("./lib/zlib/constants")), e.exports = i
            }, {
                "./lib/deflate": 25,
                "./lib/inflate": 26,
                "./lib/utils/common": 27,
                "./lib/zlib/constants": 30
            }],
            25: [function (t, e, i) {
                "use strict";

                function r(t, e) {
                    e = new l(e);
                    if (e.push(t, !0), e.err) throw e.msg;
                    return e.result
                }
                var s = t("./zlib/deflate.js"),
                    a = t("./utils/common"),
                    h = t("./utils/strings"),
                    n = t("./zlib/messages"),
                    o = t("./zlib/zstream"),
                    l = function (t) {
                        this.options = a.assign({
                            level: -1,
                            method: 8,
                            chunkSize: 16384,
                            windowBits: 15,
                            memLevel: 8,
                            strategy: 0,
                            to: ""
                        }, t || {});
                        var e = this.options;
                        e.raw && 0 < e.windowBits ? e.windowBits = -e.windowBits : e.gzip && 0 < e.windowBits && e.windowBits < 16 && (e.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new o, this.strm.avail_out = 0;
                        t = s.deflateInit2(this.strm, e.level, e.method, e.windowBits, e.memLevel, e.strategy);
                        if (0 !== t) throw new Error(n[t]);
                        e.header && s.deflateSetHeader(this.strm, e.header)
                    };
                l.prototype.push = function (t, e) {
                    var i, r, n = this.strm,
                        o = this.options.chunkSize;
                    if (this.ended) return !1;
                    r = e === ~~e ? e : !0 === e ? 4 : 0, n.input = "string" == typeof t ? h.string2buf(t) : t, n.next_in = 0, n.avail_in = n.input.length;
                    do {
                        if (0 === n.avail_out && (n.output = new a.Buf8(o), n.next_out = 0, n.avail_out = o), 1 !== (i = s.deflate(n, r)) && 0 !== i) return this.onEnd(i), !(this.ended = !0)
                    } while ((0 === n.avail_out || 0 === n.avail_in && 4 === r) && this.onData("string" === this.options.to ? h.buf2binstring(a.shrinkBuf(n.output, n.next_out)) : a.shrinkBuf(n.output, n.next_out)), (0 < n.avail_in || 0 === n.avail_out) && 1 !== i);
                    return 4 !== r || (i = s.deflateEnd(this.strm), this.onEnd(i), this.ended = !0, 0 === i)
                }, l.prototype.onData = function (t) {
                    this.chunks.push(t)
                }, l.prototype.onEnd = function (t) {
                    0 === t && (this.result = "string" === this.options.to ? this.chunks.join("") : a.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
                }, i.Deflate = l, i.deflate = r, i.deflateRaw = function (t, e) {
                    return (e = e || {}).raw = !0, r(t, e)
                }, i.gzip = function (t, e) {
                    return (e = e || {}).gzip = !0, r(t, e)
                }
            }, {
                "./utils/common": 27,
                "./utils/strings": 28,
                "./zlib/deflate.js": 32,
                "./zlib/messages": 37,
                "./zlib/zstream": 39
            }],
            26: [function (t, e, i) {
                "use strict";

                function r(t, e) {
                    e = new a(e);
                    if (e.push(t, !0), e.err) throw e.msg;
                    return e.result
                }
                var l = t("./zlib/inflate.js"),
                    u = t("./utils/common"),
                    c = t("./utils/strings"),
                    p = t("./zlib/constants"),
                    n = t("./zlib/messages"),
                    o = t("./zlib/zstream"),
                    s = t("./zlib/gzheader"),
                    a = function (t) {
                        this.options = u.assign({
                            chunkSize: 16384,
                            windowBits: 0,
                            to: ""
                        }, t || {});
                        var e = this.options;
                        e.raw && 0 <= e.windowBits && e.windowBits < 16 && (e.windowBits = -e.windowBits, 0 === e.windowBits && (e.windowBits = -15)), !(0 <= e.windowBits && e.windowBits < 16) || t && t.windowBits || (e.windowBits += 32), 15 < e.windowBits && e.windowBits < 48 && 0 == (15 & e.windowBits) && (e.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new o, this.strm.avail_out = 0;
                        e = l.inflateInit2(this.strm, e.windowBits);
                        if (e !== p.Z_OK) throw new Error(n[e]);
                        this.header = new s, l.inflateGetHeader(this.strm, this.header)
                    };
                a.prototype.push = function (t, e) {
                    var i, r, n, o, s, a = this.strm,
                        h = this.options.chunkSize;
                    if (this.ended) return !1;
                    r = e === ~~e ? e : !0 === e ? p.Z_FINISH : p.Z_NO_FLUSH, a.input = "string" == typeof t ? c.binstring2buf(t) : t, a.next_in = 0, a.avail_in = a.input.length;
                    do {
                        if (0 === a.avail_out && (a.output = new u.Buf8(h), a.next_out = 0, a.avail_out = h), (i = l.inflate(a, p.Z_NO_FLUSH)) !== p.Z_STREAM_END && i !== p.Z_OK) return this.onEnd(i), !(this.ended = !0)
                    } while (a.next_out && (0 === a.avail_out || i === p.Z_STREAM_END || 0 === a.avail_in && r === p.Z_FINISH) && ("string" === this.options.to ? (n = c.utf8border(a.output, a.next_out), o = a.next_out - n, s = c.buf2string(a.output, n), a.next_out = o, a.avail_out = h - o, o && u.arraySet(a.output, a.output, n, o, 0), this.onData(s)) : this.onData(u.shrinkBuf(a.output, a.next_out))), 0 < a.avail_in && i !== p.Z_STREAM_END);
                    return (r = i === p.Z_STREAM_END ? p.Z_FINISH : r) !== p.Z_FINISH || (i = l.inflateEnd(this.strm), this.onEnd(i), this.ended = !0, i === p.Z_OK)
                }, a.prototype.onData = function (t) {
                    this.chunks.push(t)
                }, a.prototype.onEnd = function (t) {
                    t === p.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : u.flattenChunks(this.chunks)), this.chunks = [], this.err = t, this.msg = this.strm.msg
                }, i.Inflate = a, i.inflate = r, i.inflateRaw = function (t, e) {
                    return (e = e || {}).raw = !0, r(t, e)
                }, i.ungzip = r
            }, {
                "./utils/common": 27,
                "./utils/strings": 28,
                "./zlib/constants": 30,
                "./zlib/gzheader": 33,
                "./zlib/inflate.js": 35,
                "./zlib/messages": 37,
                "./zlib/zstream": 39
            }],
            27: [function (t, e, i) {
                "use strict";
                var r = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
                i.assign = function (t) {
                    for (var e = Array.prototype.slice.call(arguments, 1); e.length;) {
                        var i = e.shift();
                        if (i) {
                            if ("object" != typeof i) throw new TypeError(i + "must be non-object");
                            for (var r in i) i.hasOwnProperty(r) && (t[r] = i[r])
                        }
                    }
                    return t
                }, i.shrinkBuf = function (t, e) {
                    return t.length === e ? t : t.subarray ? t.subarray(0, e) : (t.length = e, t)
                };
                var n = {
                        arraySet: function (t, e, i, r, n) {
                            if (e.subarray && t.subarray) t.set(e.subarray(i, i + r), n);
                            else
                                for (var o = 0; o < r; o++) t[n + o] = e[i + o]
                        },
                        flattenChunks: function (t) {
                            for (var e, i, r, n = 0, o = 0, s = t.length; o < s; o++) n += t[o].length;
                            for (r = new Uint8Array(n), o = e = 0, s = t.length; o < s; o++) i = t[o], r.set(i, e), e += i.length;
                            return r
                        }
                    },
                    o = {
                        arraySet: function (t, e, i, r, n) {
                            for (var o = 0; o < r; o++) t[n + o] = e[i + o]
                        },
                        flattenChunks: function (t) {
                            return [].concat.apply([], t)
                        }
                    };
                i.setTyped = function (t) {
                    t ? (i.Buf8 = Uint8Array, i.Buf16 = Uint16Array, i.Buf32 = Int32Array, i.assign(i, n)) : (i.Buf8 = Array, i.Buf16 = Array, i.Buf32 = Array, i.assign(i, o))
                }, i.setTyped(r)
            }, {}],
            28: [function (t, e, i) {
                "use strict";

                function h(t, e) {
                    if (e < 65537 && (t.subarray && o || !t.subarray && n)) return String.fromCharCode.apply(null, l.shrinkBuf(t, e));
                    for (var i = "", r = 0; r < e; r++) i += String.fromCharCode(t[r]);
                    return i
                }
                var l = t("./common"),
                    n = !0,
                    o = !0;
                try {
                    String.fromCharCode.apply(null, [0])
                } catch (t) {
                    n = !1
                }
                try {
                    String.fromCharCode.apply(null, new Uint8Array(1))
                } catch (t) {
                    o = !1
                }
                for (var u = new l.Buf8(256), r = 0; r < 256; r++) u[r] = 252 <= r ? 6 : 248 <= r ? 5 : 240 <= r ? 4 : 224 <= r ? 3 : 192 <= r ? 2 : 1;
                u[254] = u[254] = 1, i.string2buf = function (t) {
                    for (var e, i, r, n, o = t.length, s = 0, a = 0; a < o; a++) 55296 == (64512 & (i = t.charCodeAt(a))) && a + 1 < o && (56320 == (64512 & (r = t.charCodeAt(a + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), a++)), s += i < 128 ? 1 : i < 2048 ? 2 : i < 65536 ? 3 : 4;
                    for (e = new l.Buf8(s), a = n = 0; n < s; a++) 55296 == (64512 & (i = t.charCodeAt(a))) && a + 1 < o && (56320 == (64512 & (r = t.charCodeAt(a + 1))) && (i = 65536 + (i - 55296 << 10) + (r - 56320), a++)), i < 128 ? e[n++] = i : (i < 2048 ? e[n++] = 192 | i >>> 6 : (i < 65536 ? e[n++] = 224 | i >>> 12 : (e[n++] = 240 | i >>> 18, e[n++] = 128 | i >>> 12 & 63), e[n++] = 128 | i >>> 6 & 63), e[n++] = 128 | 63 & i);
                    return e
                }, i.buf2binstring = function (t) {
                    return h(t, t.length)
                }, i.binstring2buf = function (t) {
                    for (var e = new l.Buf8(t.length), i = 0, r = e.length; i < r; i++) e[i] = t.charCodeAt(i);
                    return e
                }, i.buf2string = function (t, e) {
                    for (var i, r, n = e || t.length, o = new Array(2 * n), s = 0, a = 0; a < n;)
                        if ((i = t[a++]) < 128) o[s++] = i;
                        else if (4 < (r = u[i])) o[s++] = 65533, a += r - 1;
                    else {
                        for (i &= 2 === r ? 31 : 3 === r ? 15 : 7; 1 < r && a < n;) i = i << 6 | 63 & t[a++], r--;
                        1 < r ? o[s++] = 65533 : i < 65536 ? o[s++] = i : (i -= 65536, o[s++] = 55296 | i >> 10 & 1023, o[s++] = 56320 | 1023 & i)
                    }
                    return h(o, s)
                }, i.utf8border = function (t, e) {
                    for (var i = (e = (e = e || t.length) > t.length ? t.length : e) - 1; 0 <= i && 128 == (192 & t[i]);) i--;
                    return !(i < 0) && 0 !== i && i + u[t[i]] > e ? i : e
                }
            }, {
                "./common": 27
            }],
            29: [function (t, e) {
                "use strict";
                e.exports = function (t, e, i, r) {
                    for (var n = 65535 & t | 0, o = t >>> 16 & 65535 | 0, s = 0; 0 !== i;) {
                        for (i -= s = 2e3 < i ? 2e3 : i; o = o + (n = n + e[r++] | 0) | 0, --s;);
                        n %= 65521, o %= 65521
                    }
                    return n | o << 16 | 0
                }
            }, {}],
            30: [function (t, e) {
                e.exports = {
                    Z_NO_FLUSH: 0,
                    Z_PARTIAL_FLUSH: 1,
                    Z_SYNC_FLUSH: 2,
                    Z_FULL_FLUSH: 3,
                    Z_FINISH: 4,
                    Z_BLOCK: 5,
                    Z_TREES: 6,
                    Z_OK: 0,
                    Z_STREAM_END: 1,
                    Z_NEED_DICT: 2,
                    Z_ERRNO: -1,
                    Z_STREAM_ERROR: -2,
                    Z_DATA_ERROR: -3,
                    Z_BUF_ERROR: -5,
                    Z_NO_COMPRESSION: 0,
                    Z_BEST_SPEED: 1,
                    Z_BEST_COMPRESSION: 9,
                    Z_DEFAULT_COMPRESSION: -1,
                    Z_FILTERED: 1,
                    Z_HUFFMAN_ONLY: 2,
                    Z_RLE: 3,
                    Z_FIXED: 4,
                    Z_DEFAULT_STRATEGY: 0,
                    Z_BINARY: 0,
                    Z_TEXT: 1,
                    Z_UNKNOWN: 2,
                    Z_DEFLATED: 8
                }
            }, {}],
            31: [function (t, e) {
                "use strict";
                var a = function () {
                    for (var t = [], e = 0; e < 256; e++) {
                        for (var i = e, r = 0; r < 8; r++) i = 1 & i ? 3988292384 ^ i >>> 1 : i >>> 1;
                        t[e] = i
                    }
                    return t
                }();
                e.exports = function (t, e, i, r) {
                    var n = a,
                        o = r + i;
                    t ^= -1;
                    for (var s = r; s < o; s++) t = t >>> 8 ^ n[255 & (t ^ e[s])];
                    return -1 ^ t
                }
            }, {}],
            32: [function (t, e, i) {
                "use strict";

                function h(t, e) {
                    return t.msg = x[e], e
                }

                function a(t) {
                    return (t << 1) - (4 < t ? 9 : 0)
                }

                function l(t) {
                    for (var e = t.length; 0 <= --e;) t[e] = 0
                }

                function u(t) {
                    var e = t.state,
                        i = e.pending;
                    0 !== (i = i > t.avail_out ? t.avail_out : i) && (m.arraySet(t.output, e.pending_buf, e.pending_out, i, t.next_out), t.next_out += i, e.pending_out += i, t.total_out += i, t.avail_out -= i, e.pending -= i, 0 === e.pending && (e.pending_out = 0))
                }

                function c(t, e) {
                    _._tr_flush_block(t, 0 <= t.block_start ? t.block_start : -1, t.strstart - t.block_start, e), t.block_start = t.strstart, u(t.strm)
                }

                function p(t, e) {
                    t.pending_buf[t.pending++] = e
                }

                function d(t, e) {
                    t.pending_buf[t.pending++] = e >>> 8 & 255, t.pending_buf[t.pending++] = 255 & e
                }

                function o(t, e) {
                    var i, r, n = t.max_chain_length,
                        o = t.strstart,
                        s = t.prev_length,
                        a = t.nice_match,
                        h = t.strstart > t.w_size - k ? t.strstart - (t.w_size - k) : 0,
                        l = t.window,
                        u = t.w_mask,
                        c = t.prev,
                        p = t.strstart + F,
                        d = l[o + s - 1],
                        f = l[o + s];
                    t.prev_length >= t.good_match && (n >>= 2), a > t.lookahead && (a = t.lookahead);
                    do {
                        if (l[(i = e) + s] === f && l[i + s - 1] === d && l[i] === l[o] && l[++i] === l[o + 1]) {
                            for (o += 2, i++; l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && l[++o] === l[++i] && o < p;);
                            if (r = F - (p - o), o = p - F, s < r) {
                                if (t.match_start = e, a <= (s = r)) break;
                                d = l[o + s - 1], f = l[o + s]
                            }
                        }
                    } while ((e = c[e & u]) > h && 0 != --n);
                    return s <= t.lookahead ? s : t.lookahead
                }

                function f(t) {
                    var e, i, r, n, o, s, a, h, l, u = t.w_size;
                    do {
                        if (l = t.window_size - t.lookahead - t.strstart, t.strstart >= u + (u - k)) {
                            for (m.arraySet(t.window, t.window, u, u, 0), t.match_start -= u, t.strstart -= u, t.block_start -= u, e = i = t.hash_size; r = t.head[--e], t.head[e] = u <= r ? r - u : 0, --i;);
                            for (e = i = u; r = t.prev[--e], t.prev[e] = u <= r ? r - u : 0, --i;);
                            l += u
                        }
                        if (0 === t.strm.avail_in) break;
                        if (o = t.strm, s = t.window, a = t.strstart + t.lookahead, h = l, l = void 0, l = o.avail_in, i = 0 === (l = h < l ? h : l) ? 0 : (o.avail_in -= l, m.arraySet(s, o.input, o.next_in, l, a), 1 === o.state.wrap ? o.adler = b(o.adler, s, l, a) : 2 === o.state.wrap && (o.adler = $(o.adler, s, l, a)), o.next_in += l, o.total_in += l, l), t.lookahead += i, t.lookahead + t.insert >= M)
                            for (n = t.strstart - t.insert, t.ins_h = t.window[n], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[n + 1]) & t.hash_mask; t.insert && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[n + M - 1]) & t.hash_mask, t.prev[n & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = n, n++, t.insert--, !(t.lookahead + t.insert < M)););
                    } while (t.lookahead < k && 0 !== t.strm.avail_in)
                }

                function r(t, e) {
                    for (var i, r;;) {
                        if (t.lookahead < k) {
                            if (f(t), t.lookahead < k && e === T) return z;
                            if (0 === t.lookahead) break
                        }
                        if (i = 0, t.lookahead >= M && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + M - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 !== i && t.strstart - i <= t.w_size - k && (t.match_length = o(t, i)), t.match_length >= M)
                            if (r = _._tr_tally(t, t.strstart - t.match_start, t.match_length - M), t.lookahead -= t.match_length, t.match_length <= t.max_lazy_match && t.lookahead >= M) {
                                for (t.match_length--; t.strstart++, t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + M - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart, 0 != --t.match_length;);
                                t.strstart++
                            } else t.strstart += t.match_length, t.match_length = 0, t.ins_h = t.window[t.strstart], t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + 1]) & t.hash_mask;
                        else r = _._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++;
                        if (r && (c(t, !1), 0 === t.strm.avail_out)) return z
                    }
                    return t.insert = t.strstart < M - 1 ? t.strstart : M - 1, e === E ? (c(t, !0), 0 === t.strm.avail_out ? V : G) : t.last_lit && (c(t, !1), 0 === t.strm.avail_out) ? z : j
                }

                function n(t, e) {
                    for (var i, r, n;;) {
                        if (t.lookahead < k) {
                            if (f(t), t.lookahead < k && e === T) return z;
                            if (0 === t.lookahead) break
                        }
                        if (i = 0, t.lookahead >= M && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + M - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), t.prev_length = t.match_length, t.prev_match = t.match_start, t.match_length = M - 1, 0 !== i && t.prev_length < t.max_lazy_match && t.strstart - i <= t.w_size - k && (t.match_length = o(t, i), t.match_length <= 5 && (1 === t.strategy || t.match_length === M && 4096 < t.strstart - t.match_start) && (t.match_length = M - 1)), t.prev_length >= M && t.match_length <= t.prev_length) {
                            for (n = t.strstart + t.lookahead - M, r = _._tr_tally(t, t.strstart - 1 - t.prev_match, t.prev_length - M), t.lookahead -= t.prev_length - 1, t.prev_length -= 2; ++t.strstart <= n && (t.ins_h = (t.ins_h << t.hash_shift ^ t.window[t.strstart + M - 1]) & t.hash_mask, i = t.prev[t.strstart & t.w_mask] = t.head[t.ins_h], t.head[t.ins_h] = t.strstart), 0 != --t.prev_length;);
                            if (t.match_available = 0, t.match_length = M - 1, t.strstart++, r && (c(t, !1), 0 === t.strm.avail_out)) return z
                        } else if (t.match_available) {
                            if ((r = _._tr_tally(t, 0, t.window[t.strstart - 1])) && c(t, !1), t.strstart++, t.lookahead--, 0 === t.strm.avail_out) return z
                        } else t.match_available = 1, t.strstart++, t.lookahead--
                    }
                    return t.match_available && (r = _._tr_tally(t, 0, t.window[t.strstart - 1]), t.match_available = 0), t.insert = t.strstart < M - 1 ? t.strstart : M - 1, e === E ? (c(t, !0), 0 === t.strm.avail_out ? V : G) : t.last_lit && (c(t, !1), 0 === t.strm.avail_out) ? z : j
                }

                function g() {
                    this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = R, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new m.Buf16(2 * N), this.dyn_dtree = new m.Buf16(2 * (2 * D + 1)), this.bl_tree = new m.Buf16(2 * (2 * A + 1)), l(this.dyn_ltree), l(this.dyn_dtree), l(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new m.Buf16(B + 1), this.heap = new m.Buf16(2 * I + 1), l(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new m.Buf16(2 * I + 1), l(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
                }

                function s(t) {
                    var e;
                    return t && t.state ? (t.total_in = t.total_out = 0, t.data_type = L, (e = t.state).pending = 0, e.pending_out = 0, e.wrap < 0 && (e.wrap = -e.wrap), e.status = e.wrap ? U : H, t.adler = 2 === e.wrap ? 0 : 1, e.last_flush = T, _._tr_init(e), C) : h(t, S)
                }

                function y(t) {
                    var e = s(t);
                    return e === C && ((t = t.state).window_size = 2 * t.w_size, l(t.head), t.max_lazy_match = W[t.level].max_lazy, t.good_match = W[t.level].good_length, t.nice_match = W[t.level].nice_length, t.max_chain_length = W[t.level].max_chain, t.strstart = 0, t.block_start = 0, t.lookahead = 0, t.insert = 0, t.match_length = t.prev_length = M - 1, t.match_available = 0, t.ins_h = 0), e
                }

                function v(t, e, i, r, n, o) {
                    if (!t) return S;
                    var s = 1;
                    if (e === w && (e = 6), r < 0 ? (s = 0, r = -r) : 15 < r && (s = 2, r -= 16), n < 1 || O < n || i !== R || r < 8 || 15 < r || e < 0 || 9 < e || o < 0 || P < o) return h(t, S);
                    8 === r && (r = 9);
                    var a = new g;
                    return (t.state = a).strm = t, a.wrap = s, a.gzhead = null, a.w_bits = r, a.w_size = 1 << a.w_bits, a.w_mask = a.w_size - 1, a.hash_bits = n + 7, a.hash_size = 1 << a.hash_bits, a.hash_mask = a.hash_size - 1, a.hash_shift = ~~((a.hash_bits + M - 1) / M), a.window = new m.Buf8(2 * a.w_size), a.head = new m.Buf16(a.hash_size), a.prev = new m.Buf16(a.w_size), a.lit_bufsize = 1 << n + 6, a.pending_buf_size = 4 * a.lit_bufsize, a.pending_buf = new m.Buf8(a.pending_buf_size), a.d_buf = a.lit_bufsize >> 1, a.l_buf = 3 * a.lit_bufsize, a.level = e, a.strategy = o, a.method = i, y(t)
                }
                var m = t("../utils/common"),
                    _ = t("./trees"),
                    b = t("./adler32"),
                    $ = t("./crc32"),
                    x = t("./messages"),
                    T = 0,
                    E = 4,
                    C = 0,
                    S = -2,
                    w = -1,
                    P = 4,
                    L = 2,
                    R = 8,
                    O = 9,
                    I = 286,
                    D = 30,
                    A = 19,
                    N = 2 * I + 1,
                    B = 15,
                    M = 3,
                    F = 258,
                    k = F + M + 1,
                    U = 42,
                    H = 113,
                    z = 1,
                    j = 2,
                    V = 3,
                    G = 4,
                    t = function (t, e, i, r, n) {
                        this.good_length = t, this.max_lazy = e, this.nice_length = i, this.max_chain = r, this.func = n
                    },
                    W = [new t(0, 0, 0, 0, function (t, e) {
                        var i = 65535;
                        for (i > t.pending_buf_size - 5 && (i = t.pending_buf_size - 5);;) {
                            if (t.lookahead <= 1) {
                                if (f(t), 0 === t.lookahead && e === T) return z;
                                if (0 === t.lookahead) break
                            }
                            t.strstart += t.lookahead, t.lookahead = 0;
                            var r = t.block_start + i;
                            if ((0 === t.strstart || t.strstart >= r) && (t.lookahead = t.strstart - r, t.strstart = r, c(t, !1), 0 === t.strm.avail_out)) return z;
                            if (t.strstart - t.block_start >= t.w_size - k && (c(t, !1), 0 === t.strm.avail_out)) return z
                        }
                        return t.insert = 0, e === E ? (c(t, !0), 0 === t.strm.avail_out ? V : G) : (t.strstart > t.block_start && (c(t, !1), t.strm.avail_out), z)
                    }), new t(4, 4, 8, 4, r), new t(4, 5, 16, 8, r), new t(4, 6, 32, 32, r), new t(4, 4, 16, 16, n), new t(8, 16, 32, 32, n), new t(8, 16, 128, 128, n), new t(8, 32, 128, 256, n), new t(32, 128, 258, 1024, n), new t(32, 258, 258, 4096, n)];
                i.deflateInit = function (t, e) {
                    return v(t, e, R, 15, 8, 0)
                }, i.deflateInit2 = v, i.deflateReset = y, i.deflateResetKeep = s, i.deflateSetHeader = function (t, e) {
                    return !t || !t.state || 2 !== t.state.wrap ? S : (t.state.gzhead = e, C)
                }, i.deflate = function (t, e) {
                    var i, r, n, o;
                    if (!t || !t.state || 5 < e || e < 0) return t ? h(t, S) : S;
                    if (i = t.state, !t.output || !t.input && 0 !== t.avail_in || 666 === i.status && e !== E) return h(t, 0 === t.avail_out ? -5 : S);
                    if (i.strm = t, s = i.last_flush, i.last_flush = e, i.status === U && (2 === i.wrap ? (t.adler = 0, p(i, 31), p(i, 139), p(i, 8), i.gzhead ? (p(i, (i.gzhead.text ? 1 : 0) + (i.gzhead.hcrc ? 2 : 0) + (i.gzhead.extra ? 4 : 0) + (i.gzhead.name ? 8 : 0) + (i.gzhead.comment ? 16 : 0)), p(i, 255 & i.gzhead.time), p(i, i.gzhead.time >> 8 & 255), p(i, i.gzhead.time >> 16 & 255), p(i, i.gzhead.time >> 24 & 255), p(i, 9 === i.level ? 2 : 2 <= i.strategy || i.level < 2 ? 4 : 0), p(i, 255 & i.gzhead.os), i.gzhead.extra && i.gzhead.extra.length && (p(i, 255 & i.gzhead.extra.length), p(i, i.gzhead.extra.length >> 8 & 255)), i.gzhead.hcrc && (t.adler = $(t.adler, i.pending_buf, i.pending, 0)), i.gzindex = 0, i.status = 69) : (p(i, 0), p(i, 0), p(i, 0), p(i, 0), p(i, 0), p(i, 9 === i.level ? 2 : 2 <= i.strategy || i.level < 2 ? 4 : 0), p(i, 3), i.status = H)) : (o = R + (i.w_bits - 8 << 4) << 8, o |= (2 <= i.strategy || i.level < 2 ? 0 : i.level < 6 ? 1 : 6 === i.level ? 2 : 3) << 6, 0 !== i.strstart && (o |= 32), o += 31 - o % 31, i.status = H, d(i, o), 0 !== i.strstart && (d(i, t.adler >>> 16), d(i, 65535 & t.adler)), t.adler = 1)), 69 === i.status)
                        if (i.gzhead.extra) {
                            for (r = i.pending; i.gzindex < (65535 & i.gzhead.extra.length) && (i.pending !== i.pending_buf_size || (i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), u(t), r = i.pending, i.pending !== i.pending_buf_size));) p(i, 255 & i.gzhead.extra[i.gzindex]), i.gzindex++;
                            i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), i.gzindex === i.gzhead.extra.length && (i.gzindex = 0, i.status = 73)
                        } else i.status = 73;
                    if (73 === i.status)
                        if (i.gzhead.name) {
                            r = i.pending;
                            do {
                                if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), u(t), r = i.pending, i.pending === i.pending_buf_size)) {
                                    n = 1;
                                    break
                                }
                            } while (n = i.gzindex < i.gzhead.name.length ? 255 & i.gzhead.name.charCodeAt(i.gzindex++) : 0, p(i, n), 0 !== n);
                            i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), 0 === n && (i.gzindex = 0, i.status = 91)
                        } else i.status = 91;
                    if (91 === i.status)
                        if (i.gzhead.comment) {
                            r = i.pending;
                            do {
                                if (i.pending === i.pending_buf_size && (i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), u(t), r = i.pending, i.pending === i.pending_buf_size)) {
                                    n = 1;
                                    break
                                }
                            } while (n = i.gzindex < i.gzhead.comment.length ? 255 & i.gzhead.comment.charCodeAt(i.gzindex++) : 0, p(i, n), 0 !== n);
                            i.gzhead.hcrc && i.pending > r && (t.adler = $(t.adler, i.pending_buf, i.pending - r, r)), 0 === n && (i.status = 103)
                        } else i.status = 103;
                    if (103 === i.status && (i.gzhead.hcrc ? (i.pending + 2 > i.pending_buf_size && u(t), i.pending + 2 <= i.pending_buf_size && (p(i, 255 & t.adler), p(i, t.adler >> 8 & 255), t.adler = 0, i.status = H)) : i.status = H), 0 !== i.pending) {
                        if (u(t), 0 === t.avail_out) return i.last_flush = -1, C
                    } else if (0 === t.avail_in && a(e) <= a(s) && e !== E) return h(t, -5);
                    if (666 === i.status && 0 !== t.avail_in) return h(t, -5);
                    if (0 !== t.avail_in || 0 !== i.lookahead || e !== T && 666 !== i.status) {
                        var s = 2 === i.strategy ? function (t, e) {
                            for (var i;;) {
                                if (0 === t.lookahead && (f(t), 0 === t.lookahead)) {
                                    if (e === T) return z;
                                    break
                                }
                                if (t.match_length = 0, i = _._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++, i && (c(t, !1), 0 === t.strm.avail_out)) return z
                            }
                            return t.insert = 0, e === E ? (c(t, !0), 0 === t.strm.avail_out ? V : G) : t.last_lit && (c(t, !1), 0 === t.strm.avail_out) ? z : j
                        }(i, e) : 3 === i.strategy ? function (t, e) {
                            for (var i, r, n, o, s = t.window;;) {
                                if (t.lookahead <= F) {
                                    if (f(t), t.lookahead <= F && e === T) return z;
                                    if (0 === t.lookahead) break
                                }
                                if (t.match_length = 0, t.lookahead >= M && 0 < t.strstart && ((r = s[n = t.strstart - 1]) === s[++n] && r === s[++n] && r === s[++n])) {
                                    for (o = t.strstart + F; r === s[++n] && r === s[++n] && r === s[++n] && r === s[++n] && r === s[++n] && r === s[++n] && r === s[++n] && r === s[++n] && n < o;);
                                    t.match_length = F - (o - n), t.match_length > t.lookahead && (t.match_length = t.lookahead)
                                }
                                if (t.match_length >= M ? (i = _._tr_tally(t, 1, t.match_length - M), t.lookahead -= t.match_length, t.strstart += t.match_length, t.match_length = 0) : (i = _._tr_tally(t, 0, t.window[t.strstart]), t.lookahead--, t.strstart++), i && (c(t, !1), 0 === t.strm.avail_out)) return z
                            }
                            return t.insert = 0, e === E ? (c(t, !0), 0 === t.strm.avail_out ? V : G) : t.last_lit && (c(t, !1), 0 === t.strm.avail_out) ? z : j
                        }(i, e) : W[i.level].func(i, e);
                        if (s !== V && s !== G || (i.status = 666), s === z || s === V) return 0 === t.avail_out && (i.last_flush = -1), C;
                        if (s === j && (1 === e ? _._tr_align(i) : 5 !== e && (_._tr_stored_block(i, 0, 0, !1), 3 === e && (l(i.head), 0 === i.lookahead && (i.strstart = 0, i.block_start = 0, i.insert = 0))), u(t), 0 === t.avail_out)) return i.last_flush = -1, C
                    }
                    return e !== E ? C : i.wrap <= 0 ? 1 : (2 === i.wrap ? (p(i, 255 & t.adler), p(i, t.adler >> 8 & 255), p(i, t.adler >> 16 & 255), p(i, t.adler >> 24 & 255), p(i, 255 & t.total_in), p(i, t.total_in >> 8 & 255), p(i, t.total_in >> 16 & 255), p(i, t.total_in >> 24 & 255)) : (d(i, t.adler >>> 16), d(i, 65535 & t.adler)), u(t), 0 < i.wrap && (i.wrap = -i.wrap), 0 !== i.pending ? C : 1)
                }, i.deflateEnd = function (t) {
                    var e;
                    return t && t.state ? (e = t.state.status) !== U && 69 !== e && 73 !== e && 91 !== e && 103 !== e && e !== H && 666 !== e ? h(t, S) : (t.state = null, e === H ? h(t, -3) : C) : S
                }, i.deflateInfo = "pako deflate (from Nodeca project)"
            }, {
                "../utils/common": 27,
                "./adler32": 29,
                "./crc32": 31,
                "./messages": 37,
                "./trees": 38
            }],
            33: [function (t, e) {
                "use strict";
                e.exports = function () {
                    this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
                }
            }, {}],
            34: [function (t, e) {
                "use strict";
                e.exports = function (t, e) {
                    var i, r, n, o, s, a, h = t.state,
                        l = t.next_in,
                        u = t.input,
                        c = l + (t.avail_in - 5),
                        p = t.next_out,
                        d = t.output,
                        f = p - (e - t.avail_out),
                        g = p + (t.avail_out - 257),
                        y = h.dmax,
                        v = h.wsize,
                        m = h.whave,
                        _ = h.wnext,
                        b = h.window,
                        $ = h.hold,
                        x = h.bits,
                        T = h.lencode,
                        E = h.distcode,
                        C = (1 << h.lenbits) - 1,
                        S = (1 << h.distbits) - 1;
                    t: do {
                        x < 15 && ($ += u[l++] << x, x += 8, $ += u[l++] << x, x += 8), i = T[$ & C];
                        e: for (;;) {
                            if ($ >>>= r = i >>> 24, x -= r, 0 === (r = i >>> 16 & 255)) d[p++] = 65535 & i;
                            else {
                                if (!(16 & r)) {
                                    if (0 == (64 & r)) {
                                        i = T[(65535 & i) + ($ & (1 << r) - 1)];
                                        continue e
                                    }
                                    if (32 & r) {
                                        h.mode = 12;
                                        break t
                                    }
                                    t.msg = "invalid literal/length code", h.mode = 30;
                                    break t
                                }
                                n = 65535 & i, (r &= 15) && (x < r && ($ += u[l++] << x, x += 8), n += $ & (1 << r) - 1, $ >>>= r, x -= r), x < 15 && ($ += u[l++] << x, x += 8, $ += u[l++] << x, x += 8), i = E[$ & S];
                                i: for (;;) {
                                    if ($ >>>= r = i >>> 24, x -= r, !(16 & (r = i >>> 16 & 255))) {
                                        if (0 == (64 & r)) {
                                            i = E[(65535 & i) + ($ & (1 << r) - 1)];
                                            continue i
                                        }
                                        t.msg = "invalid distance code", h.mode = 30;
                                        break t
                                    }
                                    if (o = 65535 & i, x < (r &= 15) && ($ += u[l++] << x, (x += 8) < r && ($ += u[l++] << x, x += 8)), y < (o += $ & (1 << r) - 1)) {
                                        t.msg = "invalid distance too far back", h.mode = 30;
                                        break t
                                    }
                                    if ($ >>>= r, x -= r, (r = p - f) < o) {
                                        if (m < (r = o - r) && h.sane) {
                                            t.msg = "invalid distance too far back", h.mode = 30;
                                            break t
                                        }
                                        if (a = b, (s = 0) === _) {
                                            if (s += v - r, r < n) {
                                                for (n -= r; d[p++] = b[s++], --r;);
                                                s = p - o, a = d
                                            }
                                        } else if (_ < r) {
                                            if (s += v + _ - r, (r -= _) < n) {
                                                for (n -= r; d[p++] = b[s++], --r;);
                                                if (s = 0, _ < n) {
                                                    for (n -= r = _; d[p++] = b[s++], --r;);
                                                    s = p - o, a = d
                                                }
                                            }
                                        } else if (s += _ - r, r < n) {
                                            for (n -= r; d[p++] = b[s++], --r;);
                                            s = p - o, a = d
                                        }
                                        for (; 2 < n;) d[p++] = a[s++], d[p++] = a[s++], d[p++] = a[s++], n -= 3;
                                        n && (d[p++] = a[s++], 1 < n && (d[p++] = a[s++]))
                                    } else {
                                        for (s = p - o; d[p++] = d[s++], d[p++] = d[s++], d[p++] = d[s++], 2 < (n -= 3););
                                        n && (d[p++] = d[s++], 1 < n && (d[p++] = d[s++]))
                                    }
                                    break
                                }
                            }
                            break
                        }
                    } while (l < c && p < g);
                    $ &= (1 << (x -= (n = x >> 3) << 3)) - 1, t.next_in = l -= n, t.next_out = p, t.avail_in = l < c ? c - l + 5 : 5 - (l - c), t.avail_out = p < g ? g - p + 257 : 257 - (p - g), h.hold = $, h.bits = x
                }
            }, {}],
            35: [function (t, e, i) {
                "use strict";

                function A(t) {
                    return (t >>> 24 & 255) + (t >>> 8 & 65280) + ((65280 & t) << 8) + ((255 & t) << 24)
                }

                function r() {
                    this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new M.Buf16(320), this.work = new M.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
                }

                function n(t) {
                    var e;
                    return t && t.state ? (e = t.state, t.total_in = t.total_out = e.total = 0, t.msg = "", e.wrap && (t.adler = 1 & e.wrap), e.mode = W, e.last = 0, e.havedict = 0, e.dmax = 32768, e.head = null, e.hold = 0, e.bits = 0, e.lencode = e.lendyn = new M.Buf32(h), e.distcode = e.distdyn = new M.Buf32(l), e.sane = 1, e.back = -1, V) : G
                }

                function o(t) {
                    var e;
                    return t && t.state ? ((e = t.state).wsize = 0, e.whave = 0, e.wnext = 0, n(t)) : G
                }

                function s(t, e) {
                    var i, r;
                    return t && t.state ? (r = t.state, e < 0 ? (i = 0, e = -e) : (i = 1 + (e >> 4), e < 48 && (e &= 15)), e && (e < 8 || 15 < e) ? G : (null !== r.window && r.wbits !== e && (r.window = null), r.wrap = i, r.wbits = e, o(t))) : G
                }

                function a(t, e) {
                    var i;
                    return t ? (i = new r, (t.state = i).window = null, (e = s(t, e)) !== V && (t.state = null), e) : G
                }
                var N, B, M = t("../utils/common"),
                    F = t("./adler32"),
                    k = t("./crc32"),
                    U = t("./inffast"),
                    H = t("./inftrees"),
                    z = 1,
                    j = 2,
                    V = 0,
                    G = -2,
                    W = 1,
                    h = 852,
                    l = 592,
                    X = !0;
                i.inflateReset = o, i.inflateReset2 = s, i.inflateResetKeep = n, i.inflateInit = function (t) {
                    return a(t, 15)
                }, i.inflateInit2 = a, i.inflate = function (t, e) {
                    var i, r, n, o, s, a, h, l, u, c, p, d, f, g, y, v, m, _, b, $, x, T, E, C, S, w, P, L, R, O = 0,
                        I = new M.Buf8(4),
                        D = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                    if (!t || !t.state || !t.output || !t.input && 0 !== t.avail_in) return G;
                    12 === (i = t.state).mode && (i.mode = 13), s = t.next_out, n = t.output, h = t.avail_out, o = t.next_in, r = t.input, a = t.avail_in, l = i.hold, u = i.bits, c = a, p = h, T = V;
                    t: for (;;) switch (i.mode) {
                        case W:
                            if (0 === i.wrap) {
                                i.mode = 13;
                                break
                            }
                            for (; u < 16;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if (2 & i.wrap && 35615 === l) {
                                I[i.check = 0] = 255 & l, I[1] = l >>> 8 & 255, i.check = k(i.check, I, 2, 0), u = l = 0, i.mode = 2;
                                break
                            }
                            if (i.flags = 0, i.head && (i.head.done = !1), !(1 & i.wrap) || (((255 & l) << 8) + (l >> 8)) % 31) {
                                t.msg = "incorrect header check", i.mode = 30;
                                break
                            }
                            if (8 != (15 & l)) {
                                t.msg = "unknown compression method", i.mode = 30;
                                break
                            }
                            if (u -= 4, x = 8 + (15 & (l >>>= 4)), 0 === i.wbits) i.wbits = x;
                            else if (x > i.wbits) {
                                t.msg = "invalid window size", i.mode = 30;
                                break
                            }
                            i.dmax = 1 << x, t.adler = i.check = 1, i.mode = 512 & l ? 10 : 12, u = l = 0;
                            break;
                        case 2:
                            for (; u < 16;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if (i.flags = l, 8 != (255 & i.flags)) {
                                t.msg = "unknown compression method", i.mode = 30;
                                break
                            }
                            if (57344 & i.flags) {
                                t.msg = "unknown header flags set", i.mode = 30;
                                break
                            }
                            i.head && (i.head.text = l >> 8 & 1), 512 & i.flags && (I[0] = 255 & l, I[1] = l >>> 8 & 255, i.check = k(i.check, I, 2, 0)), u = l = 0, i.mode = 3;
                        case 3:
                            for (; u < 32;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            i.head && (i.head.time = l), 512 & i.flags && (I[0] = 255 & l, I[1] = l >>> 8 & 255, I[2] = l >>> 16 & 255, I[3] = l >>> 24 & 255, i.check = k(i.check, I, 4, 0)), u = l = 0, i.mode = 4;
                        case 4:
                            for (; u < 16;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            i.head && (i.head.xflags = 255 & l, i.head.os = l >> 8), 512 & i.flags && (I[0] = 255 & l, I[1] = l >>> 8 & 255, i.check = k(i.check, I, 2, 0)), u = l = 0, i.mode = 5;
                        case 5:
                            if (1024 & i.flags) {
                                for (; u < 16;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                i.length = l, i.head && (i.head.extra_len = l), 512 & i.flags && (I[0] = 255 & l, I[1] = l >>> 8 & 255, i.check = k(i.check, I, 2, 0)), u = l = 0
                            } else i.head && (i.head.extra = null);
                            i.mode = 6;
                        case 6:
                            if (1024 & i.flags && ((d = a < (d = i.length) ? a : d) && (i.head && (x = i.head.extra_len - i.length, i.head.extra || (i.head.extra = new Array(i.head.extra_len)), M.arraySet(i.head.extra, r, o, d, x)), 512 & i.flags && (i.check = k(i.check, r, d, o)), a -= d, o += d, i.length -= d), i.length)) break t;
                            i.length = 0, i.mode = 7;
                        case 7:
                            if (2048 & i.flags) {
                                if (0 === a) break t;
                                for (d = 0; x = r[o + d++], i.head && x && i.length < 65536 && (i.head.name += String.fromCharCode(x)), x && d < a;);
                                if (512 & i.flags && (i.check = k(i.check, r, d, o)), a -= d, o += d, x) break t
                            } else i.head && (i.head.name = null);
                            i.length = 0, i.mode = 8;
                        case 8:
                            if (4096 & i.flags) {
                                if (0 === a) break t;
                                for (d = 0; x = r[o + d++], i.head && x && i.length < 65536 && (i.head.comment += String.fromCharCode(x)), x && d < a;);
                                if (512 & i.flags && (i.check = k(i.check, r, d, o)), a -= d, o += d, x) break t
                            } else i.head && (i.head.comment = null);
                            i.mode = 9;
                        case 9:
                            if (512 & i.flags) {
                                for (; u < 16;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                if (l !== (65535 & i.check)) {
                                    t.msg = "header crc mismatch", i.mode = 30;
                                    break
                                }
                                u = l = 0
                            }
                            i.head && (i.head.hcrc = i.flags >> 9 & 1, i.head.done = !0), t.adler = i.check = 0, i.mode = 12;
                            break;
                        case 10:
                            for (; u < 32;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            t.adler = i.check = A(l), u = l = 0, i.mode = 11;
                        case 11:
                            if (0 === i.havedict) return t.next_out = s, t.avail_out = h, t.next_in = o, t.avail_in = a, i.hold = l, i.bits = u, 2;
                            t.adler = i.check = 1, i.mode = 12;
                        case 12:
                            if (5 === e || 6 === e) break t;
                        case 13:
                            if (i.last) {
                                l >>>= 7 & u, u -= 7 & u, i.mode = 27;
                                break
                            }
                            for (; u < 3;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            switch (i.last = 1 & l, --u, 3 & (l >>>= 1)) {
                                case 0:
                                    i.mode = 14;
                                    break;
                                case 1:
                                    if (function (t) {
                                            if (X) {
                                                var e;
                                                for (N = new M.Buf32(512), B = new M.Buf32(32), e = 0; e < 144;) t.lens[e++] = 8;
                                                for (; e < 256;) t.lens[e++] = 9;
                                                for (; e < 280;) t.lens[e++] = 7;
                                                for (; e < 288;) t.lens[e++] = 8;
                                                for (H(z, t.lens, 0, 288, N, 0, t.work, {
                                                        bits: 9
                                                    }), e = 0; e < 32;) t.lens[e++] = 5;
                                                H(j, t.lens, 0, 32, B, 0, t.work, {
                                                    bits: 5
                                                }), X = !1
                                            }
                                            t.lencode = N, t.lenbits = 9, t.distcode = B, t.distbits = 5
                                        }(i), i.mode = 20, 6 !== e) break;
                                    l >>>= 2, u -= 2;
                                    break t;
                                case 2:
                                    i.mode = 17;
                                    break;
                                case 3:
                                    t.msg = "invalid block type", i.mode = 30
                            }
                            l >>>= 2, u -= 2;
                            break;
                        case 14:
                            for (l >>>= 7 & u, u -= 7 & u; u < 32;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if ((65535 & l) != (l >>> 16 ^ 65535)) {
                                t.msg = "invalid stored block lengths", i.mode = 30;
                                break
                            }
                            if (i.length = 65535 & l, u = l = 0, i.mode = 15, 6 === e) break t;
                        case 15:
                            i.mode = 16;
                        case 16:
                            if (d = i.length) {
                                if (0 === (d = h < (d = a < d ? a : d) ? h : d)) break t;
                                M.arraySet(n, r, o, d, s), a -= d, o += d, h -= d, s += d, i.length -= d;
                                break
                            }
                            i.mode = 12;
                            break;
                        case 17:
                            for (; u < 14;) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if (i.nlen = 257 + (31 & l), l >>>= 5, u -= 5, i.ndist = 1 + (31 & l), l >>>= 5, u -= 5, i.ncode = 4 + (15 & l), l >>>= 4, u -= 4, 286 < i.nlen || 30 < i.ndist) {
                                t.msg = "too many length or distance symbols", i.mode = 30;
                                break
                            }
                            i.have = 0, i.mode = 18;
                        case 18:
                            for (; i.have < i.ncode;) {
                                for (; u < 3;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                i.lens[D[i.have++]] = 7 & l, l >>>= 3, u -= 3
                            }
                            for (; i.have < 19;) i.lens[D[i.have++]] = 0;
                            if (i.lencode = i.lendyn, i.lenbits = 7, E = {
                                    bits: i.lenbits
                                }, T = H(0, i.lens, 0, 19, i.lencode, 0, i.work, E), i.lenbits = E.bits, T) {
                                t.msg = "invalid code lengths set", i.mode = 30;
                                break
                            }
                            i.have = 0, i.mode = 19;
                        case 19:
                            for (; i.have < i.nlen + i.ndist;) {
                                for (; v = (O = i.lencode[l & (1 << i.lenbits) - 1]) >>> 16 & 255, m = 65535 & O, !((y = O >>> 24) <= u);) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                if (m < 16) l >>>= y, u -= y, i.lens[i.have++] = m;
                                else {
                                    if (16 === m) {
                                        for (C = y + 2; u < C;) {
                                            if (0 === a) break t;
                                            a--, l += r[o++] << u, u += 8
                                        }
                                        if (l >>>= y, u -= y, 0 === i.have) {
                                            t.msg = "invalid bit length repeat", i.mode = 30;
                                            break
                                        }
                                        x = i.lens[i.have - 1], d = 3 + (3 & l), l >>>= 2, u -= 2
                                    } else if (17 === m) {
                                        for (C = y + 3; u < C;) {
                                            if (0 === a) break t;
                                            a--, l += r[o++] << u, u += 8
                                        }
                                        u -= y, x = 0, d = 3 + (7 & (l >>>= y)), l >>>= 3, u -= 3
                                    } else {
                                        for (C = y + 7; u < C;) {
                                            if (0 === a) break t;
                                            a--, l += r[o++] << u, u += 8
                                        }
                                        u -= y, x = 0, d = 11 + (127 & (l >>>= y)), l >>>= 7, u -= 7
                                    }
                                    if (i.have + d > i.nlen + i.ndist) {
                                        t.msg = "invalid bit length repeat", i.mode = 30;
                                        break
                                    }
                                    for (; d--;) i.lens[i.have++] = x
                                }
                            }
                            if (30 === i.mode) break;
                            if (0 === i.lens[256]) {
                                t.msg = "invalid code -- missing end-of-block", i.mode = 30;
                                break
                            }
                            if (i.lenbits = 9, E = {
                                    bits: i.lenbits
                                }, T = H(z, i.lens, 0, i.nlen, i.lencode, 0, i.work, E), i.lenbits = E.bits, T) {
                                t.msg = "invalid literal/lengths set", i.mode = 30;
                                break
                            }
                            if (i.distbits = 6, i.distcode = i.distdyn, E = {
                                    bits: i.distbits
                                }, T = H(j, i.lens, i.nlen, i.ndist, i.distcode, 0, i.work, E), i.distbits = E.bits, T) {
                                t.msg = "invalid distances set", i.mode = 30;
                                break
                            }
                            if (i.mode = 20, 6 === e) break t;
                        case 20:
                            i.mode = 21;
                        case 21:
                            if (6 <= a && 258 <= h) {
                                t.next_out = s, t.avail_out = h, t.next_in = o, t.avail_in = a, i.hold = l, i.bits = u, U(t, p), s = t.next_out, n = t.output, h = t.avail_out, o = t.next_in, r = t.input, a = t.avail_in, l = i.hold, u = i.bits, 12 === i.mode && (i.back = -1);
                                break
                            }
                            for (i.back = 0; v = (O = i.lencode[l & (1 << i.lenbits) - 1]) >>> 16 & 255, m = 65535 & O, !((y = O >>> 24) <= u);) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if (v && 0 == (240 & v)) {
                                for (_ = y, b = v, $ = m; v = (O = i.lencode[$ + ((l & (1 << _ + b) - 1) >> _)]) >>> 16 & 255, m = 65535 & O, !(_ + (y = O >>> 24) <= u);) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                l >>>= _, u -= _, i.back += _
                            }
                            if (l >>>= y, u -= y, i.back += y, i.length = m, 0 === v) {
                                i.mode = 26;
                                break
                            }
                            if (32 & v) {
                                i.back = -1, i.mode = 12;
                                break
                            }
                            if (64 & v) {
                                t.msg = "invalid literal/length code", i.mode = 30;
                                break
                            }
                            i.extra = 15 & v, i.mode = 22;
                        case 22:
                            if (i.extra) {
                                for (C = i.extra; u < C;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                i.length += l & (1 << i.extra) - 1, l >>>= i.extra, u -= i.extra, i.back += i.extra
                            }
                            i.was = i.length, i.mode = 23;
                        case 23:
                            for (; v = (O = i.distcode[l & (1 << i.distbits) - 1]) >>> 16 & 255, m = 65535 & O, !((y = O >>> 24) <= u);) {
                                if (0 === a) break t;
                                a--, l += r[o++] << u, u += 8
                            }
                            if (0 == (240 & v)) {
                                for (_ = y, b = v, $ = m; v = (O = i.distcode[$ + ((l & (1 << _ + b) - 1) >> _)]) >>> 16 & 255, m = 65535 & O, !(_ + (y = O >>> 24) <= u);) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                l >>>= _, u -= _, i.back += _
                            }
                            if (l >>>= y, u -= y, i.back += y, 64 & v) {
                                t.msg = "invalid distance code", i.mode = 30;
                                break
                            }
                            i.offset = m, i.extra = 15 & v, i.mode = 24;
                        case 24:
                            if (i.extra) {
                                for (C = i.extra; u < C;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                i.offset += l & (1 << i.extra) - 1, l >>>= i.extra, u -= i.extra, i.back += i.extra
                            }
                            if (i.offset > i.dmax) {
                                t.msg = "invalid distance too far back", i.mode = 30;
                                break
                            }
                            i.mode = 25;
                        case 25:
                            if (0 === h) break t;
                            if (i.offset > (d = p - h)) {
                                if ((d = i.offset - d) > i.whave && i.sane) {
                                    t.msg = "invalid distance too far back", i.mode = 30;
                                    break
                                }
                                f = d > i.wnext ? (d -= i.wnext, i.wsize - d) : i.wnext - d, d > i.length && (d = i.length), g = i.window
                            } else g = n, f = s - i.offset, d = i.length;
                            for (h -= d = h < d ? h : d, i.length -= d; n[s++] = g[f++], --d;);
                            0 === i.length && (i.mode = 21);
                            break;
                        case 26:
                            if (0 === h) break t;
                            n[s++] = i.length, h--, i.mode = 21;
                            break;
                        case 27:
                            if (i.wrap) {
                                for (; u < 32;) {
                                    if (0 === a) break t;
                                    a--, l |= r[o++] << u, u += 8
                                }
                                if (p -= h, t.total_out += p, i.total += p, p && (t.adler = i.check = (i.flags ? k : F)(i.check, n, p, s - p)), p = h, (i.flags ? l : A(l)) !== i.check) {
                                    t.msg = "incorrect data check", i.mode = 30;
                                    break
                                }
                                u = l = 0
                            }
                            i.mode = 28;
                        case 28:
                            if (i.wrap && i.flags) {
                                for (; u < 32;) {
                                    if (0 === a) break t;
                                    a--, l += r[o++] << u, u += 8
                                }
                                if (l !== (4294967295 & i.total)) {
                                    t.msg = "incorrect length check", i.mode = 30;
                                    break
                                }
                                u = l = 0
                            }
                            i.mode = 29;
                        case 29:
                            T = 1;
                            break t;
                        case 30:
                            T = -3;
                            break t;
                        case 31:
                            return -4;
                        default:
                            return G
                    }
                    return t.next_out = s, t.avail_out = h, t.next_in = o, t.avail_in = a, i.hold = l, i.bits = u, (i.wsize || p !== t.avail_out && i.mode < 30 && (i.mode < 27 || 4 !== e)) && (w = (S = t).output, P = t.next_out, L = p - t.avail_out, null === (R = S.state).window && (R.wsize = 1 << R.wbits, R.wnext = 0, R.whave = 0, R.window = new M.Buf8(R.wsize)), L >= R.wsize ? (M.arraySet(R.window, w, P - R.wsize, R.wsize, 0), R.wnext = 0, R.whave = R.wsize) : (L < (S = R.wsize - R.wnext) && (S = L), M.arraySet(R.window, w, P - L, S, R.wnext), (L -= S) ? (M.arraySet(R.window, w, P - L, L, 0), R.wnext = L, R.whave = R.wsize) : (R.wnext += S, R.wnext === R.wsize && (R.wnext = 0), R.whave < R.wsize && (R.whave += S))), 0) ? (i.mode = 31, -4) : (c -= t.avail_in, p -= t.avail_out, t.total_in += c, t.total_out += p, i.total += p, i.wrap && p && (t.adler = i.check = (i.flags ? k : F)(i.check, n, p, t.next_out - p)), t.data_type = i.bits + (i.last ? 64 : 0) + (12 === i.mode ? 128 : 0) + (20 === i.mode || 15 === i.mode ? 256 : 0), T = (0 == c && 0 === p || 4 === e) && T === V ? -5 : T)
                }, i.inflateEnd = function (t) {
                    if (!t || !t.state) return G;
                    var e = t.state;
                    return e.window && (e.window = null), t.state = null, V
                }, i.inflateGetHeader = function (t, e) {
                    return t && t.state ? 0 == (2 & (t = t.state).wrap) ? G : ((t.head = e).done = !1, V) : G
                }, i.inflateInfo = "pako inflate (from Nodeca project)"
            }, {
                "../utils/common": 27,
                "./adler32": 29,
                "./crc32": 31,
                "./inffast": 34,
                "./inftrees": 36
            }],
            36: [function (t, e) {
                "use strict";
                var A = t("../utils/common"),
                    N = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                    B = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                    M = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                    F = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                e.exports = function (t, e, i, r, n, o, s, a) {
                    for (var h, l, u, c, p, d, f, g, y, v = a.bits, m = 0, _ = 0, b = 0, $ = 0, x = 0, T = 0, E = 0, C = 0, S = 0, w = 0, P = null, L = 0, R = new A.Buf16(16), O = new A.Buf16(16), I = null, D = 0, m = 0; m <= 15; m++) R[m] = 0;
                    for (_ = 0; _ < r; _++) R[e[i + _]]++;
                    for (x = v, $ = 15; 1 <= $ && 0 === R[$]; $--);
                    if ($ < x && (x = $), 0 === $) return n[o++] = 20971520, n[o++] = 20971520, a.bits = 1, 0;
                    for (b = 1; b < $ && 0 === R[b]; b++);
                    for (x < b && (x = b), m = C = 1; m <= 15; m++)
                        if (C <<= 1, (C -= R[m]) < 0) return -1;
                    if (0 < C && (0 === t || 1 !== $)) return -1;
                    for (O[1] = 0, m = 1; m < 15; m++) O[m + 1] = O[m] + R[m];
                    for (_ = 0; _ < r; _++) 0 !== e[i + _] && (s[O[e[i + _]]++] = _);
                    if (d = 0 === t ? (P = I = s, 19) : 1 === t ? (P = N, L -= 257, I = B, D -= 257, 256) : (P = M, I = F, -1), m = b, p = o, u = -1, c = (S = 1 << (T = x)) - 1, 1 === t && 852 < S || 2 === t && 592 < S) return 1;
                    for (E = _ = w = 0;;) {
                        for (y = s[_] < d ? (g = 0, s[_]) : s[_] > d ? (g = I[D + s[_]], P[L + s[_]]) : (g = 96, 0), h = 1 << (f = m - E), b = l = 1 << T; n[p + (w >> E) + (l -= h)] = f << 24 | g << 16 | y | 0, 0 !== l;);
                        for (h = 1 << m - 1; w & h;) h >>= 1;
                        if (0 !== h ? (w &= h - 1, w += h) : w = 0, _++, 0 == --R[m]) {
                            if (m === $) break;
                            m = e[i + s[_]]
                        }
                        if (x < m && (w & c) !== u) {
                            for (p += b, C = 1 << (T = m - (E = 0 === E ? x : E)); T + E < $ && !((C -= R[T + E]) <= 0);) T++, C <<= 1;
                            if (S += 1 << T, 1 === t && 852 < S || 2 === t && 592 < S) return 1;
                            n[u = w & c] = x << 24 | T << 16 | p - o | 0
                        }
                    }
                    return 0 !== w && (n[p + w] = m - E << 24 | 64 << 16 | 0), a.bits = x, 0
                }
            }, {
                "../utils/common": 27
            }],
            37: [function (t, e) {
                "use strict";
                e.exports = {
                    2: "need dictionary",
                    1: "stream end",
                    0: "",
                    "-1": "file error",
                    "-2": "stream error",
                    "-3": "data error",
                    "-4": "insufficient memory",
                    "-5": "buffer error",
                    "-6": "incompatible version"
                }
            }, {}],
            38: [function (t, e, i) {
                "use strict";

                function r(t) {
                    for (var e = t.length; 0 <= --e;) t[e] = 0
                }

                function h(t) {
                    return t < 256 ? z[t] : z[256 + (t >>> 7)]
                }

                function n(t, e) {
                    t.pending_buf[t.pending++] = 255 & e, t.pending_buf[t.pending++] = e >>> 8 & 255
                }

                function u(t, e, i) {
                    t.bi_valid > R - i ? (t.bi_buf |= e << t.bi_valid & 65535, n(t, t.bi_buf), t.bi_buf = e >> R - t.bi_valid, t.bi_valid += i - R) : (t.bi_buf |= e << t.bi_valid & 65535, t.bi_valid += i)
                }

                function c(t, e, i) {
                    u(t, i[2 * e], i[2 * e + 1])
                }

                function l(t, e) {
                    for (var i = 0; i |= 1 & t, t >>>= 1, i <<= 1, 0 < --e;);
                    return i >>> 1
                }

                function p(t, e, i) {
                    for (var r, n = new Array(L + 1), o = 0, s = 1; s <= L; s++) n[s] = o = o + i[s - 1] << 1;
                    for (r = 0; r <= e; r++) {
                        var a = t[2 * r + 1];
                        0 !== a && (t[2 * r] = l(n[a]++, a))
                    }
                }

                function a(t) {
                    for (var e = 0; e < C; e++) t.dyn_ltree[2 * e] = 0;
                    for (e = 0; e < S; e++) t.dyn_dtree[2 * e] = 0;
                    for (e = 0; e < w; e++) t.bl_tree[2 * e] = 0;
                    t.dyn_ltree[2 * I] = 1, t.opt_len = t.static_len = 0, t.last_lit = t.matches = 0
                }

                function d(t) {
                    8 < t.bi_valid ? n(t, t.bi_buf) : 0 < t.bi_valid && (t.pending_buf[t.pending++] = t.bi_buf), t.bi_buf = 0, t.bi_valid = 0
                }

                function o(t, e, i, r) {
                    var n = 2 * e,
                        o = 2 * i;
                    return t[n] < t[o] || t[n] === t[o] && r[e] <= r[i]
                }

                function f(t, e, i) {
                    for (var r = t.heap[i], n = i << 1; n <= t.heap_len && (n < t.heap_len && o(e, t.heap[n + 1], t.heap[n], t.depth) && n++, !o(e, r, t.heap[n], t.depth));) t.heap[i] = t.heap[n], i = n, n <<= 1;
                    t.heap[i] = r
                }

                function g(t, e, i) {
                    var r, n, o, s, a = 0;
                    if (0 !== t.last_lit)
                        for (; r = t.pending_buf[t.d_buf + 2 * a] << 8 | t.pending_buf[t.d_buf + 2 * a + 1], n = t.pending_buf[t.l_buf + a], a++, 0 == r ? c(t, n, e) : (c(t, (o = j[n]) + E + 1, e), 0 !== (s = B[o]) && u(t, n -= V[o], s), c(t, o = h(--r), i), 0 !== (s = M[o]) && u(t, r -= G[o], s)), a < t.last_lit;);
                    c(t, I, e)
                }

                function y(t, e) {
                    var i, r, n, o = e.dyn_tree,
                        s = e.stat_desc.static_tree,
                        a = e.stat_desc.has_stree,
                        h = e.stat_desc.elems,
                        l = -1;
                    for (t.heap_len = 0, t.heap_max = P, i = 0; i < h; i++) 0 !== o[2 * i] ? (t.heap[++t.heap_len] = l = i, t.depth[i] = 0) : o[2 * i + 1] = 0;
                    for (; t.heap_len < 2;) o[2 * (n = t.heap[++t.heap_len] = l < 2 ? ++l : 0)] = 1, t.depth[n] = 0, t.opt_len--, a && (t.static_len -= s[2 * n + 1]);
                    for (e.max_code = l, i = t.heap_len >> 1; 1 <= i; i--) f(t, o, i);
                    for (n = h; i = t.heap[1], t.heap[1] = t.heap[t.heap_len--], f(t, o, 1), r = t.heap[1], t.heap[--t.heap_max] = i, t.heap[--t.heap_max] = r, o[2 * n] = o[2 * i] + o[2 * r], t.depth[n] = (t.depth[i] >= t.depth[r] ? t.depth[i] : t.depth[r]) + 1, o[2 * i + 1] = o[2 * r + 1] = n, t.heap[1] = n++, f(t, o, 1), 2 <= t.heap_len;);
                    t.heap[--t.heap_max] = t.heap[1],
                        function (t, e) {
                            for (var i, r, n, o, s, a = e.dyn_tree, h = e.max_code, l = e.stat_desc.static_tree, u = e.stat_desc.has_stree, c = e.stat_desc.extra_bits, p = e.stat_desc.extra_base, d = e.stat_desc.max_length, f = 0, g = 0; g <= L; g++) t.bl_count[g] = 0;
                            for (a[2 * t.heap[t.heap_max] + 1] = 0, i = t.heap_max + 1; i < P; i++) d < (g = a[2 * a[2 * (r = t.heap[i]) + 1] + 1] + 1) && (g = d, f++), a[2 * r + 1] = g, h < r || (t.bl_count[g]++, o = 0, p <= r && (o = c[r - p]), s = a[2 * r], t.opt_len += s * (g + o), u && (t.static_len += s * (l[2 * r + 1] + o)));
                            if (0 !== f) {
                                do {
                                    for (g = d - 1; 0 === t.bl_count[g];) g--
                                } while (t.bl_count[g]--, t.bl_count[g + 1] += 2, t.bl_count[d]--, 0 < (f -= 2));
                                for (g = d; 0 !== g; g--)
                                    for (r = t.bl_count[g]; 0 !== r;) h < (n = t.heap[--i]) || (a[2 * n + 1] !== g && (t.opt_len += (g - a[2 * n + 1]) * a[2 * n], a[2 * n + 1] = g), r--)
                            }
                        }(t, e), p(o, l, t.bl_count)
                }

                function v(t, e, i) {
                    var r, n, o = -1,
                        s = e[1],
                        a = 0,
                        h = 7,
                        l = 4;
                    for (0 === s && (h = 138, l = 3), e[2 * (i + 1) + 1] = 65535, r = 0; r <= i; r++) n = s, s = e[2 * (r + 1) + 1], ++a < h && n === s || (a < l ? t.bl_tree[2 * n] += a : 0 !== n ? (n !== o && t.bl_tree[2 * n]++, t.bl_tree[2 * D]++) : a <= 10 ? t.bl_tree[2 * A]++ : t.bl_tree[2 * N]++, o = n, l = (a = 0) === s ? (h = 138, 3) : n === s ? (h = 6, 3) : (h = 7, 4))
                }

                function m(t, e, i) {
                    var r, n, o = -1,
                        s = e[1],
                        a = 0,
                        h = 7,
                        l = 4;
                    for (0 === s && (h = 138, l = 3), r = 0; r <= i; r++)
                        if (n = s, s = e[2 * (r + 1) + 1], !(++a < h && n === s)) {
                            if (a < l)
                                for (; c(t, n, t.bl_tree), 0 != --a;);
                            else 0 !== n ? (n !== o && (c(t, n, t.bl_tree), a--), c(t, D, t.bl_tree), u(t, a - 3, 2)) : a <= 10 ? (c(t, A, t.bl_tree), u(t, a - 3, 3)) : (c(t, N, t.bl_tree), u(t, a - 11, 7));
                            o = n, l = (a = 0) === s ? (h = 138, 3) : n === s ? (h = 6, 3) : (h = 7, 4)
                        }
                }

                function _(t, e, i, r) {
                    u(t, (x << 1) + (r ? 1 : 0), 3), r = e, e = i, i = !0, d(t = t), i && (n(t, e), n(t, ~e)), s.arraySet(t.pending_buf, t.window, r, e, t.pending), t.pending += e
                }
                var s = t("../utils/common"),
                    b = 0,
                    $ = 1,
                    x = 0,
                    T = 29,
                    E = 256,
                    C = E + 1 + T,
                    S = 30,
                    w = 19,
                    P = 2 * C + 1,
                    L = 15,
                    R = 16,
                    O = 7,
                    I = 256,
                    D = 16,
                    A = 17,
                    N = 18,
                    B = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                    M = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                    F = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                    k = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                    U = new Array(2 * (C + 2));
                r(U);
                var H = new Array(2 * S);
                r(H);
                var z = new Array(512);
                r(z);
                var j = new Array(256);
                r(j);
                var V = new Array(T);
                r(V);
                var G = new Array(S);
                r(G);

                function W(t, e) {
                    this.dyn_tree = t, this.max_code = 0, this.stat_desc = e
                }
                var X, Y, q, J = function (t, e, i, r, n) {
                        this.static_tree = t, this.extra_bits = e, this.extra_base = i, this.elems = r, this.max_length = n, this.has_stree = t && t.length
                    },
                    K = !1;
                i._tr_init = function (t) {
                    K || (function () {
                        for (var t, e, i, r = new Array(L + 1), n = 0, o = 0; o < T - 1; o++)
                            for (V[o] = n, t = 0; t < 1 << B[o]; t++) j[n++] = o;
                        for (j[n - 1] = o, o = i = 0; o < 16; o++)
                            for (G[o] = i, t = 0; t < 1 << M[o]; t++) z[i++] = o;
                        for (i >>= 7; o < S; o++)
                            for (G[o] = i << 7, t = 0; t < 1 << M[o] - 7; t++) z[256 + i++] = o;
                        for (e = 0; e <= L; e++) r[e] = 0;
                        for (t = 0; t <= 143;) U[2 * t + 1] = 8, t++, r[8]++;
                        for (; t <= 255;) U[2 * t + 1] = 9, t++, r[9]++;
                        for (; t <= 279;) U[2 * t + 1] = 7, t++, r[7]++;
                        for (; t <= 287;) U[2 * t + 1] = 8, t++, r[8]++;
                        for (p(U, C + 1, r), t = 0; t < S; t++) H[2 * t + 1] = 5, H[2 * t] = l(t, 5);
                        X = new J(U, B, E + 1, C, L), Y = new J(H, M, 0, S, L), q = new J(new Array(0), F, 0, w, O)
                    }(), K = !0), t.l_desc = new W(t.dyn_ltree, X), t.d_desc = new W(t.dyn_dtree, Y), t.bl_desc = new W(t.bl_tree, q), t.bi_buf = 0, t.bi_valid = 0, a(t)
                }, i._tr_stored_block = _, i._tr_flush_block = function (t, e, i, r) {
                    var n, o, s = 0;
                    0 < t.level ? (2 === t.strm.data_type && (t.strm.data_type = function (t) {
                        for (var e = 4093624447, i = 0; i <= 31; i++, e >>>= 1)
                            if (1 & e && 0 !== t.dyn_ltree[2 * i]) return b;
                        if (0 !== t.dyn_ltree[18] || 0 !== t.dyn_ltree[20] || 0 !== t.dyn_ltree[26]) return $;
                        for (i = 32; i < E; i++)
                            if (0 !== t.dyn_ltree[2 * i]) return $;
                        return b
                    }(t)), y(t, t.l_desc), y(t, t.d_desc), s = function (t) {
                        var e;
                        for (v(t, t.dyn_ltree, t.l_desc.max_code), v(t, t.dyn_dtree, t.d_desc.max_code), y(t, t.bl_desc), e = w - 1; 3 <= e && 0 === t.bl_tree[2 * k[e] + 1]; e--);
                        return t.opt_len += 3 * (e + 1) + 5 + 5 + 4, e
                    }(t), n = t.opt_len + 3 + 7 >>> 3, (o = t.static_len + 3 + 7 >>> 3) <= n && (n = o)) : n = o = i + 5, i + 4 <= n && -1 !== e ? _(t, e, i, r) : 4 === t.strategy || o === n ? (u(t, 2 + (r ? 1 : 0), 3), g(t, U, H)) : (u(t, 4 + (r ? 1 : 0), 3), function (t, e, i, r) {
                        var n;
                        for (u(t, e - 257, 5), u(t, i - 1, 5), u(t, r - 4, 4), n = 0; n < r; n++) u(t, t.bl_tree[2 * k[n] + 1], 3);
                        m(t, t.dyn_ltree, e - 1), m(t, t.dyn_dtree, i - 1)
                    }(t, t.l_desc.max_code + 1, t.d_desc.max_code + 1, s + 1), g(t, t.dyn_ltree, t.dyn_dtree)), a(t), r && d(t)
                }, i._tr_tally = function (t, e, i) {
                    return t.pending_buf[t.d_buf + 2 * t.last_lit] = e >>> 8 & 255, t.pending_buf[t.d_buf + 2 * t.last_lit + 1] = 255 & e, t.pending_buf[t.l_buf + t.last_lit] = 255 & i, t.last_lit++, 0 === e ? t.dyn_ltree[2 * i]++ : (t.matches++, e--, t.dyn_ltree[2 * (j[i] + E + 1)]++, t.dyn_dtree[2 * h(e)]++), t.last_lit === t.lit_bufsize - 1
                }, i._tr_align = function (t) {
                    u(t, 2, 3), c(t, I, U), 16 === (t = t).bi_valid ? (n(t, t.bi_buf), t.bi_buf = 0, t.bi_valid = 0) : 8 <= t.bi_valid && (t.pending_buf[t.pending++] = 255 & t.bi_buf, t.bi_buf >>= 8, t.bi_valid -= 8)
                }
            }, {
                "../utils/common": 27
            }],
            39: [function (t, e) {
                "use strict";
                e.exports = function () {
                    this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
                }
            }, {}]
        }, {}, [9])(9)
    });
var saveAs = saveAs || "undefined" != typeof navigator && navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator) || function (d) {
    "use strict";
    if ("undefined" == typeof navigator || !/MSIE [1-9]\./.test(navigator.userAgent)) {
        var f = d.document,
            i = d.URL || d.webkitURL || d,
            g = f.createElementNS("http://www.w3.org/1999/xhtml", "a"),
            y = !d.externalHost && "download" in g,
            v = d.webkitRequestFileSystem,
            m = d.requestFileSystem || v || d.mozRequestFileSystem,
            _ = "application/octet-stream",
            b = 0,
            $ = [],
            t = function () {
                for (var t = $.length; t--;) {
                    var e = $[t];
                    "string" == typeof e ? i.revokeObjectURL(e) : e.remove()
                }
                $.length = 0
            },
            x = function (t, e, i) {
                for (var r = (e = [].concat(e)).length; r--;) {
                    var n = t["on" + e[r]];
                    if ("function" == typeof n) try {
                        n.call(t, i || t)
                    } catch (t) {
                        ! function (t) {
                            (d.setImmediate || d.setTimeout)(function () {
                                throw t
                            }, 0)
                        }(t)
                    }
                }
            },
            r = function (r, i) {
                function t() {
                    var t = (d.URL || d.webkitURL || d).createObjectURL(r);
                    return $.push(t), t
                }

                function e() {
                    x(h, "writestart progress write writeend".split(" "))
                }

                function n() {
                    !u && s || (s = t()), a ? a.location.href = s : window.open(s, "_blank"), h.readyState = h.DONE, e()
                }

                function o(t) {
                    return function () {
                        if (h.readyState !== h.DONE) return t.apply(this, arguments)
                    }
                }
                var s, a, h = this,
                    l = r.type,
                    u = !1,
                    c = {
                        create: !0,
                        exclusive: !1
                    };
                if (h.readyState = h.INIT, i = i || "download", y) {
                    s = t(), f = d.document, (g = f.createElementNS("http://www.w3.org/1999/xhtml", "a")).href = s, g.download = i;
                    var p = f.createEvent("MouseEvents");
                    return p.initMouseEvent("click", !0, !1, d, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), g.dispatchEvent(p), h.readyState = h.DONE, void e()
                }
                d.chrome && l && l !== _ && (p = r.slice || r.webkitSlice, r = p.call(r, 0, r.size, _), u = !0), v && "download" !== i && (i += ".download"), l !== _ && !v || (a = d), m ? (b += r.size, m(d.TEMPORARY, b, o(function (t) {
                    t.root.getDirectory("saved", c, o(function (t) {
                        function e() {
                            t.getFile(i, c, o(function (i) {
                                i.createWriter(o(function (e) {
                                    e.onwriteend = function (t) {
                                        a.location.href = i.toURL(), $.push(i), h.readyState = h.DONE, x(h, "writeend", t)
                                    }, e.onerror = function () {
                                        var t = e.error;
                                        t.code !== t.ABORT_ERR && n()
                                    }, "writestart progress write abort".split(" ").forEach(function (t) {
                                        e["on" + t] = h["on" + t]
                                    }), e.write(r), h.abort = function () {
                                        e.abort(), h.readyState = h.DONE
                                    }, h.readyState = h.WRITING
                                }), n)
                            }), n)
                        }
                        t.getFile(i, {
                            create: !1
                        }, o(function (t) {
                            t.remove(), e()
                        }), o(function (t) {
                            (t.code === t.NOT_FOUND_ERR ? e : n)()
                        }))
                    }), n)
                }), n)) : n()
            },
            e = r.prototype,
            n = function (t, e) {
                return new r(t, e)
            };
        return e.abort = function () {
            this.readyState = this.DONE, x(this, "abort")
        }, e.readyState = e.INIT = 0, e.WRITING = 1, e.DONE = 2, e.error = e.onwritestart = e.onprogress = e.onwrite = e.onabort = e.onerror = e.onwriteend = null, d.addEventListener("unload", t, !1), n.unload = function () {
            t(), d.removeEventListener("unload", t, !1)
        }, n
    }
}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);
"undefined" != typeof module && (module.exports = saveAs);
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, RES, egret, egret;
! function (e) {
    var i, t = (i = egret.HashObject, __extends(r, i), r.prototype.addSubkey = function (t, e) {
        this.resourceConfig.addSubkey(t, e)
    }, r.prototype.loadFile = function (t, e, i) {}, r.prototype.getRes = function (t) {}, r.prototype.destroyRes = function (t) {
        return !1
    }, r.getStringPrefix = function (t) {
        if (!t) return "";
        var e = t.indexOf(".");
        return -1 != e ? t.substring(0, e) : ""
    }, r.getStringTail = function (t) {
        if (!t) return "";
        var e = t.indexOf(".");
        return -1 != e ? t.substring(e + 1) : ""
    }, r);

    function r() {
        var t = i.call(this) || this;
        return t.resourceConfig = null, t.resourceConfig = e.configInstance, t
    }
    e.AnalyzerBase = t, __reflect(t.prototype, "RES.AnalyzerBase")
}(RES = RES || {}),
function (n) {
    var e, t = (e = n.AnalyzerBase, __extends(i, e), i.prototype.loadFile = function (t, e, i) {
        var r;
        this.fileDic[t.name] ? e.call(i, t) : (r = this.getRequest(), this.resItemDic[r.hashCode] = {
            item: t,
            func: e,
            thisObject: i
        }, r.open(n.$getVirtualUrl(t.url)), r.send())
    }, i.prototype.getRequest = function () {
        var t = this.recycler.pop();
        return t || ((t = new egret.HttpRequest).addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), t.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this)), t.responseType = this._dataFormat, t
    }, i.prototype.onLoadFinish = function (t) {
        var e = t.target,
            i = this.resItemDic[e.hashCode];
        delete this.resItemDic[e.hashCode];
        var r = i.item,
            n = i.func;
        r.loaded = t.type == egret.Event.COMPLETE, r.loaded && this.analyzeData(r, e.response), this.recycler.push(e), n.call(i.thisObject, r)
    }, i.prototype.analyzeData = function (t, e) {
        t = t.name;
        this.fileDic[t] || "" != e && !e || (this.fileDic[t] = e)
    }, i.prototype.getRes = function (t) {
        return this.fileDic[t]
    }, i.prototype.hasRes = function (t) {
        return null != this.getRes(t)
    }, i.prototype.destroyRes = function (t) {
        return !!this.fileDic[t] && (this.onResourceDestroy(this.fileDic[t]), delete this.fileDic[t], !0)
    }, i.prototype.onResourceDestroy = function (t) {}, i);

    function i() {
        var t = e.call(this) || this;
        return t.fileDic = {}, t.resItemDic = [], t._dataFormat = egret.HttpResponseType.ARRAY_BUFFER, t.recycler = [], t
    }
    n.BinAnalyzer = t, __reflect(t.prototype, "RES.BinAnalyzer")
}(RES = RES || {}),
function (t) {
    var e = (Object.defineProperty(i.prototype, "loaded", {
        get: function () {
            return this.data ? this.data.loaded : this._loaded
        },
        set: function (t) {
            this.data && (this.data.loaded = t), this._loaded = t
        },
        enumerable: !0,
        configurable: !0
    }), i.prototype.toString = function () {
        return '[ResourceItem name="' + this.name + '" url="' + this.url + '" type="' + this.type + '"]'
    }, i.TYPE_XML = "xml", i.TYPE_IMAGE = "image", i.TYPE_BIN = "bin", i.TYPE_TEXT = "text", i.TYPE_JSON = "json", i.TYPE_SHEET = "sheet", i.TYPE_FONT = "font", i.TYPE_SOUND = "sound", i);

    function i(t, e, i) {
        this.groupName = "", this.data = null, this._loaded = !1, this.name = t, this.url = e, this.type = i
    }
    t.ResourceItem = e, __reflect(e.prototype, "RES.ResourceItem")
}(RES = RES || {}),
function (r) {
    var e, t = (e = r.BinAnalyzer, __extends(i, e), i.prototype.getRes = function (t) {
        var e, i = this.fileDic[t];
        return (i = i || this.textureMap[t]) || (e = r.AnalyzerBase.getStringPrefix(t), (i = this.fileDic[e]) && (t = r.AnalyzerBase.getStringTail(t), i = i.getTexture(t))), i
    }, i.prototype.onLoadFinish = function (t) {
        var e = t.target,
            i = this.resItemDic[e.$hashCode];
        delete this.resItemDic[e.hashCode];
        var r = i.item,
            n = i.func;
        if (r.loaded = t.type == egret.Event.COMPLETE, r.loaded)
            if (e instanceof egret.HttpRequest) {
                r.loaded = !1;
                var o = this.analyzeConfig(r, e.response);
                if (o) return this.loadImage(o, i), void this.recycler.push(e)
            } else {
                o = new egret.Texture;
                o._setBitmapData(e.data), this.analyzeBitmap(r, o)
            }(e instanceof egret.HttpRequest ? this.recycler : this.recyclerIamge). push(e), n.call(i.thisObject, r)
    }, i.prototype.analyzeConfig = function (e, i) {
        var t = e.name,
            r = "";
        try {
            var n = JSON.parse(i)
        } catch (t) {
            egret.$warn(1017, e.url, i)
        }
        return n && (this.sheetMap[t] = n, r = this.getRelativePath(e.url, n.file)), r
    }, i.prototype.analyzeBitmap = function (t, e) {
        var i, r = t.name;
        !this.fileDic[r] && e && (i = this.sheetMap[r], delete this.sheetMap[r], t = t.data && t.data.subkeys ? "" : r, t = this.parseSpriteSheet(e, i, t), this.fileDic[r] = t)
    }, i.prototype.getRelativePath = function (t, e) {
        var i = (t = t.split("\\").join("/")).match(/#.*|\?.*/),
            r = "";
        i && (r = i[0]);
        i = t.lastIndexOf("/");
        return (t = -1 != i ? t.substring(0, i + 1) + e : e) + r
    }, i.prototype.parseSpriteSheet = function (t, e, i) {
        var r = e.frames;
        if (!r) return null;
        var n, o = new egret.SpriteSheet(t),
            s = this.textureMap;
        for (n in r) {
            var a = r[n],
                h = o.createTexture(n, a.x, a.y, a.w, a.h, a.offX, a.offY, a.sourceW, a.sourceH);
            a.scale9grid && (a = a.scale9grid.split(","), h.scale9Grid = new egret.Rectangle(parseInt(a[0]), parseInt(a[1]), parseInt(a[2]), parseInt(a[3]))), null == s[n] && (s[n] = h, i && this.addSubkey(n, i))
        }
        return o
    }, i.prototype.destroyRes = function (t) {
        var e = this.fileDic[t];
        if (e) {
            delete this.fileDic[t];
            var i, r = void 0;
            for (i in e._textureMap) null == r && (r = e._textureMap[i], this.onResourceDestroy(r), r = null), delete this.textureMap[i];
            return e.dispose && e.dispose(), !0
        }
        return !1
    }, i.prototype.loadImage = function (t, e) {
        var i = this.getImageLoader();
        this.resItemDic[i.hashCode] = e, i.load(r.$getVirtualUrl(t))
    }, i.prototype.getImageLoader = function () {
        var t = this.recyclerIamge.pop();
        return t || ((t = new egret.ImageLoader).addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), t.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this)), t
    }, i.prototype.onResourceDestroy = function (t) {
        t && t.dispose()
    }, i);

    function i() {
        var t = e.call(this) || this;
        return t.sheetMap = {}, t.textureMap = {}, t.recyclerIamge = [], t._dataFormat = egret.HttpResponseType.TEXT, t
    }
    r.SheetAnalyzer = t, __reflect(t.prototype, "RES.SheetAnalyzer")
}(RES = RES || {}), RES = RES || {},
    function (n) {
        var e, t = (e = n.AnalyzerBase, __extends(i, e), i.prototype.loadFile = function (t, e, i) {
            var r;
            this.fileDic[t.name] ? e.call(i, t) : (r = this.getLoader(), this.resItemDic[r.$hashCode] = {
                item: t,
                func: e,
                thisObject: i
            }, r.load(n.$getVirtualUrl(t.url)))
        }, i.prototype.getLoader = function () {
            var t = this.recycler.pop();
            return t || ((t = new egret.ImageLoader).addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), t.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this)), t
        }, i.prototype.onLoadFinish = function (t) {
            var e = t.$target,
                i = this.resItemDic[e.$hashCode];
            delete this.resItemDic[e.$hashCode];
            var r = i.item,
                n = i.func;
            r.loaded = t.$type == egret.Event.COMPLETE, r.loaded && ((t = new egret.Texture)._setBitmapData(e.data), this.analyzeData(r, t)), this.recycler.push(e), n.call(i.thisObject, r)
        }, i.prototype.analyzeData = function (t, e) {
            var i = t.name;
            !this.fileDic[i] && e && (this.fileDic[i] = e, (t = t.data) && t.scale9grid && (t = t.scale9grid.split(","), e.scale9Grid = new egret.Rectangle(parseInt(t[0]), parseInt(t[1]), parseInt(t[2]), parseInt(t[3]))))
        }, i.prototype.getRes = function (t) {
            return this.fileDic[t]
        }, i.prototype.hasRes = function (t) {
            return null != this.getRes(t)
        }, i.prototype.destroyRes = function (t) {
            return !!this.fileDic[t] && (this.onResourceDestroy(this.fileDic[t]), delete this.fileDic[t], !0)
        }, i.prototype.onResourceDestroy = function (t) {
            t.dispose()
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.fileDic = {}, t.resItemDic = [], t.recycler = [], t
        }
        n.ImageAnalyzer = t, __reflect(t.prototype, "RES.ImageAnalyzer")
    }(RES = RES || {}),
    function (t) {
        var e, i = (e = t.BinAnalyzer, __extends(r, e), r);

        function r() {
            var t = e.call(this) || this;
            return t._dataFormat = egret.HttpResponseType.TEXT, t
        }
        t.TextAnalyzer = i, __reflect(i.prototype, "RES.TextAnalyzer")
    }(RES = RES || {}),
    function (t) {
        var e, i = (e = t.BinAnalyzer, __extends(r, e), r.prototype.analyzeData = function (e, i) {
            var t = e.name;
            if (!this.fileDic[t] && i) try {
                this.fileDic[t] = JSON.parse(i)
            } catch (t) {
                egret.$warn(1017, e.url, i)
            }
        }, r);

        function r() {
            var t = e.call(this) || this;
            return t._dataFormat = egret.HttpResponseType.TEXT, t
        }
        t.JsonAnalyzer = i, __reflect(i.prototype, "RES.JsonAnalyzer")
    }(RES = RES || {}),
    function (s) {
        var e, t = (e = egret.EventDispatcher, __extends(i, e), i.prototype.isGroupInLoading = function (t) {
            return void 0 !== this.itemListDic[t]
        }, i.prototype.loadGroup = function (t, e, i) {
            if (void 0 === i && (i = 0), !this.itemListDic[e] && e) {
                if (!t || 0 == t.length) {
                    egret.$warn(3201, e);
                    var r = new s.ResourceEvent(s.ResourceEvent.GROUP_LOAD_ERROR);
                    return r.groupName = e, void this.dispatchEvent(r)
                }
                this.priorityQueue[i] ? this.priorityQueue[i].push(e) : this.priorityQueue[i] = [e];
                for (var n = (this.itemListDic[e] = t).length, o = 0; o < n; o++) t[o].groupName = e;
                this.groupTotalDic[e] = t.length, this.numLoadedDic[e] = 0, this.next()
            }
        }, i.prototype.loadItem = function (t) {
            this.lazyLoadList.push(t), t.groupName = "", this.next()
        }, i.prototype.next = function () {
            for (; this.loadingCount < this.thread;) {
                var t = this.getOneResourceItem();
                if (!t) break;
                this.loadingCount++, t.loaded ? this.onItemComplete(t) : this.resInstance.$getAnalyzerByType(t.type).loadFile(t, this.onItemComplete, this)
            }
        }, i.prototype.getOneResourceItem = function () {
            if (0 < this.failedList.length) return this.failedList.shift();
            var t, e = Number.NEGATIVE_INFINITY;
            for (t in this.priorityQueue) e = Math.max(e, t);
            var i = this.priorityQueue[e];
            if (!i || 0 == i.length) return 0 == this.lazyLoadList.length ? null : this.lazyLoadList.pop();
            for (var r, n = i.length, o = 0; o < n && (this.queueIndex >= n && (this.queueIndex = 0), !(0 < (r = this.itemListDic[i[this.queueIndex]]).length)); o++) this.queueIndex++;
            return 0 == r.length ? null : r.shift()
        }, i.prototype.onItemComplete = function (t) {
            this.loadingCount--;
            var e, i = t.groupName;
            if (!t.loaded) {
                var r = this.retryTimesDic[t.name] || 1;
                if (!(r > this.maxRetryTimes)) return this.retryTimesDic[t.name] = r + 1, this.failedList.push(t), void this.next();
                delete this.retryTimesDic[t.name], s.ResourceEvent.dispatchResourceEvent(this.resInstance, s.ResourceEvent.ITEM_LOAD_ERROR, i, t)
            }
            i ? (this.numLoadedDic[i]++, e = this.numLoadedDic[i], r = this.groupTotalDic[i], t.loaded || (this.groupErrorDic[i] = !0), s.ResourceEvent.dispatchResourceEvent(this.resInstance, s.ResourceEvent.GROUP_PROGRESS, i, t, e, r), e == r && (r = this.groupErrorDic[i], this.removeGroupName(i), delete this.groupTotalDic[i], delete this.numLoadedDic[i], delete this.itemListDic[i], delete this.groupErrorDic[i], r ? s.ResourceEvent.dispatchResourceEvent(this, s.ResourceEvent.GROUP_LOAD_ERROR, i) : s.ResourceEvent.dispatchResourceEvent(this, s.ResourceEvent.GROUP_COMPLETE, i))) : this.callBack.call(this.resInstance, t), this.next()
        }, i.prototype.removeGroupName = function (t) {
            for (var e in this.priorityQueue) {
                for (var i = this.priorityQueue[e], r = 0, n = !1, o = i.length, s = 0; s < o; s++) {
                    if (i[s] == t) {
                        i.splice(r, 1), n = !0;
                        break
                    }
                    r++
                }
                if (n) {
                    0 == i.length && delete this.priorityQueue[e];
                    break
                }
            }
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.thread = 2, t.loadingCount = 0, t.callBack = null, t.resInstance = null, t.groupTotalDic = {}, t.numLoadedDic = {}, t.itemListDic = {}, t.groupErrorDic = {}, t.retryTimesDic = {}, t.maxRetryTimes = 3, t.failedList = new Array, t.priorityQueue = {}, t.lazyLoadList = new Array, t.analyzerDic = {}, t.queueIndex = 0, t
        }
        s.ResourceLoader = t, __reflect(t.prototype, "RES.ResourceLoader")
    }(RES = RES || {}),
    function (t) {
        var e, i = (e = t.SheetAnalyzer, __extends(r, e), r.prototype.analyzeConfig = function (t, e) {
            var i = t.name,
                r = "";
            try {
                var n = JSON.parse(e)
            } catch (t) {}
            return r = n ? this.getRelativePath(t.url, n.file) : this.getTexturePath(t.url, n = e), this.sheetMap[i] = n, r
        }, r.prototype.analyzeBitmap = function (t, e) {
            var i = t.name;
            !this.fileDic[i] && e && (t = this.sheetMap[i], delete this.sheetMap[i], t = new egret.BitmapFont(e, t), this.fileDic[i] = t)
        }, r.prototype.getTexturePath = function (t, e) {
            var i = "",
                r = e.split("\n")[2],
                e = r.indexOf('file="');
            return -1 != e && (e = (r = r.substring(e + 6)).indexOf('"'), i = r.substring(0, e)), t = -1 != (e = (t = t.split("\\").join("/")).lastIndexOf("/")) ? t.substring(0, e + 1) + i : i
        }, r.prototype.onResourceDestroy = function (t) {
            t && t.dispose()
        }, r);

        function r() {
            return e.call(this) || this
        }
        t.FontAnalyzer = i, __reflect(i.prototype, "RES.FontAnalyzer")
    }(RES = RES || {}),
    function (i) {
        var t = (e.prototype.getGroupByName = function (t) {
            var e = new Array;
            if (!this.groupDic[t]) return e;
            for (var i = this.groupDic[t], r = i.length, n = 0; n < r; n++) {
                var o = i[n];
                e.push(this.parseResourceItem(o))
            }
            return e
        }, e.prototype.getRawGroupByName = function (t) {
            return this.groupDic[t] || []
        }, e.prototype.createGroup = function (t, e, i) {
            if (!(i = void 0 === i ? !1 : i) && this.groupDic[t] || !e || 0 == e.length) return !1;
            for (var r = this.groupDic, n = [], o = e.length, s = 0; s < o; s++) {
                var a = e[s],
                    h = r[a];
                if (h)
                    for (var l = h.length, u = 0; u < l; u++) {
                        var c = h[u]; - 1 == n.indexOf(c) && n.push(c)
                    } else(c = this.keyMap[a]) ? -1 == n.indexOf(c) && n.push(c) : egret.$warn(3200, a)
            }
            return 0 != n.length && (this.groupDic[t] = n, !0)
        }, e.prototype.parseConfig = function (t, e) {
            if (t) {
                var i = t.resources;
                if (i)
                    for (var r = i.length, n = 0; n < r; n++) {
                        var o = (d = i[n]).url;
                        o && -1 == o.indexOf("://") && (d.url = e + o), this.addItemToKeyMap(d)
                    }
                var s = t.groups;
                if (s)
                    for (var a = s.length, n = 0; n < a; n++) {
                        for (var h = s[n], l = [], u = h.keys.split(","), c = u.length, p = 0; p < c; p++) {
                            var d, f = u[p].trim();
                            (d = this.keyMap[f]) && -1 == l.indexOf(d) && l.push(d)
                        }
                        this.groupDic[h.name] = l
                    }
            }
        }, e.prototype.addSubkey = function (t, e) {
            e = this.keyMap[e];
            e && !this.keyMap[t] && (this.keyMap[t] = e)
        }, e.prototype.addItemToKeyMap = function (t) {
            if (this.keyMap[t.name] || (this.keyMap[t.name] = t), t.hasOwnProperty("subkeys"))
                for (var e = t.subkeys.split(","), i = (t.subkeys = e).length, r = 0; r < i; r++) {
                    var n = e[r];
                    null == this.keyMap[n] && (this.keyMap[n] = t)
                }
        }, e.prototype.getName = function (t) {
            t = this.keyMap[t];
            return t ? t.name : ""
        }, e.prototype.getType = function (t) {
            t = this.keyMap[t];
            return t ? t.type : ""
        }, e.prototype.getRawResourceItem = function (t) {
            return this.keyMap[t]
        }, e.prototype.getResourceItem = function (t) {
            t = this.keyMap[t];
            return t ? this.parseResourceItem(t) : null
        }, e.prototype.parseResourceItem = function (t) {
            var e = new i.ResourceItem(t.name, t.url, t.type);
            return e.data = t, e
        }, e);

        function e() {
            this.keyMap = {}, this.groupDic = {}, i.configInstance = this
        }
        i.ResourceConfig = t, __reflect(t.prototype, "RES.ResourceConfig")
    }(RES = RES || {}),
    function (t) {
        var e, i = (e = t.BinAnalyzer, __extends(r, e), r.prototype.analyzeData = function (t, e) {
            t = t.name;
            if (!this.fileDic[t] && e) try {
                var i = egret.XML.parse(e);
                this.fileDic[t] = i
            } catch (t) {}
        }, r);

        function r() {
            var t = e.call(this) || this;
            return t._dataFormat = egret.HttpResponseType.TEXT, t
        }
        t.XMLAnalyzer = i, __reflect(i.prototype, "RES.XMLAnalyzer")
    }(RES = RES || {}),
    function (t) {
        var r, e = (r = egret.Event, __extends(s, r), s.dispatchResourceEvent = function (t, e, i, r, n, o) {
            void 0 === i && (i = ""), void 0 === r && (r = null), void 0 === n && (n = 0), void 0 === o && (o = 0);
            e = egret.Event.create(s, e);
            e.groupName = i, e.resItem = r, e.itemsLoaded = n, e.itemsTotal = o;
            t = t.dispatchEvent(e);
            return egret.Event.release(e), t
        }, s.ITEM_LOAD_ERROR = "itemLoadError", s.CONFIG_COMPLETE = "configComplete", s.CONFIG_LOAD_ERROR = "configLoadError", s.GROUP_PROGRESS = "groupProgress", s.GROUP_COMPLETE = "groupComplete", s.GROUP_LOAD_ERROR = "groupLoadError", s);

        function s(t, e, i) {
            i = r.call(this, t, e = void 0 === e ? !1 : e, i = void 0 === i ? !1 : i) || this;
            return i.itemsLoaded = 0, i.itemsTotal = 0, i.groupName = "", i.resItem = null, i
        }
        t.ResourceEvent = e, __reflect(e.prototype, "RES.ResourceEvent")
    }(RES = RES || {}),
    function (t) {
        var e, i, r;

        function n() {
            var t = i.call(this) || this;
            return t._versionInfo = {}, t
        }
        e = t.web || (t.web = {}), i = egret.EventDispatcher, __extends(n, i), n.prototype.fetchVersion = function (t) {
            t.onSuccess(null)
        }, n.prototype.getChangeList = function () {
            return []
        }, n.prototype.getVirtualUrl = function (t) {
            return t
        }, r = n, e.Html5VersionController = r, __reflect(r.prototype, "RES.web.Html5VersionController", ["RES.VersionController", "RES.IVersionController"]), egret.Capabilities.runtimeType == egret.RuntimeType.WEB && (t.VersionController = r)
    }(RES = RES || {}),
    function (t) {
        var e, i;

        function r() {
            this._versionInfo = {}, this._versionPath = "", this._localFileArr = []
        }
        e = t.native || (t.native = {}), r.prototype.fetchVersion = function (t) {
            t.onSuccess(null)
        }, r.prototype.getList = function (e, t, i) {
            void 0 === i && (i = "");
            var r = egret.PromiseObject.create();
            r.onSuccessFunc = function (t) {
                e(t)
            }, r.onErrorFunc = function () {
                console.error("list files error")
            }, "assets" == t ? egret_native.Game.listResource(i, r) : egret_native.Game.listUpdate(i, r)
        }, r.prototype.getChangeList = function () {
            var t, e = [],
                i = this._localFileArr;
            for (t in this._versionInfo) i.indexOf(this.getVirtualUrl(t)) < 0 && e.push({
                url: this.getVirtualUrl(t),
                size: this._versionInfo[t].s
            });
            return e
        }, r.prototype.getVirtualUrl = function (t) {
            return t
        }, r.prototype.getLocalData = function (t) {
            if (egret_native.readUpdateFileSync && egret_native.readResourceFileSync) {
                var e = egret_native.readUpdateFileSync(t);
                if (null != e) return JSON.parse(e);
                if (null != (e = egret_native.readResourceFileSync(t))) return JSON.parse(e)
            }
            return null
        }, i = r, e.NativeVersionController = i, __reflect(i.prototype, "RES.native.NativeVersionController", ["RES.VersionController", "RES.IVersionController"]), egret.Capabilities.runtimeType == egret.RuntimeType.NATIVE && (t.VersionController = i)
    }(RES = RES || {}),
    function (n) {
        var e, t = (e = n.AnalyzerBase, __extends(i, e), i.prototype.loadFile = function (t, e, i) {
            var r;
            this.soundDic[t.name] ? e.call(i, t) : ((r = new egret.Sound).addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), r.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this), this.resItemDic[r.$hashCode] = {
                item: t,
                func: e,
                thisObject: i
            }, r.load(n.$getVirtualUrl(t.url)), t.data && (r.type = t.data.soundType))
        }, i.prototype.onLoadFinish = function (t) {
            var e = t.$target;
            e.removeEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), e.removeEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this);
            var i = this.resItemDic[e.$hashCode];
            delete this.resItemDic[e.$hashCode];
            var r = i.item,
                n = i.func;
            r.loaded = t.$type == egret.Event.COMPLETE, r.loaded && this.analyzeData(r, e), n.call(i.thisObject, r)
        }, i.prototype.analyzeData = function (t, e) {
            t = t.name;
            !this.soundDic[t] && e && (this.soundDic[t] = e)
        }, i.prototype.getRes = function (t) {
            return this.soundDic[t]
        }, i.prototype.hasRes = function (t) {
            return !!this.getRes(t)
        }, i.prototype.destroyRes = function (t) {
            return !!this.soundDic[t] && (delete this.soundDic[t], !0)
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.soundDic = {}, t.resItemDic = [], t
        }
        n.SoundAnalyzer = t, __reflect(t.prototype, "RES.SoundAnalyzer")
    }(RES = RES || {}),
    function (s) {
        s.registerAnalyzer = function (t, e) {
            o.registerAnalyzer(t, e)
        }, s.getAnalyzer = function (t) {
            return o.$getAnalyzerByType(t)
        }, s.registerVersionController = function (t) {
            o.$registerVersionController(t)
        }, s.getVersionController = function () {
            return o.vcs
        }, s.loadConfig = function (t, e, i) {
            o.loadConfig(t, e = void 0 === e ? "" : e, i = void 0 === i ? "json" : i)
        }, s.loadGroup = function (t, e) {
            o.loadGroup(t, e = void 0 === e ? 0 : e)
        }, s.isGroupLoaded = function (t) {
            return o.isGroupLoaded(t)
        }, s.getGroupByName = function (t) {
            return o.getGroupByName(t)
        }, s.createGroup = function (t, e, i) {
            return o.createGroup(t, e, i = void 0 === i ? !1 : i)
        }, s.hasRes = function (t) {
            return o.hasRes(t)
        }, s.parseConfig = function (t, e) {
            o.parseConfig(t, e = void 0 === e ? "" : e)
        }, s.getRes = function (t) {
            return o.getRes(t)
        }, s.getResAsync = function (t, e, i) {
            o.getResAsync(t, e, i)
        }, s.getResByUrl = function (t, e, i, r) {
            o.getResByUrl(t, e, i, r = void 0 === r ? "" : r)
        }, s.destroyRes = function (t, e) {
            return o.destroyRes(t, e)
        }, s.setMaxLoadingThread = function (t) {
            o.setMaxLoadingThread(t)
        }, s.setMaxRetryTimes = function (t) {
            o.setMaxRetryTimes(t)
        }, s.addEventListener = function (t, e, i, r, n) {
            o.addEventListener(t, e, i, r = void 0 === r ? !1 : r, n = void 0 === n ? 0 : n)
        }, s.removeEventListener = function (t, e, i, r) {
            o.removeEventListener(t, e, i, r = void 0 === r ? !1 : r)
        }, s.$getVirtualUrl = function (t) {
            return o.vcs ? o.vcs.getVirtualUrl(t) : t
        };
        var e, t = (e = egret.EventDispatcher, __extends(a, e), a.prototype.$getAnalyzerByType = function (t) {
            var e = this.analyzerDic[t];
            if (!e) {
                var i = this.analyzerClassMap[t];
                if (!i) return egret.$error(3203, t), null;
                e = this.analyzerDic[t] = new i
            }
            return e
        }, a.prototype.registerAnalyzer = function (t, e) {
            this.analyzerClassMap[t] = e
        }, a.prototype.$registerVersionController = function (t) {
            this.vcs = t
        }, a.prototype.init = function () {
            this.vcs = new s.VersionController;
            var t = this.analyzerClassMap;
            t[s.ResourceItem.TYPE_BIN] = s.BinAnalyzer, t[s.ResourceItem.TYPE_IMAGE] = s.ImageAnalyzer, t[s.ResourceItem.TYPE_TEXT] = s.TextAnalyzer, t[s.ResourceItem.TYPE_JSON] = s.JsonAnalyzer, t[s.ResourceItem.TYPE_SHEET] = s.SheetAnalyzer, t[s.ResourceItem.TYPE_FONT] = s.FontAnalyzer, t[s.ResourceItem.TYPE_SOUND] = s.SoundAnalyzer, t[s.ResourceItem.TYPE_XML] = s.XMLAnalyzer, this.resConfig = new s.ResourceConfig, this.resLoader = new s.ResourceLoader, this.resLoader.callBack = this.onResourceItemComp, (this.resLoader.resInstance = this).resLoader.addEventListener(s.ResourceEvent.GROUP_COMPLETE, this.onGroupComp, this), this.resLoader.addEventListener(s.ResourceEvent.GROUP_LOAD_ERROR, this.onGroupError, this)
        }, a.prototype.loadConfig = function (t, e, i) {
            this.configItemList.push({
                url: t,
                resourceRoot: e,
                type: i = void 0 === i ? "json" : i
            }), this.callLaterFlag || (egret.callLater(this.startLoadConfig, this), this.callLaterFlag = !0)
        }, a.prototype.startLoadConfig = function () {
            var i = this;
            this.callLaterFlag = !1;
            var t = this.configItemList;
            this.configItemList = [];
            for (var e = (this.loadingConfigList = t).length, r = [], n = 0; n < e; n++) {
                var o = t[n],
                    o = new s.ResourceItem(o.url, o.url, o.type);
                r.push(o)
            }
            this.vcs ? this.vcs.fetchVersion({
                onSuccess: function (t) {
                    i.resLoader.loadGroup(r, a.GROUP_CONFIG, Number.MAX_VALUE)
                },
                onFail: function (t, e) {
                    s.ResourceEvent.dispatchResourceEvent(i, s.ResourceEvent.CONFIG_LOAD_ERROR)
                }
            }) : this.resLoader.loadGroup(r, a.GROUP_CONFIG, Number.MAX_VALUE)
        }, a.prototype.isGroupLoaded = function (t) {
            return -1 != this.loadedGroups.indexOf(t)
        }, a.prototype.getGroupByName = function (t) {
            return this.resConfig.getGroupByName(t)
        }, a.prototype.loadGroup = function (t, e) {
            var i;
            void 0 === e && (e = 0), -1 == this.loadedGroups.indexOf(t) ? this.resLoader.isGroupInLoading(t) || (this.configComplete ? (i = this.resConfig.getGroupByName(t), this.resLoader.loadGroup(i, t, e)) : this.groupNameList.push({
                name: t,
                priority: e
            })) : s.ResourceEvent.dispatchResourceEvent(this, s.ResourceEvent.GROUP_COMPLETE, t)
        }, a.prototype.createGroup = function (t, e, i) {
            var r;
            return !(i = void 0 === i ? !1 : i) || -1 != (r = this.loadedGroups.indexOf(t)) && this.loadedGroups.splice(r, 1), this.resConfig.createGroup(t, e, i)
        }, a.prototype.onGroupComp = function (t) {
            if (t.groupName == a.GROUP_CONFIG) {
                for (var e = this.loadingConfigList.length, i = 0; i < e; i++) {
                    var r = this.loadingConfigList[i],
                        n = this.$getAnalyzerByType(r.type),
                        o = n.getRes(r.url);
                    n.destroyRes(r.url), this.resConfig.parseConfig(o, r.resourceRoot)
                }
                this.configComplete = !0, this.loadingConfigList = null, s.ResourceEvent.dispatchResourceEvent(this, s.ResourceEvent.CONFIG_COMPLETE), this.loadDelayGroups()
            } else this.loadedGroups.push(t.groupName), this.dispatchEvent(t)
        }, a.prototype.loadDelayGroups = function () {
            var t = this.groupNameList;
            this.groupNameList = [];
            for (var e = t.length, i = 0; i < e; i++) {
                var r = t[i];
                this.loadGroup(r.name, r.priority)
            }
        }, a.prototype.onGroupError = function (t) {
            t.groupName == a.GROUP_CONFIG ? (this.loadingConfigList = null, s.ResourceEvent.dispatchResourceEvent(this, s.ResourceEvent.CONFIG_LOAD_ERROR)) : this.dispatchEvent(t)
        }, a.prototype.hasRes = function (t) {
            if ("" == this.resConfig.getType(t)) {
                t = s.AnalyzerBase.getStringTail(t);
                if ("" == this.resConfig.getType(t)) return !1
            }
            return !0
        }, a.prototype.parseConfig = function (t, e) {
            this.resConfig.parseConfig(t, e), this.configComplete || this.loadingConfigList || (this.configComplete = !0, this.loadDelayGroups())
        }, a.prototype.getRes = function (t) {
            if ("" == (e = this.resConfig.getType(t))) {
                var e, i = s.AnalyzerBase.getStringPrefix(t);
                if ("" == (e = this.resConfig.getType(i))) return null
            }
            return this.$getAnalyzerByType(e).getRes(t)
        }, a.prototype.getResAsync = function (t, e, i) {
            var r = this.resConfig.getType(t),
                n = this.resConfig.getName(t);
            "" != r || (n = s.AnalyzerBase.getStringPrefix(t), "" != (r = this.resConfig.getType(n))) ? (r = this.$getAnalyzerByType(r).getRes(t)) ? egret.$callAsync(e, i, r, t) : (t = {
                key: t,
                compFunc: e,
                thisObject: i
            }, this.asyncDic[n] ? this.asyncDic[n].push(t) : (this.asyncDic[n] = [t], n = this.resConfig.getResourceItem(n), this.resLoader.loadItem(n))) : egret.$callAsync(e, i)
        }, a.prototype.getResByUrl = function (t, e, i, r) {
            var n, o;
            void 0 === r && (r = ""), t ? (r = r || this.getTypeByUrl(t), null != this._loadedUrlTypes[t] && this._loadedUrlTypes[t] != r && egret.$warn(3202), this._loadedUrlTypes[t] = r, n = t, (o = this.$getAnalyzerByType(r).getRes(n)) ? egret.$callAsync(e, i, o, t) : (o = {
                key: n,
                compFunc: e,
                thisObject: i
            }, this.asyncDic[n] ? this.asyncDic[n].push(o) : (this.asyncDic[n] = [o], r = new s.ResourceItem(n, t, r), this.resLoader.loadItem(r)))) : egret.$callAsync(e, i)
        }, a.prototype.getTypeByUrl = function (t) {
            var e, i = t.substr(t.lastIndexOf(".") + 1);
            switch (i = i && i.toLowerCase()) {
                case s.ResourceItem.TYPE_XML:
                case s.ResourceItem.TYPE_JSON:
                case s.ResourceItem.TYPE_SHEET:
                    e = i;
                    break;
                case "png":
                case "jpg":
                case "gif":
                case "jpeg":
                case "bmp":
                    e = s.ResourceItem.TYPE_IMAGE;
                    break;
                case "fnt":
                    e = s.ResourceItem.TYPE_FONT;
                    break;
                case "txt":
                    e = s.ResourceItem.TYPE_TEXT;
                    break;
                case "mp3":
                case "ogg":
                case "mpeg":
                case "wav":
                case "m4a":
                case "mp4":
                case "aiff":
                case "wma":
                case "mid":
                    e = s.ResourceItem.TYPE_SOUND;
                    break;
                default:
                    e = s.ResourceItem.TYPE_BIN
            }
            return e
        }, a.prototype.onResourceItemComp = function (t) {
            var e = this.asyncDic[t.name];
            delete this.asyncDic[t.name];
            for (var i = this.$getAnalyzerByType(t.type), r = e.length, n = 0; n < r; n++) {
                var o = e[n],
                    s = i.getRes(o.key);
                o.compFunc.call(o.thisObject, s, o.key)
            }
        }, a.prototype.destroyRes = function (t, e) {
            void 0 === e && (e = !0);
            var i = this.resConfig.getRawGroupByName(t);
            if (i && 0 < i.length) {
                var r = this.loadedGroups.indexOf(t); - 1 != r && this.loadedGroups.splice(r, 1);
                for (var n = i.length, o = 0; o < n; o++) {
                    var s = i[o];
                    !e && this.isResInLoadedGroup(s.name) || (s.loaded = !1, this.$getAnalyzerByType(s.type).destroyRes(s.name), this.removeLoadedGroupsByItemName(s.name))
                }
                return !0
            }
            r = this.resConfig.getType(t);
            if ("" == r) return null != (r = this._loadedUrlTypes[t]) && "" != r && (delete this._loadedUrlTypes[t], this.$getAnalyzerByType(r).destroyRes(t), !0);
            (s = this.resConfig.getRawResourceItem(t)).loaded = !1;
            t = this.$getAnalyzerByType(r).destroyRes(t);
            return this.removeLoadedGroupsByItemName(s.name), t
        }, a.prototype.removeLoadedGroupsByItemName = function (t) {
            for (var e = this.loadedGroups, i = e.length, r = 0; r < i; r++)
                for (var n = this.resConfig.getRawGroupByName(e[r]), o = n.length, s = 0; s < o; s++)
                    if (n[s].name == t) {
                        e.splice(r, 1), r--, i = e.length;
                        break
                    }
        }, a.prototype.isResInLoadedGroup = function (t) {
            for (var e = this.loadedGroups, i = e.length, r = 0; r < i; r++)
                for (var n = this.resConfig.getRawGroupByName(e[r]), o = n.length, s = 0; s < o; s++)
                    if (n[s].name == t) return !0;
            return !1
        }, a.prototype.setMaxLoadingThread = function (t) {
            this.resLoader.thread = t = t < 1 ? 1 : t
        }, a.prototype.setMaxRetryTimes = function (t) {
            t = Math.max(t, 0), this.resLoader.maxRetryTimes = t
        }, a.GROUP_CONFIG = "RES__CONFIG", a);

        function a() {
            var t = e.call(this) || this;
            return t.analyzerDic = {}, t.analyzerClassMap = {}, t.configItemList = [], t.callLaterFlag = !1, t.configComplete = !1, t.loadedGroups = [], t.groupNameList = [], t.asyncDic = {}, t._loadedUrlTypes = {}, t.init(), t
        }
        __reflect(t.prototype, "Resource");
        var o = new t
    }(RES = RES || {}),
    function (r) {
        var e, t = (e = r.BinAnalyzer, __extends(i, e), i.prototype.onLoadFinish = function (t) {
            var e = t.target,
                i = this.resItemDic[e.$hashCode];
            delete this.resItemDic[e.hashCode];
            var r = i.item,
                n = i.func;
            if (r.loaded = t.type == egret.Event.COMPLETE, r.loaded)
                if (e instanceof egret.HttpRequest) {
                    r.loaded = !1;
                    t = this.analyzeConfig(r, e.response);
                    if (t) return this.loadImage(t, i), void this.recycler.push(e)
                } else this.analyzeBitmap(r, e.data);
            (e instanceof egret.HttpRequest ? this.recycler : this.recyclerIamge).push(e), n.call(i.thisObject, r)
        }, i.prototype.analyzeConfig = function (e, i) {
            var t = e.name,
                r = "";
            try {
                var n = JSON.parse(i)
            } catch (t) {
                egret.$warn(1017, e.url, i)
            }
            if (n)
                if ((this.sheetMap[t] = n).file) r = this.getRelativePath(e.url, n.file);
                else {
                    var e = e.url.split("?"),
                        o = e[0].split("/");
                    o[o.length - 1] = o[o.length - 1].split(".")[0] + ".png";
                    for (var r = "", s = 0; s < o.length; s++) r += o[s] + (s < o.length - 1 ? "/" : "");
                    2 == e.length && (r += e[2])
                } return r
        }, i.prototype.analyzeBitmap = function (t, e) {
            var i, r = t.name;
            !this.fileDic[r] && e && (i = this.sheetMap[r], delete this.sheetMap[r], t = t.data && t.data.subkeys ? "" : r, t = this.parseAnimation(e, i, t), this.fileDic[r] = t)
        }, i.prototype.getRelativePath = function (t, e) {
            var i = (t = t.split("\\").join("/")).lastIndexOf("/");
            return t = -1 != i ? t.substring(0, i + 1) + e : e
        }, i.prototype.parseAnimation = function (t, e, i) {
            for (var r = Object.keys(e.mc), n = e.mc[r[0]].frames, o = n.length, s = 0; s < o; s++) {
                var a = e.res[n[s].res],
                    h = new egret.Texture;
                h._bitmapData = t, h.$initData(a.x, a.y, a.w, a.h, n[s].x, n[s].y, n[s].sourceW, n[s].sourceH, t.width, t.height)
            }
            return []
        }, i.prototype.destroyRes = function (t) {
            return !!this.fileDic[t] && (delete this.fileDic[t], !0)
        }, i.prototype.loadImage = function (t, e) {
            var i = this.getImageLoader();
            this.resItemDic[i.hashCode] = e, i.load(r.$getVirtualUrl(t))
        }, i.prototype.getImageLoader = function () {
            var t = this.recyclerIamge.pop();
            return t || ((t = new egret.ImageLoader).addEventListener(egret.Event.COMPLETE, this.onLoadFinish, this), t.addEventListener(egret.IOErrorEvent.IO_ERROR, this.onLoadFinish, this)), t
        }, i);

        function i() {
            var t = e.call(this) || this;
            return t.sheetMap = {}, t.recyclerIamge = [], t._dataFormat = egret.HttpResponseType.TEXT, t
        }
        r.AnimationAnalyzer = t, __reflect(t.prototype, "RES.AnimationAnalyzer")
    }(RES = RES || {}),
    function (t) {
        t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.en_US = t.$locale_strings.en_US || {};
        t = t.$locale_strings.en_US;
        t[3200] = "RES.createGroup() passed in non-existed key value in configuration: {0}", t[3201] = 'RES loaded non-existed or empty resource group:"{0}"', t[3202] = "Do not use the different types of ways to load the same material!", t[3203] = "Can't find the analyzer of the specified file type:{0} Please register the specified analyzer in the initialization of the project first,then start the resource loading process"
    }(egret = egret || {}),
    function (t) {
        t.$locale_strings = t.$locale_strings || {}, t.$locale_strings.en_US = t.$locale_strings.en_US || {};
        t = t.$locale_strings.en_US;
        t[3200] = "RES.createGroup()            : {0}", t[3201] = 'RES            :"{0}"', t[3202] = "                    ", t[3203] = "             :{0}                             "
    }(egret = egret || {});
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    egret, egret, egret, egret;
egret = egret || {},
    function (r) {
        var i, t = (i = r.EventDispatcher, __extends(n, i), n.prototype.connect = function (t, e) {
            this._connecting || this._connected || (this._connecting = !0, this.socket.connect(t, e))
        }, n.prototype.connectByUrl = function (t) {
            this._connecting || this._connected || (this._connecting = !0, this.socket.connectByUrl(t))
        }, n.prototype.close = function () {
            this._connected && this.socket.close()
        }, n.prototype.onConnect = function () {
            this._connected = !0, this._connecting = !1, this.dispatchEventWith(r.Event.CONNECT)
        }, n.prototype.onClose = function () {
            this._connected = !1, this.dispatchEventWith(r.Event.CLOSE)
        }, n.prototype.onError = function () {
            this._connecting && (this._connecting = !1), this.dispatchEventWith(r.IOErrorEvent.IO_ERROR)
        }, n.prototype.onSocketData = function (t) {
            "string" == typeof t ? this._readMessage += t : this._readByte._writeUint8Array(new Uint8Array(t)), r.ProgressEvent.dispatchProgressEvent(this, r.ProgressEvent.SOCKET_DATA)
        }, n.prototype.flush = function () {
            this._connected ? (this._writeMessage && (this.socket.send(this._writeMessage), this._writeMessage = ""), this._bytesWrite && (this.socket.send(this._writeByte.buffer), this._bytesWrite = !1, this._writeByte.clear()), this._isReadySend = !1) : r.$warn(3101)
        }, n.prototype.writeUTF = function (t) {
            this._connected ? (this._type == n.TYPE_BINARY ? (this._bytesWrite = !0, this._writeByte.writeUTF(t)) : this._writeMessage += t, this.flush()) : r.$warn(3101)
        }, n.prototype.readUTF = function () {
            var t;
            return this._type == n.TYPE_BINARY ? (this._readByte.position = 0, t = this._readByte.readUTF(), this._readByte.clear()) : (t = this._readMessage, this._readMessage = ""), t
        }, n.prototype.writeBytes = function (t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 0), this._connected ? this._writeByte ? (this._bytesWrite = !0, this._writeByte.writeBytes(t, e, i), this.flush()) : r.$warn(3102) : r.$warn(3101)
        }, n.prototype.readBytes = function (t, e, i) {
            void 0 === e && (e = 0), void 0 === i && (i = 0), this._readByte ? (this._readByte.position = 0, this._readByte.readBytes(t, e, i), this._readByte.clear()) : r.$warn(3102)
        }, Object.defineProperty(n.prototype, "connected", {
            get: function () {
                return this._connected
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(n.prototype, "type", {
            get: function () {
                return this._type
            },
            set: function (t) {
                (this._type = t) != n.TYPE_BINARY || this._writeByte || (this._readByte = new r.ByteArray, this._writeByte = new r.ByteArray)
            },
            enumerable: !0,
            configurable: !0
        }), n.TYPE_STRING = "webSocketTypeString", n.TYPE_BINARY = "webSocketTypeBinary", n);

        function n(t, e) {
            void 0 === t && (t = ""), void 0 === e && (e = 0);
            e = i.call(this) || this;
            return e._writeMessage = "", e._readMessage = "", e._connected = !1, e._connecting = !1, e._isReadySend = !1, e._bytesWrite = !1, e._type = n.TYPE_STRING, e._connected = !1, e._writeMessage = "", e._readMessage = "", e.socket = new r.ISocket, e.socket.addCallBacks(e.onConnect, e.onClose, e.onSocketData, e.onError, e), e
        }
        r.WebSocket = t, __reflect(t.prototype, "egret.WebSocket")
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            this.host = "", this.port = 0
        }
        e = t.native || (t.native = {}), r.prototype.addCallBacks = function (t, e, i, r, n) {
            this.onConnect = t, this.onClose = e, this.onSocketData = i, this.onError = r, this.thisObject = n
        }, r.prototype.connect = function (t, e) {
            this.host = t, this.port = e;
            e = "ws://" + this.host + ":" + this.port;
            this.socket = new __global.egret_native.WebSocket(e), this._bindEvent()
        }, r.prototype.connectByUrl = function (t) {
            this.socket = new __global.egret_native.WebSocket(t), this._bindEvent()
        }, r.prototype._bindEvent = function () {
            var e = this,
                t = this.socket;
            t.onOpen = function () {
                e.onConnect && e.onConnect.call(e.thisObject)
            }, t.onClose = function () {
                e.onClose && e.onClose.call(e.thisObject)
            }, t.onError = function (t) {
                e.onError && e.onError.call(e.thisObject)
            }, t.onMessage = function (t) {
                e.onSocketData && e.onSocketData.call(e.thisObject, t)
            }
        }, r.prototype.send = function (t) {
            this.socket.send(t)
        }, r.prototype.close = function () {
            this.socket.close()
        }, r.prototype.disconnect = function () {
            this.socket.disconnect && this.socket.disconnect()
        }, i = r, e.NativeSocket = i, __reflect(i.prototype, "egret.native.NativeSocket", ["egret.ISocket"]), t.Capabilities.runtimeType == t.RuntimeType.NATIVE && (t.ISocket = i)
    }(egret = egret || {}),
    function (t) {
        var e, i;

        function r() {
            this.host = "", this.port = 0, window.WebSocket || t.$error(3100)
        }
        e = t.web || (t.web = {}), r.prototype.addCallBacks = function (t, e, i, r, n) {
            this.onConnect = t, this.onClose = e, this.onSocketData = i, this.onError = r, this.thisObject = n
        }, r.prototype.connect = function (t, e) {
            this.host = t, this.port = e;
            e = "ws://" + this.host + ":" + this.port;
            this.socket = new window.WebSocket(e), this.socket.binaryType = "arraybuffer", this._bindEvent()
        }, r.prototype.connectByUrl = function (t) {
            this.socket = new window.WebSocket(t), this.socket.binaryType = "arraybuffer", this._bindEvent()
        }, r.prototype._bindEvent = function () {
            var e = this,
                t = this.socket;
            t.onopen = function () {
                e.onConnect && e.onConnect.call(e.thisObject)
            }, t.onclose = function (t) {
                e.onClose && e.onClose.call(e.thisObject)
            }, t.onerror = function (t) {
                e.onError && e.onError.call(e.thisObject)
            }, t.onmessage = function (t) {
                e.onSocketData && e.onSocketData.call(e.thisObject, t.data)
            }
        }, r.prototype.send = function (t) {
            this.socket.send(t)
        }, r.prototype.close = function () {
            this.socket.close()
        }, r.prototype.disconnect = function () {
            this.socket.disconnect && this.socket.disconnect()
        }, i = r, e.HTML5WebSocket = i, __reflect(i.prototype, "egret.web.HTML5WebSocket", ["egret.ISocket"]), t.Capabilities.runtimeType == t.RuntimeType.WEB && (t.ISocket = i)
    }(egret = egret || {});
var __reflect = this && this.__reflect || function (t, e, i) {
        t.__class__ = e, i ? i.push(e) : i = [e], t.__types__ = t.__types__ ? i.concat(t.__types__) : i
    },
    __extends = this && this.__extends || function () {
        var r = Object.setPrototypeOf || {
            __proto__: []
        }
        instanceof Array && function (t, e) {
            t.__proto__ = e
        } || function (t, e) {
            for (var i in e) e.hasOwnProperty(i) && (t[i] = e[i])
        };
        return function (t, e) {
            function i() {
                this.constructor = t
            }
            r(t, e), t.prototype = null === e ? Object.create(e) : (i.prototype = e.prototype, new i)
        }
    }(),
    egret, egret, egret;
! function (t) {
    var e = (i.get = function (e) {
        return 1 < (e = e < -1 ? -1 : e) && (e = 1),
            function (t) {
                return 0 == e ? t : e < 0 ? t * (t * -e + 1 + e) : t * ((2 - t) * e + (1 - e))
            }
    }, i.getPowIn = function (e) {
        return function (t) {
            return Math.pow(t, e)
        }
    }, i.getPowOut = function (e) {
        return function (t) {
            return 1 - Math.pow(1 - t, e)
        }
    }, i.getPowInOut = function (e) {
        return function (t) {
            return (t *= 2) < 1 ? .5 * Math.pow(t, e) : 1 - .5 * Math.abs(Math.pow(2 - t, e))
        }
    }, i.sineIn = function (t) {
        return 1 - Math.cos(t * Math.PI / 2)
    }, i.sineOut = function (t) {
        return Math.sin(t * Math.PI / 2)
    }, i.sineInOut = function (t) {
        return -.5 * (Math.cos(Math.PI * t) - 1)
    }, i.getBackIn = function (e) {
        return function (t) {
            return t * t * ((e + 1) * t - e)
        }
    }, i.getBackOut = function (e) {
        return function (t) {
            return --t * t * ((e + 1) * t + e) + 1
        }
    }, i.getBackInOut = function (e) {
        return e *= 1.525,
            function (t) {
                return (t *= 2) < 1 ? t * t * ((e + 1) * t - e) * .5 : .5 * ((t -= 2) * t * ((e + 1) * t + e) + 2)
            }
    }, i.circIn = function (t) {
        return -(Math.sqrt(1 - t * t) - 1)
    }, i.circOut = function (t) {
        return Math.sqrt(1 - --t * t)
    }, i.circInOut = function (t) {
        return (t *= 2) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
    }, i.bounceIn = function (t) {
        return 1 - i.bounceOut(1 - t)
    }, i.bounceOut = function (t) {
        return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375
    }, i.bounceInOut = function (t) {
        return t < .5 ? .5 * i.bounceIn(2 * t) : .5 * i.bounceOut(2 * t - 1) + .5
    }, i.getElasticIn = function (i, r) {
        var n = 2 * Math.PI;
        return function (t) {
            if (0 == t || 1 == t) return t;
            var e = r / n * Math.asin(1 / i);
            return -(i * Math.pow(2, 10 * --t) * Math.sin((t - e) * n / r))
        }
    }, i.getElasticOut = function (i, r) {
        var n = 2 * Math.PI;
        return function (t) {
            if (0 == t || 1 == t) return t;
            var e = r / n * Math.asin(1 / i);
            return i * Math.pow(2, -10 * t) * Math.sin((t - e) * n / r) + 1
        }
    }, i.getElasticInOut = function (i, r) {
        var n = 2 * Math.PI;
        return function (t) {
            var e = r / n * Math.asin(1 / i);
            return (t *= 2) < 1 ? i * Math.pow(2, 10 * --t) * Math.sin((t - e) * n / r) * -.5 : i * Math.pow(2, -10 * --t) * Math.sin((t - e) * n / r) * .5 + 1
        }
    }, i.quadIn = i.getPowIn(2), i.quadOut = i.getPowOut(2), i.quadInOut = i.getPowInOut(2), i.cubicIn = i.getPowIn(3), i.cubicOut = i.getPowOut(3), i.cubicInOut = i.getPowInOut(3), i.quartIn = i.getPowIn(4), i.quartOut = i.getPowOut(4), i.quartInOut = i.getPowInOut(4), i.quintIn = i.getPowIn(5), i.quintOut = i.getPowOut(5), i.quintInOut = i.getPowInOut(5), i.backIn = i.getBackIn(1.7), i.backOut = i.getBackOut(1.7), i.backInOut = i.getBackInOut(1.7), i.elasticIn = i.getElasticIn(1, .3), i.elasticOut = i.getElasticOut(1, .3), i.elasticInOut = i.getElasticInOut(1, .3 * 1.5), i);

    function i() {
        t.$error(1014)
    }
    t.Ease = e, __reflect(e.prototype, "egret.Ease")
}(egret = egret || {}),
function (o) {
    var n, t = (n = o.EventDispatcher, __extends(d, n), d.get = function (t, e, i, r) {
        return void 0 === i && (i = null), (r = void 0 === r ? !1 : r) && d.removeTweens(t), new d(t, e, i)
    }, d.removeTweens = function (t) {
        if (t.tween_count) {
            for (var e = d._tweens, i = e.length - 1; 0 <= i; i--) e[i]._target == t && (e[i].paused = !0, e.splice(i, 1));
            t.tween_count = 0
        }
    }, d.pauseTweens = function (t) {
        if (t.tween_count)
            for (var e = o.Tween._tweens, i = e.length - 1; 0 <= i; i--) e[i]._target == t && (e[i].paused = !0)
    }, d.resumeTweens = function (t) {
        if (t.tween_count)
            for (var e = o.Tween._tweens, i = e.length - 1; 0 <= i; i--) e[i]._target == t && (e[i].paused = !1)
    }, d.tick = function (t, e) {
        void 0 === e && (e = !1);
        var i = t - d._lastTime;
        d._lastTime = t;
        for (var r = d._tweens.concat(), n = r.length - 1; 0 <= n; n--) {
            var o = r[n];
            e && !o.ignoreGlobalPause || o.paused || o.$tick(o._useTicks ? 1 : i)
        }
        return !1
    }, d._register = function (t, e) {
        var i = t._target,
            r = d._tweens;
        if (e) i && (i.tween_count = 0 < i.tween_count ? i.tween_count + 1 : 1), r.push(t), d._inited || (d._lastTime = o.getTimer(), o.ticker.$startTick(d.tick, null), d._inited = !0);
        else {
            i && i.tween_count--;
            for (var n = r.length; n--;)
                if (r[n] == t) return void r.splice(n, 1)
        }
    }, d.removeAllTweens = function () {
        for (var t = d._tweens, e = 0, i = t.length; e < i; e++) {
            var r = t[e];
            r.paused = !0, r._target.tween_count = 0
        }
        t.length = 0
    }, d.prototype.initialize = function (t, e, i) {
        this._target = t, e && (this._useTicks = e.useTicks, this.ignoreGlobalPause = e.ignoreGlobalPause, this.loop = e.loop, e.onChange && this.addEventListener("change", e.onChange, e.onChangeObj), e.override && d.removeTweens(t)), this.pluginData = i || {}, this._curQueueProps = {}, this._initQueueProps = {}, this._steps = [], e && e.paused ? this.paused = !0 : d._register(this, !0), e && null != e.position && this.setPosition(e.position, d.NONE)
    }, d.prototype.setPosition = function (t, e) {
        void 0 === e && (e = 1);
        var i, r = t = t < 0 ? 0 : t,
            n = !1;
        if (r >= this.duration && (this.loop ? (i = r % this.duration, r = 0 < r && 0 == i ? this.duration : i) : (r = this.duration, n = !0)), r == this._prevPos) return n;
        n && this.setPaused(!0);
        var o = this._prevPos;
        if (this.position = this._prevPos = r, this._prevPosition = t, this._target && 0 < this._steps.length) {
            for (var s = this._steps.length, a = -1, h = 0; h < s && !("step" == this._steps[h].type && (a = h, this._steps[h].t <= r && this._steps[h].t + this._steps[h].d >= r)); h++);
            for (var l, h = 0; h < s; h++) "action" == this._steps[h].type ? 0 != e && (this._useTicks ? this._runAction(this._steps[h], r, r) : 1 == e && r < o ? (o != this.duration && this._runAction(this._steps[h], o, this.duration), this._runAction(this._steps[h], 0, r, !0)) : this._runAction(this._steps[h], o, r)) : "step" == this._steps[h].type && a == h && (l = this._steps[a], this._updateTargetProps(l, Math.min((this._stepPosition = r - l.t) / l.d, 1)))
        }
        return this.dispatchEventWith("change"), n
    }, d.prototype._runAction = function (t, e, i, r) {
        void 0 === r && (r = !1);
        var n = e,
            o = i;
        i < e && (n = i, o = e);
        i = t.t;
        (i == o || n < i && i < o || r && i == e) && t.f.apply(t.o, t.p)
    }, d.prototype._updateTargetProps = function (t, e) {
        var i, r, n, o, s, a;
        if (t || 1 != e) {
            if (this.passive = !!t.v, this.passive) return;
            t.e && (e = t.e(e, 0, 1, 1)), i = t.p0, r = t.p1
        } else this.passive = !1, i = r = this._curQueueProps;
        for (a in this._initQueueProps) {
            null == (n = i[a]) && (i[a] = n = this._initQueueProps[a]), null == (o = r[a]) && (r[a] = o = n);
            var h = n == o || 0 == e || 1 == e || "number" != typeof n ? 1 == e ? o : n : n + (o - n) * e,
                l = !1;
            if (s = d._plugins[a])
                for (var u = 0, c = s.length; u < c; u++) {
                    var p = s[u].tween(this, a, h, i, r, e, !!t && i == r, !t);
                    p == d.IGNORE ? l = !0 : h = p
                }
            l || (this._target[a] = h)
        }
    }, d.prototype.setPaused = function (t) {
        return this.paused == t || (this.paused = t, d._register(this, !t)), this
    }, d.prototype._cloneProps = function (t) {
        var e, i = {};
        for (e in t) i[e] = t[e];
        return i
    }, d.prototype._addStep = function (t) {
        return 0 < t.d && (t.type = "step", this._steps.push(t), t.t = this.duration, this.duration += t.d), this
    }, d.prototype._appendQueueProps = function (t) {
        var e, i, r, n, o, s;
        for (s in t)
            if (void 0 === this._initQueueProps[s]) {
                if (i = this._target[s], e = d._plugins[s])
                    for (r = 0, n = e.length; r < n; r++) i = e[r].init(this, s, i);
                this._initQueueProps[s] = this._curQueueProps[s] = void 0 === i ? null : i
            } else i = this._curQueueProps[s];
        for (s in t) {
            if (i = this._curQueueProps[s], e = d._plugins[s])
                for (o = o || {}, r = 0, n = e.length; r < n; r++) e[r].step && e[r].step(this, s, i, t[s], o);
            this._curQueueProps[s] = t[s]
        }
        return o && this._appendQueueProps(o), this._curQueueProps
    }, d.prototype._addAction = function (t) {
        return t.t = this.duration, t.type = "action", this._steps.push(t), this
    }, d.prototype._set = function (t, e) {
        for (var i in t) e[i] = t[i]
    }, d.prototype.wait = function (t, e) {
        if (null == t || t <= 0) return this;
        var i = this._cloneProps(this._curQueueProps);
        return this._addStep({
            d: t,
            p0: i,
            p1: i,
            v: e
        })
    }, d.prototype.to = function (t, e, i) {
        return void 0 === i && (i = void 0), (isNaN(e) || e < 0) && (e = 0), this._addStep({
            d: e || 0,
            p0: this._cloneProps(this._curQueueProps),
            e: i,
            p1: this._cloneProps(this._appendQueueProps(t))
        }), this.set(t)
    }, d.prototype.call = function (t, e, i) {
        return this._addAction({
            f: t,
            p: (i = void 0 === i ? void 0 : i) || [],
            o: (e = void 0 === e ? void 0 : e) || this._target
        })
    }, d.prototype.set = function (t, e) {
        return void 0 === e && (e = null), this._appendQueueProps(t), this._addAction({
            f: this._set,
            o: this,
            p: [t, e || this._target]
        })
    }, d.prototype.play = function (t) {
        return this.call((t = t || this).setPaused, t, [!1])
    }, d.prototype.pause = function (t) {
        return this.call((t = t || this).setPaused, t, [!0])
    }, d.prototype.$tick = function (t) {
        this.paused || this.setPosition(this._prevPosition + t)
    }, d.NONE = 0, d.LOOP = 1, d.REVERSE = 2, d._tweens = [], d.IGNORE = {}, d._plugins = {}, d._inited = !1, d._lastTime = 0, d);

    function d(t, e, i) {
        var r = n.call(this) || this;
        return r._target = null, r._useTicks = !1, r.ignoreGlobalPause = !1, r.loop = !1, r.pluginData = null, r._steps = null, r.paused = !1, r.duration = 0, r._prevPos = -1, r.position = null, r._prevPosition = 0, r._stepPosition = 0, r.passive = !1, r.initialize(t, e, i), r
    }
    o.Tween = t, __reflect(t.prototype, "egret.Tween")
}(egret = egret || {}),
function ($) {
    ! function (t) {
        var e, i = (e = $.EventDispatcher, __extends(r, e), r);

        function r() {
            var t = null !== e && e.apply(this, arguments) || this;
            return t.name = "", t
        }
        t.BasePath = i, __reflect(i.prototype, "egret.tween.BasePath");
        var n, o = (__extends(s, n = i), s);

        function s() {
            var t = null !== n && n.apply(this, arguments) || this;
            return t.props = void 0, t.duration = 500, t.ease = void 0, t
        }
        t.To = o, __reflect(o.prototype, "egret.tween.To");
        var a, h = (__extends(l, a = i), l);

        function l() {
            var t = null !== a && a.apply(this, arguments) || this;
            return t.duration = 500, t.passive = void 0, t
        }
        t.Wait = h, __reflect(h.prototype, "egret.tween.Wait");
        var u, c = (__extends(p, u = i), p);

        function p() {
            var t = null !== u && u.apply(this, arguments) || this;
            return t.props = void 0, t
        }
        t.Set = c, __reflect(c.prototype, "egret.tween.Set");
        var d, f = (__extends(g, d = i), g);

        function g() {
            var t = null !== d && d.apply(this, arguments) || this;
            return t.delta = 0, t
        }
        t.Tick = f, __reflect(f.prototype, "egret.tween.Tick");
        var y, i = (y = $.EventDispatcher, __extends(v, y), Object.defineProperty(v.prototype, "props", {
            get: function () {
                return this._props
            },
            set: function (t) {
                this._props = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(v.prototype, "target", {
            get: function () {
                return this._target
            },
            set: function (t) {
                this._target = t
            },
            enumerable: !0,
            configurable: !0
        }), Object.defineProperty(v.prototype, "paths", {
            get: function () {
                return this._paths
            },
            set: function (t) {
                this._paths = t || []
            },
            enumerable: !0,
            configurable: !0
        }), v.prototype.play = function (t) {
            this.tween ? (this.tween.setPaused(!1), this.isStop && null == t && (t = 0, this.isStop = !1), null != t && this.tween.setPosition(t)) : this.createTween(t)
        }, v.prototype.pause = function () {
            this.tween && this.tween.setPaused(!0)
        }, v.prototype.stop = function () {
            this.pause(), this.isStop = !0
        }, v.prototype.createTween = function (t) {
            this.tween = $.Tween.get(this._target, this._props), this._paths && this.applyPaths(), null != t && this.tween.setPosition(t)
        }, v.prototype.applyPaths = function () {
            for (var t = 0; t < this._paths.length; t++) {
                var e = this._paths[t];
                this.applyPath(e)
            }
        }, v.prototype.applyPath = function (t) {
            var e, i = this;
            t instanceof o ? this.tween.to(t.props, t.duration, "function" == typeof (e = t.ease) || "function" == typeof (e = $.Ease[e]) ? e : null) : t instanceof h ? this.tween.wait(t.duration, t.passive) : t instanceof c ? this.tween.set(t.props) : t instanceof f && this.tween.$tick(t.delta), this.tween.call(function () {
                return i.pathComplete(t)
            })
        }, v.prototype.pathComplete = function (t) {
            t.dispatchEventWith("complete"), this.dispatchEventWith("pathComplete", !1, t);
            t = this._paths.indexOf(t);
            0 <= t && t === this._paths.length - 1 && this.dispatchEventWith("complete")
        }, v);

        function v() {
            var t = y.call(this) || this;
            return t.isStop = !1, t
        }
        t.TweenItem = i, __reflect(i.prototype, "egret.tween.TweenItem"), b(i, "paths", "Array", !0);
        var m, i = (m = $.EventDispatcher, __extends(_, m), Object.defineProperty(_.prototype, "items", {
            get: function () {
                return this._items
            },
            set: function (t) {
                this.completeCount = 0, this.registerEvent(!1), this._items = t, this.registerEvent(!0)
            },
            enumerable: !0,
            configurable: !0
        }), _.prototype.registerEvent = function (e) {
            var i = this;
            this._items && this._items.forEach(function (t) {
                e ? t.addEventListener("complete", i.itemComplete, i) : t.removeEventListener("complete", i.itemComplete, i)
            })
        }, _.prototype.play = function (t) {
            if (this._items)
                for (var e = 0; e < this._items.length; e++) this._items[e].play(t)
        }, _.prototype.pause = function () {
            if (this._items)
                for (var t = 0; t < this._items.length; t++) this._items[t].pause()
        }, _.prototype.stop = function () {
            if (this._items)
                for (var t = 0; t < this._items.length; t++) this._items[t].stop()
        }, _.prototype.itemComplete = function (t) {
            t = t.currentTarget;
            this.completeCount++, this.dispatchEventWith("itemComplete", !1, t), this.completeCount === this.items.length && (this.dispatchEventWith("complete"), this.completeCount = 0)
        }, _);

        function _() {
            var t = m.call(this) || this;
            return t.completeCount = 0, t
        }

        function b(t, e, i, r) {
            t = t.prototype;
            t.__meta__ = t.__meta__ || {}, t.__meta__[e] = i, r && (t.__defaultProperty__ = e)
        }
        t.TweenGroup = i, __reflect(i.prototype, "egret.tween.TweenGroup"), b(i, "items", "Array", !0)
    }($.tween || ($.tween = {}))
}(egret = egret || {});